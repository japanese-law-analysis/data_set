{
  "trial_type": "IPCase",
  "date": {
    "era": "Reiwa",
    "year": 3,
    "month": 3,
    "day": 30
  },
  "case_number": "令和2(行ケ)10032",
  "case_name": "特許取消決定取消請求事件",
  "court_name": "知的財産高等裁判所",
  "right_type": "特許権",
  "lawsuit_type": "行政訴訟",
  "lawsuit_id": "90205",
  "detail_page_link": "https://www.courts.go.jp/app/hanrei_jp/detail7?id=90205",
  "full_pdf_link": "https://www.courts.go.jp/app/files/hanrei_jp/205/090205_hanrei.pdf",
  "contents": "令和３年３月３０日判決言渡\n令和２年（行ケ）第１００３２号  特許取消決定取消請求事件\n口頭弁論終結日  令和３年２月１８日\n判                  決\n原             告          株 式 会 社 リ コ ー\n同訴訟代理人弁理士          新    川      圭      二\n被             告          特 許 庁 長 官\n同指定代理 人          小    池      正      彦\n同                          清    水      正      一\n同                          梶    尾      誠      哉\n主                  文\n１  特許庁が異議２０１８－７００１９６号特許異議申立事件について令和\n２年１月３１日にした決定のうち，特許第６１９１９２８号の請求項１，\n３，４，６，７に係る部分を取り消す。\n２  訴訟費用は被告の負担とする。\n事 実 及 び 理 由\n第１  請求\n主文同旨\n第２  事案の概要\n１  特許庁における手続の経緯等（当事者間に争いがない。）\n(1)  原告は，平成１９年１０月２７日を出願日とする特許出願（特願２００７\n－２７９７２７号。優先権主張番号特願２００７－２４３１３８号。優先権\n主張日平成１９年９月１９日（以下「本件優先日」という。））の一部を，平\n成２４年７月１７日を出願日とする特許出願（特願２０１２－１５８６４６\n号），同年１１月１６日を出願日とする特許出願（特願２０１２－２５２７４\n９号），平成２５年１１月２０日を出願日とする特許出願（特願２０１３－２\n３９６１４号）の各分割を経て，平成２８年１月４日，発明の名称を「撮像\n装置」とする発明について特許出願（以下「本件出願」という。）をし，平成\n２９年８月１８日，特許権の設定登録を受けた（特許第６１９１９２８号。\n請求項の数７。以下，この特許を「本件特許」という。）。\n(2)  本件特許について，平成３０年３月５日，キャノン株式会社から特許異議\nの申立て（異議２０１８－７００１９６号事件）がされた。\n原告は，平成３０年５月２５日付けで取消理由通知を受けたため，同年７\n月２７日付けで，請求項１ないし７を一群の請求項として，特許請求の範囲\n及び本件出願の願書に添付した明細書（以下「本件明細書」という。）の記載\nについて訂正請求（以下「本件訂正請求」という。）をした。\nその後，特許庁は，令和２年１月３１日，本件訂正請求を認めた上で，「特\n許第６１９１９２８号の請求項１，３，４，６，７に係る特許を取り消す。\n特許第６１９１９２８号の請求項２及び５に係る特許についての異議申立て\nを却下する」旨の決定（以下「本件決定」という。）をし，その謄本は，同年\n２月１２日，原告に送達された。\n(3)  原告は，令和２年３月１３日，本件決定のうち，特許第６１９１９２８号\nの請求項１，３，４，６，７に係る部分の取消しを求める本件訴訟を提起し\nた。\n２  特許請求の範囲の記載\n本件訂正請求後の特許請求の範囲の請求項１ないし７の記載は，以下のとお\nりである（甲２０。以下，請求項の番号に応じて，本件訂正請求後の請求項１\nに係る発明を「本件発明１」などという。）。\n【請求項１】\n撮像素子と，前記撮像素子により撮像された画像を表示する画像表示部と，\nロール方向の傾きとピッチ方向の傾きを検出する傾き検出部と，前記画像表示\n部に前記傾き検出部により検出されたロール方向の傾き情報を表示し，\n撮像装置のロール方向の傾きに応じてロール方向の傾き情報の表示位置を前\n記画像表示部の長手方向または短手方向の端辺部に沿った位置に切り替える表\n示制御手段と，を有する撮像装置において，\n前記表示制御手段は，前記傾き検出部により検出されたピッチ方向の傾きが\n所定の範囲内のときは，ロール方向の傾き情報の表示位置を切り替え，\nピッチ方向の傾きが所定の範囲を超えたときは，ロール方向の傾き情報の表\n示位置を切り替えないことを特徴とする撮像装置。\n【請求項２】\n（削除）\n【請求項３】\n前記傾き情報は，ロール方向の傾き量に応じた傾きを示すロール角傾き情報\nであり，\n前記表示制御手段は，前記ロール角傾き情報に対応する表示である傾きガイ\nドを表示することを特徴とする請求項１に記載の撮像装置。\n【請求項４】\n前記傾きガイドは，前記撮像装置のロール方向の傾き量が小さい状態から大\nきくなった際には，表示スケールの色を変える構成としたことを特徴とする請\n求項３に記載の撮像装置。\n【請求項５】\n（削除）\n【請求項６】\n前記表示制御手段は，ピッチ方向の傾き量が所定の範囲を超えたとき前記傾\nきガイドの表示形態を変更することを特徴とする請求項３または請求項４に記\n載の撮像装置。\n【請求項７】\n前記ロール方向の傾きは６０度であることを特徴とする請求項１に記載の撮\n像装置。\n３  本件決定の要旨（ただし，請求項１，３，４，６及び７に関する部分に限る。）\n(1)  本件決定の要旨は，①請求項１，３及び７の特許に係る各発明は，甲１（特\n開２００７－７４０７７号公報）に記載された発明（以下「甲１発明」とい\nう。）及び甲２（特開２００４－３４３４７６号公報）に記載された発明（以\n下「甲２発明」という。）に基づいて当業者が容易に発明することができたも\nのであるから，特許法２９条２項の規定に違反してされたものである，②請\n求項４及び６の特許に係る各発明は，甲１発明，甲２発明並びに甲３（特開\n２００６－３２４９４８号公報）及び甲５（特開２００１－７４４５０号公\n報）に記載された周知技術に基づいて当業者が容易に発明することができた\nものであるから，同項の規定に違反してされたものである，③したがって，\n本件特許の請求項１，３，４，６及び７に係る特許は，いずれも特許法１１\n３条２項に該当し，取り消されるべきものである，というものである。\n(2)  本件発明１，本件決定が認定した甲１発明及び甲２発明，並びに同決定が\n認定した本件発明１と甲１発明との一致点及び相違点は，次のとおりである\n（なお，分説は本件決定による。）。\nア  本件発明１\n（１Ａ）撮像素子と，\n（１Ｂ）前記撮像素子により撮像された画像を表示する画像表示部と，\n（１Ｃ）ロール方向の傾きとピッチ方向の傾きを検出する傾き検出部と，\n（１Ｄ－１）前記画像表示部に前記傾き検出部により検出されたロール方向\nの傾き情報を表示し，\n（１Ｄ－２）撮像装置のロール方向の傾きに応じてロール方向の傾き情報の\n表示位置を前記画像表示部の長手方向または短手方向の端辺部に沿っ\nた位置に切り替える\n（１Ｄ）表示制御手段と，\n（１Ｅ）を有する撮像装置において，\n（１Ｆ）前記表示制御手段は，前記傾き検出部により検出されたピッチ方向\nの傾きが所定の範囲内のときは，ロール方向の傾き情報の表示位置を\n切り替え，\n（１Ｇ）ピッチ方向の傾きが所定の範囲を超えたときは，ロール方向の傾き\n情報の表示位置を切り替えないこと\n（１Ｈ）を特徴とする撮像装置。\nイ  甲１発明\n（１ａ）撮像素子と，\n（１ｂ）撮像時に，撮像対象の画像が逐次表示される表示部と，\n（１ｃ）２軸の重力加速度センサーであって，第１軸（方向Ｄ４０１）と水\n平面とが成す角度である第１傾斜度および第２軸（方向Ｄ４０２）と\n水平面とが成す角度である第２傾斜度を測定する傾斜測定部と，\n（１ｄ）前記第１傾斜度および第２傾斜度に基づいて，前記画像撮像装置の\n天地方向の算出を行う制御部と，\n（１ｅ）前記第１傾斜度および第２傾斜度のデータである傾斜度データと，\n前記画像撮像装置の天地方向を示すデータである天地方向データとを\n記憶する傾斜情報記憶部と，\n（１ｆ）を有する前記画像撮像装置において，\n（１ｇ）前記制御部は，前記第１傾斜度および第２傾斜度のいずれかが，所\n定値以上であるか否かを判定し，前記判定においてＹＥＳならば，\n（１ｇ－１）前記第１傾斜度および第２傾斜度に基づいて，前記画像撮像装\n置の天地方向の算出を行い，\n（１ｇ－２）前記天地方向の算出結果に基づく天地方向の情報を表示した報\n知画像を生成し，前記報知画像を表示部に表示させ，\n（１ｇ－３）前記報知画像は，前記画像撮像装置が右に３０度傾いた状態で\nある場合の，天地方向の情報を示す矢印５１２を表示した報知画像６\n００Ａであり，\n（１ｇ－４）前記傾斜度データと前記天地方向データを，傾斜情報記憶部に\n記憶し，\n（１ｈ－１）前記判定においてＮＯならば，前記第１傾斜度および第２傾斜\n度に基づいて，前記画像撮像装置の天地方向の算出を行い，\n（１ｈ－２）画像撮像装置が水平面に対し平行である場合，前記傾斜情報記\n憶部に記憶されている傾斜度データおよび天地方向データの少なくと\nも一方に基づいて，前記画像撮像装置の天地方向の判定を行い，\n（１ｈ－３）前記天地方向の算ｇ出結果に基づく天地方向の情報を表示した\n報知画像を生成し，前記報知画像を表示部に表示させ，\n（１ｉ）天地方向に対応する画像撮像装置の正対方向を決定するために，ユ\nーザがシャッターボタン押下操作を行うまで，当該動作を繰り返す\n（１ｊ）画像撮像装置。\nウ  甲２発明\n撮像素子と，\n前記撮像素子の撮像結果を取得して表示する表示部と，\nＸ方向及びＹ方向を基準軸とする加速度センサからなる傾きセンサと，\n傾き検出センサによるＸ方向，Ｙ方向の傾き検出結果に基づいて，撮像\n結果の傾きを表示部で表示し，\n傾き検出センサの出力信号により，縦長の構図による撮像結果か，横長\nの構図による撮像結果かを判定し，これら縦長及び横長の構図に対応する\nように表示を切り換えて，傾きを表示するシステム制御回路と，\nを有する電子スチルカメラ。\nエ  本件発明と甲１発明との一致点及び相違点\n（一致点）\n撮像素子と，\n前記撮像素子により撮像された画像を表示する画像表示部と，\nロール方向の傾きとピッチ方向の傾きを検出する傾き検出部と，\n前記画像表示部に前記傾き検出部により検出されたロール方向の傾き\n情報を表示する表示制御手段と，\nを有する撮像装置。\n（相違点１）\n表示制御手段が，本件発明１においては，「撮像装置のロール方向の傾き\nに応じてロール方向の傾き情報の表示位置を前記画像表示部の長手方向\nまたは短手方向の端辺部に沿った位置に切り替える」ものであるのに対し，\n甲１発明においては，「撮像装置のロール方向の傾きに応じてロール方向\nの傾き情報の表示位置を前記画像表示部の長手方向または短手方向の端\n辺部に沿った位置に切り替える」ものではない点\n（相違点２）\n表示制御手段が，本件発明１においては，「前記傾き検出部により検出さ\nれたピッチ方向の傾きが所定の範囲内のときは，ロール方向の傾き情報の\n表示位置を切り替え，ピッチ方向の傾きが所定の範囲を超えたときは，ロ\nール方向の傾き情報の表示位置を切り替えない」ものであるのに対し，甲\n１発明においては，「前記傾き検出部により検出されたピッチ方向の傾き\nが所定の範囲内のときは，ロール方向の傾き情報の表示位置を切り替え，\nピッチ方向の傾きが所定の範囲を超えたときは，ロール方向の傾き情報の\n表示位置を切り替えない」ものでない点\n第３  当事者の主張\n１  取消事由１（本件発明１の容易想到性の判断の誤り）\n(1)  原告の主張\nア  一致点の認定の誤り及び相違点の看過が存在すること\n本件決定は，① 甲１発明の「制御部」は，構成１ｇ－１，１ｇ－２に\nよると，第１傾斜度及び第２傾斜度に基づいて画像撮像装置の天地方向の\n算出を行い，前記天地方向の算出結果に基づく報知画像を生成し，前記報\n知画像を表示部に表示させるものであり，また，構成１ｇ－３によると，\n報知画像は天地方向を示す矢印である， 表示部に天地方向を示す矢印で\nある報知画像を表示させるためには，表示部の基準となる位置において天\n地方向がどの向きであるのかを計算することが必要であり，天地方向の向\nきは，表示部の回転した角度である， 表示部は画像撮像装置に固定され\nているから，表示部の回転した角度は，画像撮像装置の回転した角度，す\nなわちロール方向の傾きである， そうすると，構成１ｃ，１ｄ，１ｇ－\n１ないし１ｇ－３における「傾斜測定部」及び「制御部」は，「ロール方向\nの傾きを検出する」といえる，②甲１発明において，カメラを横向きにし\nた状態から，カメラを下方向に傾けると，第１傾斜度がピッチ方向の傾き\nとなり，カメラを縦向きにした状態からカメラを下方向に傾けると，第２\n傾斜度がピッチ方向の傾きとなるから，「傾斜測定部」及び「制御部」は上\n記状態の「ピッチ方向の傾き」を検出しているといえる，③したがって，\n構成１ｃ，１ｄ，１ｇないし１ｉの「傾斜測定部」及び「制御部」は，構\n成要件１Ｃの「ロール方向の傾きとピッチ方向の傾きを検出する傾き検出\n部」と一致する旨判断した。\nしかし，本件決定の上記判断は，以下のとおり誤りである。\n(ア)  「ロール方向の傾き」の認定（上記① ないし ）について\nａ  甲第１号証（書証については，以下，単に「甲１」などという。）の\n【００７６】，【００７７】，【００８７】ないし【００８９】の各記載\n及び【図５】によれば，甲１発明の「天地方向」とは，図５に示され\nる方向Ｄ４０１軸の方向又は方向Ｄ４０２の軸の方向，すなわち，画\n像撮像装置を横置きした場合又は縦置きした場合の画像撮像装置の上\n下方向を意味するものである。\n他方で，甲１の【０１０１】には「図９は，水平面Ｐ３０２に対し，\n画像撮像装置１０００を斜めに傾けた場合の表示部１５０に表示され\nる画像５１０の一例を示す。図９を参照して，画像５１０には，記号\nとして矢印５１２が表示される。矢印５１２が示すのは，画像撮像装\n置１０００の天地方向の「天」となる。画像５１０には，撮像対象と\nなる画像と，矢印５１２とが同時に表示される。」との記載があり，矢\n印５１２が示す「天地方向」は，図９を参照すると，画像撮影装置を\n横置きした場合又は縦置きした場合の画像撮像装置の上下方向とは異\nなり，鉛直方向を示すものであるようにも見受けられるが，いずれに\nしても，甲１には，図９の矢印５１２の向きがどのように定義され，\n算出されるのかについて記載はない。\nそれにもかかわらず，本件決定は，上記① 及び のとおり判断し\nて，甲１発明の「天地方向の向き」を根拠もなく「ロール方向の向き」\nであるとして一致点として認定しており，誤りである。\nｂ  仮に，甲１の【図１３】等の記載に基づいて，天地方向の情報を示\nすとされる矢印５１２が画像撮像装置の傾きに関連する情報を示すも\nのであると仮定しても，甲１の【００６７】ないし【００７３】，【０\n０７６】，【００８３】ないし【００８５】，【０１０８】の各記載，【図\n４】，【図５】及び【図９】によれば，甲１において報知画像に表示さ\nれる「傾斜度」は，第１傾斜度又は第２傾斜度であるが，これらは，\nそれぞれ「２軸の重力加速度センサーの第１軸の方向と水明面とが成\nす角度」，「２軸の重力加速度センサーの第２軸の方向と水平面とが成\nす角度」である。このように，甲１の報知画像として表示される画像\n撮影装置の傾斜度は，【００７２】の「式(3)」に基づき，２軸の重力加\n速度センサーの１つの軸方向の出力値のみから算出される。これに対\nして，本件発明１の「ロール方向の傾き」であるロール角は，本件明\n細書の【００４３】で示されるように，加速度センサの２軸のＸ，Ｙ\nのデータから式(1)により算出されるものであり，軸Ｄ４０１，軸Ｄ４\n０２の傾斜度のいずれか一方しか算出しない甲１の「傾斜度」（「第１\nの傾斜度」，「第２の傾斜度」）は，本件発明１の「ロール方向の傾き」\nとは異なるものであることは明らかである。\nまた，請求項１（本件発明１）の「ロール方向の傾きとピッチ方向\nの傾きを検出する傾き検出部」との文言からすれば，ロール方向の傾\nきとピッチ方向の傾きは互いに相関関係にあることが明らかである。\nすなわち，上記のとおり，本件発明１のロール方向の傾き，ピッチ方\n向の傾きは，いずれも加速度センサのＸ軸，Ｙ軸を用いて算出される\n（【００４３】，【００６２】）ところ，カメラをピッチ方向に傾けた状\n態でロール方向に傾けると，加速度センサのＸ軸，Ｙ軸の出力値が変\n動し，【００６２】の(2)式で得られるピッチ方向の傾きも変動し，カメ\nラをロール方向に傾けた状態でピッチ方向に傾けると，加速度センサ\nのＸ軸，Ｙ軸の出力値が変動し，【００４３】の(1)式で得られるロール\n方向の傾きが変動する関係にある。\nそうすると，上記のとおり，矢印５１２が画像撮像装置の傾き（例\nえば，図１３の「画像撮像装置１０００が右に３０°傾いた状態であ\nる」こと）に関連する情報を示すものであると仮定しても，同矢印５\n１２が示す情報は，本件発明１の「ロール方向の傾き」のような画像\n撮像装置の３次元に関する情報ではない。\nそれにもかかわらず，本件決定は，上記① 及び のとおり，ピッ\nチ方向を固定してロール方向に傾けた場合とロール方向を固定してピ\nッチ方向に傾けた場合という極めて限られた条件のときのみを抜き出\nして認定しており，誤りである。\nｃ  以上によれば，甲１発明の「天地方向」の向きは「ロール方向の傾\nき」であり，構成１ｃ，１ｄ，１ｇ－１～１ｇ－３における「傾斜測\n定部」及び「制御部」は，「ロール方向の傾きを検出する」と判断した\n本件決定は誤りである。\n(イ)  「ピッチ方向の傾き」の認定（上記②）について\n甲１発明の「第１傾斜度」又は「第２傾斜度」は，甲１の【００７２】\nの式(3)に基づき，２軸の重力加速度センサーの１つの軸方向の出力値の\nみから算出されるものであることは，前記(ア)ｂのとおりである。これ\nに対し，本件発明１の「ピッチ方向」の傾きであるピッチ角は，本件明\n細書の【００６２】の式(2)で定義されているように，加速度センサの２\n軸Ｘ軸，Ｙ軸のデータから算出されるものであって，甲１の「傾斜度」\n（「第１の傾斜度」や「第２の傾斜度」）は，本件発明１の「ピッチ方向\nの傾き」とは相違するものである。\n本件決定は，上記②のとおり，「カメラを横向きにした状態から，カメ\nラを下方向に傾けると，第１傾斜度がピッチ方向の傾きとなり，カメラ\nを縦向きにした状態からカメラを下方向に傾けると，第２傾斜度がピッ\nチ方向の傾きとなる」といった特定の使用形態において「第１傾斜角」\n又は「第２傾斜角」の値が本件発明１の「ピッチ方向の傾き」と一致す\nることがあることに基づいて「第１傾斜角」と「第２傾斜角」は「ピッ\nチ方向の傾き」と一致すると判断しているが，甲１発明でピッチ方向の\n傾きを説明するためにカメラの最初の向きに応じた場合分けをした後知\n恵的な判断であるし，例えば，ロール方向に傾けた上でピッチ方向に傾\nけた場合に甲１発明ではどのように「ピッチ方向の傾き」を読み取るの\nか説明することができない。また，前記(ア)ｂのとおり，ロール方向の傾\nきとピッチ方向の傾きは相関関係にあり，ピッチ方向を固定してロール\n方向に傾けた場合とロール方向を固定してピッチ方向に傾けた場合とい\nう極めて限られた条件のときのみを抜き出して判断することは誤りであ\nる。\nしたがって，「第１傾斜度」又は「第２傾斜度」が本件発明１の「ピッ\nチ方向の傾き」に相当し，「傾斜測定部」及び「制御部」は上記状態の「ピ\nッチ方向の傾き」を検出しているといえるとの本件決定の判断は，誤り\nである。\n(ウ)  小括\n以上によれば，甲１発明は，本件発明１の「ロール方向の傾き」や「ピ\nッチ方向の傾き」を検出するものではないから，本件発明１の構成要件\n１Ｃ「ロール方向の傾きとピッチ方向の傾きを検出する傾き検出部」を\n一致点として認定した本件決定は誤りである。また，甲１発明が「ロー\nル方向の傾き」を検出するものではない以上，「ロール方向の傾き情報」\nを表示しないことは明らかであるから，本件発明１の構成要件１Ｄ，１\nＤ－１の「前記画像表示部に前記傾き検出部により検出されたロール方\n向の傾き情報を表示する表示制御手段」を一致点として認定した本件決\n定は誤りである。\nイ  被告の主張について\n(ア)  被告は，後記(2)ア(ア)のとおり，「ロール方向」とは，撮像装置を光\n軸まわりに回転させる方向であることが技術常識であるから，甲１発明\nにおいては，表示部の回転した角度である「天地方向の向き」，すなわち\n「天地方向の示す矢印の角度」が「ロール方向の傾き」であり，本件決\n定の認定に誤りはない旨主張する。\n被告の上記主張は，甲１の「天地方向を示す矢印の角度」を本件発明\n１の「ロール方向の傾き」と認定するために，甲１の「天地方向の向き」\nは「表示部の回転した角度」であるとの解釈を加えるものであるが，甲\n１によれば，「画像撮像装置１０００の上部が天地方向の天で，下部が天\n地方向の地である」（【００７７】，【図５】）との記載のとおり，「天地方\n向との向き」とは，文言上，「天方向と地方向」の向きのことであり，「表\n示部の回転した角度」ではないことは明らかであり，甲１には，「天地方\n向の向き」を「表示部の回転した角度」と読み替える具体的な示唆もな\nい。\nまた，甲１には，「矢印５１２」について第１傾斜度や第２傾斜度から\n天地方向の向きを算出するための式はもとより，一方の傾斜度のみを用\nいて算出するのか，あるいは両方の傾斜度を用いて算出するのかの具体\n的な算出方法等について記載がないから，「天地方向を示す矢印の角度」\nを読み取ることができない。\nさらに，甲１の「水平に置かれた撮像対象の天地方向を正確に算出可\n能な画像撮像装置を提供すること」（【００２１】）との記載によれば，甲\n１発明は，あくまで「撮像対象の天地方向」を算出することを目的とす\nるものであり，こうした甲１が解決しようとする課題に鑑みると，甲１\nの表示形態である「矢印５１２」は，天地方向の向きを指し示すことの\nみであり，例えば，「撮像装置のロール方向の傾きに応じて」表示される\n「ロール方向の傾きの情報」まで読み取る必然性はなく，そのような具\n体的な示唆もない。\nしたがって，被告の上記主張は理由がない。\n(イ)  被告は，後記(2)ア(イ)のとおり，甲１発明は，画像撮像装置が水平面\nに対して平行であるか否かを第１傾斜度及び第２傾斜度の両方に基づい\nて画像撮像装置の前後方向の傾き，すなわち，ピッチ方向の傾きを検出\nするものといえる旨主張する。\nしかし，後記(ウ)のとおり，本件発明１の「ピッチ方向の傾き」は，加\n速度センサの出力値を用いて算出されるカメラの水平軸周りの傾きであ\nることは技術常識であるから，甲１の「画像撮像装置が水平面に対して\n平行であるか否か」が「ピッチ方向の傾き」であるとする被告の主張は\n失当である。その点を措くとしても，特定の使用形態において「第１傾\n斜角」又は「第２傾斜角」の値が本件発明１の「ピッチ方向の傾き」と\n一致することがあることに基づいて「第１傾斜角」と「第２傾斜角」は\n「ピッチ方向の傾き」と一致すると判断していることが後知恵的な判断\nで誤りであることについては，前記ア(イ)のとおりである。\nまた，甲１には，【図１３】の状態から【図１６】の状態に変化するこ\nとは説明されていないし，甲１の【００１４】によると，画像撮像装置\n１００００が水平面に対して平行の状態を示すものが【図１７】であり，\n所定値Ａにはある程度の幅（３０～６０）が設けられている（【０１０５】）\nことから，所定値Ａ未満は水平面に対して平行になったときであるとは\n定義することはできず，「所定値Ａ未満となって水平面に対して平行とな\nったと判定された【図１６】の状態をいう」との被告の主張は誤りであ\nる。すなわち，甲１の【０１０９】の記載によると，【図１１】は，所定\n値Ａ以上の状態と説明される一方で，【０１２０】の記載によると，【図\n１４】は，水平面に対して平行である状態と説明されている（「所定値Ａ\n未満の状態」とは説明されていない。）ことからも明らかであるように，\n甲１発明では，所定値Ａ以上か所定値Ａ未満かを判断しているにすぎず，\n【図１４】，【図１６】は，あくまで水平面に対して平行になった状態を\n図示するものであって，所定値Ａ未満となったときを図示するものでは\nない。また，甲１の【図１０】のフローチャートによれば，３０～６０\nの範囲の値である所定値Ａ未満と判定された場合，即座にＳ１２０でＮ\nＯとなるため，甲１発明では画像撮像装置が水平面に対して平行になっ\nたと判定することはしていない。\nそうすると，甲１の「画像撮像装置が水平面に対して平行であるか否\nか」が「ピッチ方向の傾き」であるとしても，その前提となる「画像撮\n像装置が水平面に対して平行であるか否か」の判定が甲１には記載され\nていないから，「ピッチ方向の傾き」については甲１には記載されていな\nい。\nしたがって，被告の上記主張は理由がない。\n(ウ)  被告は，後記(2)ア(イ)のとおり，本件発明１においては，「ロール方\n向」及び「ピッチ方向」の傾きをそれぞれどのように検出（算出）する\nかは何ら特定されておらず，加速度センサにおけるＸ軸，Ｙ軸の出力値\nやそれらを用いた算出結果等により傾き検出することに限定して解釈す\nる原告の主張は，特許請求の範囲に基づくものではない旨主張する。\nしかし，本件優先日前に頒布された刊行物である甲３４（特開２００\n６－０８０９３２号公報）及び甲３５（特開２００３－２８０７８５号\n公報）からも明らかなように，ロール方向の傾きを算出するためには，\n加速度センサの出力値Ｘ，Ｙの両方を用いて算出されることは技術常識\nであったから，本件発明１（請求項１）の「ロール方向の傾きとピッチ\n方向の傾きを検出する傾き検出部」という記載に接した当業者であれば，\n「ロール方向の傾き」の文言から本件明細書の【００４３】の式(1)で表\nされるカメラの光軸周りの傾きであると当然に理解し，この式(1)は，三\n角関数と三平方の定理といった数学的な考えに基づくものであり，当業\n者であればその意味するところを理解することができる。\nしたがって，被告の上記主張は理由がない。\nウ  まとめ\n前記アのとおり，本件決定は，一致点の認定を誤り，相違点を看過する\nものであって，この相違点についての容易想到性の判断をせずに，本件発\n明１の進歩性を否定した判断の誤りがある。\nしたがって，本件決定は取り消されるべきである。\n(2)  被告の主張\nア  一致点の認定の誤り及び相違点の看過は存在しないこと\n(ア)  「ロール方向の傾き」の認定について\n本件発明１における「傾き検出部」は，「ロール方向の傾きとピッチ方\n向の傾きを検出する傾き検出部」というものであって，「ロール方向の傾\nき」をどのように検出（算出）するかについて特定されていない。\n甲１には，水平面に対し，画像撮像装置を光軸まわりに回転させて斜\nめに傾けた場合に，画像撮像装置の天地方向の情報を示す矢印５１２を\n表示した報知画像を表示部に表示させる実施形態が記載されている（【０\n１０１】，【０１０７】，【０１０１８】，【０１１２】，【図９】，【図１３】）\nところ，甲１発明においては，例えば，【図１３】で示される位置に矢印\n５１２を表示するために，第１傾斜度及び第２傾斜度に基づいて画像撮\n像装置の天地方向の向きが算出されるものと理解することができる。す\nなわち，画像撮像装置が水平面Ｐ３０２に置かれた状態から，画像撮像\n装置の回転に伴い，表示部（別紙２の左図の緑枠で囲んだ部分）が回転\nした角度を算出し，その算出結果を天地方向の情報を示す矢印の角度に\n反映させなければ，矢印５１２が画像撮像装置の回転に追従して「右に\n３０°回転」と表示された文字画像６１０の傾きと同じ傾きで表示され\nてしまう（別紙２の右図）ことから，そのような不都合が生じないため\nに，画像撮像装置の回転した角度を算出（検出）する必要があることが\n理解できる。\nそして，本件発明１や甲１発明が属する撮像装置の技術分野における\n「ロール方向」とは，撮像装置を光軸まわりに回転させる方向であるこ\nとが技術常識であるから，表示部の回転した角度である「天地方向の向\nき」，すなわち「天地方向の情報を示す矢印の角度」が「ロール方向の傾\nき」である。\nしたがって，甲１発明における「傾斜測定部」及び「制御部」は，「ロ\nール方向の傾き」を「検出する傾き検出部」を備えているということが\nでき，その結果（矢印５１２）を表示しているから，「前記表示部に前記\n傾き検出部により検出されたロール方向の傾き情報を表示する表示制御\n手段」を備えているということができる。\n以上によれば，「表示部に天地方向を示す矢印である報知画像を表示\nさせるためには，表示部の基準となる位置において天地方向がどの向き\nであるのかを計算することが必要であり，天地方向の向きは，表示部の\n回転した角度である。表示部は画像撮像装置に固定されているから，表\n示部の回転した角度は，画像撮像装置の回転した角度，すなわちロール\n方向の傾きである」と判断した本件決定に誤りはない。\n(イ)  「ピッチ方向の傾き」の認定について\n本件発明１における「傾き検出部」は，「ロール方向の傾きとピッチ方\n向の傾きを検出する傾き検出部」というものであって，「ピッチ方向の傾\nき」をどのように算出するかについて特定されていない。\n甲１発明は，第１傾斜度及び第２傾斜度に基づいて，画像撮像装置の\n天地方向の傾きを算出するものであることは，前記(ア)のとおりである。\nそして，甲１の【図１０】によれば，その過程（Ｓ１２０）において，\n第１傾斜度及び第２傾斜度のいずれかが所定値Ａ以上であるか否かを判\n定しているところ，その判定がＮＯとなるのは，第１傾斜度及び第２傾\n斜度の両方が所定値Ａ未満の場合である。甲１発明において，第１傾斜\n度は第１軸と水平面とが成す角度であり，第２傾斜度は第２軸と水平面\nとが成す角度である（【００７７】，【００８５】，【図５】）から，その両\n方が所定値Ａ未満であると判定した状態とは，例えば，画像撮像装置が\n水平面に対して平行でない状態（【図１３】）から，その前後方向に徐々\nに傾いて，第１傾斜度及び第２傾斜度がそれぞれ減少し，最終的に両方\nが所定値Ａ未満となって水平面に対して平行になったと判定された状態\n（【図１６】）をいうものである（【０１１９】，【０１２０】，【０１２６】，\n【図１４】，【図１６】）。\nそうすると，甲１には，第１傾斜度及び第２傾斜度の両方が所定値Ａ\n未満となって水平面に対して平行になったことを判定することが記載\nされているから，甲１発明は，第１傾斜度及び第２傾斜度の両方に基づ\nいて画像撮像装置の前後方向の傾き，すなわち，ピッチ方向の傾きを検\n出するものといえる。\nしたがって，「甲１発明において，カメラを横向きにした状態から，カ\nメラを下方向に傾けると，第１傾斜度がピッチ方向の傾きとなり，カメ\nラを縦向きにした状態からカメラを下方向に傾けると，第２傾斜度がピ\nッチ方向の傾きとなるから，「傾斜測定部」及び「制御部」は上記状態の\n「ピッチ方向の傾き」を検出しているといえる」と判断した本件決定に\n誤りはない。\nイ  原告の主張について\n(ア)  原告は，前記(1)ア(ア)ｂ及び(イ)のとおり，甲１の「傾斜度」（「第１\nの傾斜度」，「第２の傾斜度」）は，本件発明１の「ロール方向の傾き」，\n「ピッチ方向の傾き」とは相違する旨主張する。\nしかし，本件発明１における「傾き検出部」は，「ロール方向の傾きと\nピッチ方向の傾きを検出する傾き検出部」というものであり，「ロール方\n向」及び「ピッチ方向」の傾きをそれぞれどのように検出（算出）する\nかは何ら特定されていない。そして，「ロール方向の傾きとピッチ方向の\n傾きを検出する傾き検出部」とは，その文言どおり，「ロール方向」及び\n「ピッチ方向」の傾きを検出するものであればそれでよいと解すべきと\nころ，撮像装置の技術分野における技術常識としての「ロール方向」と\nは，本件明細書の【図３】，【図４】に記載されているように，撮像装置\nを光軸まわりに回転させる方向であり，また，撮像装置の技術分野にお\nける技術常識としての「ピッチ方向」とは，本件明細書の【図７】の状\n態から【図９】の状態のように撮像装置を前後に傾ける方向である。\nそうすると，本件発明１における「ロール方向の傾きとピッチ方向の\n傾きを検出する傾き検出部」とは，撮像装置の光軸まわりの回転や前後\nの変位により傾きを検出できればよく，本件明細書に記載された一実施\n例にすぎない加速度センサにおけるＸ軸，Ｙ軸の出力値やそれらを用い\nた算出結果等により傾き検出することに限定して解釈することはできな\nい。\nしたがって，原告の上記主張は理由がない。\n(イ)  また，原告は，前記(1)ア(ア)ｂのとおり，ロール方向の傾きとピッチ\n方向の傾きは互いに相関関係があるにもかかわらず，本件決定は，「ピッ\nチ方向を固定してロール方向に傾けた場合」及び「ロール方向を固定し\nてピッチ方向に傾けた場合」という極めて限られた条件のみを抜きだし\nて認定しており誤りであると主張する。\nしかし，「ロール方向」及び「ピッチ方向」は上記(ア)のとおりそれぞ\nれ別方向であることが技術常識であるから，その傾きについて互いに相\n関関係があるとはいえないし，本件発明に係る特許請求の範囲において\nそれらに相関関係があることは何ら記載されていない。\nしたがって，原告の上記主張も理由がない。\nウ  まとめ\n以上のとおり，本件決定には，原告主張の一致点の認定の誤り及び相違\n点の看過はないから，原告の主張は理由がなく，本件発明１の進歩性を否\n定した判断に誤りがあるとはいえない。\nしたがって，原告主張の取消事由は，理由がない。\n２  取消事由２（本件発明３，４，６及び７の容易想到性の判断の誤り）\n(1)  原告の主張\n本件特許の請求項３，４，６及び７は，直接又は間接的に請求項１を引用\nしているところ，請求項１（本件発明１）に係る本件決定の容易想到性の判\n断に誤りがあるから，本件発明３，４，６及び７に関する本件決定の容易想\n到性の判断も誤りである。\nしたがって，本件決定は取り消されるべきである。\n(2)  被告の主張\n前記１(2)のとおり，本件決定の本件発明１に関する容易想到性の判断に誤\nりはないから，原告の主張は理由がない。\n第３  当裁判所の判断\n１  本件明細書の記載事項\n甲２１の記載によれば，本件明細書（ただし，本件訂正後のもの。）には次の\nような開示があるものと認められる。\n(1)  近年，ディジタルカメラを含む撮像装置は，小型化及び軽量化が図られ，\nしかも，人が保持するものであるため，必ずしも安定した姿勢において撮影\nされるものとは限らず，そのため撮影時には従来にも増して気づきにくい傾\nきが画像に生じがちであり，一方で，撮像装置の撮影手法として，意図的に\n傾けた構図により撮影するような場合もあり，また，撮像姿勢についても横\n長の，いわゆる横位置ばかりとは限らず，縦長に構えた，いわゆる縦位置の\n構図が用いられる場合もあり，撮像装置には，撮影時には装置本体の傾きを\n認知させるための機能を備えることが望ましいが，例えば，特許文献１（特\n開２００４－３４３４７６号）に開示された撮像装置の場合，表示画面では\n棒状の表示部を用いて傾きを表示しているが，傾き検出の精度が固定されて\nおり，傾き検出の精度を高くしても，それに応じた表示をすることができな\nいという難点があり，また，特許文献２（特開２００７－１７４１５６号）\n及び特許文献３（特許第３８９６５０５号）にそれぞれ開示された撮像装置\nの場合，撮像画像や合成画像の傾きを認知させることによって撮像装置の姿\n勢を認知させる構成になっており，直観的に把握するには便利であるが，撮\n像装置の傾きの大きさを高い精度で表示することができないという難点があ\nる（【０００２】，【０００４】）。\n「本発明」は，こうした事情に鑑みてされたもので，撮像装置のロール方\n向の傾きに応じて傾き情報の表示位置や表示形態を切り替えて，使い勝手を\n良くし，操作性を向上させるユーザインタフェースを実現し得る撮像装置を\n提供することにある（【０００４】）。\n(2)  「本発明」によれば，撮像装置のロール方向の傾きに応じて傾き情報の表\n示位置を見やすい位置に変化させ，操作性を向上させ得る撮像装置を提供す\nることができる（【００１６】）。\n２  引用文献（甲１）の記載事項\n(1)  本件優先日前に頒布された刊行物である甲１（特開２００７－７４０７７\n号公報。公開日平成１９年３月２２日）には，別紙１のとおりの記載があり，\nこの記載によれば，甲１には次のような開示があるものと認められる。\nア  近年，デジタルカメラを始めとした電子的に画像を撮像する画像撮像装\n置が普及しており，利用者は，撮像対象を縦長画像に撮像したいか，横長\n画像に撮像したいかによって画像撮像装置を正対，あるいは左又は右に９\n０°回転させて撮像しているが，電子的に撮像した多数の画像データを縮\n小して一覧表示した場合，撮影時の画像装置の状態が同じでないときは一\n覧表示した画像も天地方向が統一されておらず，利用者にとって見やすい\n一覧とならないため，デジタルカメラの撮像時の傾きに応じて内蔵された\n傾斜計により記録する画像の天地方向を決定し，決定した天地方向に対応\nさせた画像ファイルを生成して記録する従来技術があるが，例えば，水平\nに設置されている撮像対象物７０１を撮像する場合，画像撮像装置１００\n００の撮像部が撮像対象物７０１の真正面にあると，軸方向ＤＩ４０１，\nＤＩ４０２にかかる重力加速度の大きさはほぼ０となり，内蔵された傾斜\n計では撮像対象物７０１の天地方向を判定することができず，画像撮像装\n置１００００に内蔵されている傾斜計が僅かな重力加速度（傾斜）を検出\nできる非常に高性能なものであったとしても，手ぶれなどにより正確な天\n地方向の判定ができないなどの問題があった（【０００２】，【０００５】，\n【０００６】，【００１４】，【００１５】，【００１６】）。\nイ  本発明は，こうした問題を解決するために，水平に置かれた撮像対象の\n天地方向を正確に算出可能な画像撮像装置を提供することにあり（【００\n２１】），この問題を解決するために，本発明の画像撮像装置は，撮影対象\nを撮像する画像撮影手段と，画像撮像装置の傾斜の角度を示す傾斜度を測\n定する傾斜度測定手段と，傾斜度測定手段により測定された傾斜度に基づ\nいて，画像撮像装置の天地方向を算出する天地方向算出手段と，傾斜度測\n定手段により測定された傾斜度及び天地方向算出手段により算出された\n天地方向の少なくとも一方の情報を記憶する傾斜情報記憶手段と，撮像対\n象に対する画像撮像装置の正対方向を決定する正対方向決定手段とを備\nえ，傾斜度測定手段による画像撮像装置の傾斜度の測定処理と，測定され\nた傾斜度が所定値以上の場合に，傾斜度及び天地方向算出手段により算出\nされた天地方向の少なくとも一方の情報が傾斜度情報記憶手段に記憶さ\nれる処理とが，正対方向決定手段により正対方向が決定されるまでの期間，\n繰り返し行われ（【００２４】），これにより水平に置かれた撮像対象の天地\n方向を正確に算出することができるという効果を奏する（【００３８】）。\n(2)  そして，別紙１の開示事項を総合すれば，甲１発明は，本件決定が認定し\nた前記第２の３(2)イのとおりの発明であると認められる。\n３  取消事由１（本件発明１の容易想到性の判断の誤り）について\n(1)  本件発明１は，「ロール方向の傾きとピッチ方向の傾きを検出する検出部\nと，前記画像表示部に前記傾き検出部により検出されたロール方向の傾きを\n表示」（構成要件１Ｃ，１Ｄ－１）する「表示制御手段」（構成要件１Ｄ）と\nの発明特定事項を有する。\n本件決定は，甲１発明の構成１ｃ，１ｄ，１ｇ１ないし１ｉの「傾斜測定\n部」及び「制御部」は，本件発明１の構成要件１Ｃの「ロール方向の傾きと\nピッチ方向の傾きを検出する傾き検出部」と一致し，構成要件１Ｄ，１Ｄ－\n１と構成１ｇ－１ないし１ｇ－３とは「前記画像表示部に前記傾き検出部に\nより検出されたロール方向の傾きを表示する制御手段」として一致する旨判\n断するので，以下検討する。\nア(ア)  撮像装置の技術分野における技術常識としての「ロール方向」とは，\n撮像装置を光軸まわりに回転させる方向であることは当事者間に争いが\nない。\n前記のとおり，本件発明１は「ロール方向の傾き」を「検出する傾き\n検出部」を有する撮像装置（構成要件１Ｃ）との発明特定事項を有する\nものであるところ，ロール方向の傾きを検出する傾き検出部に関して，\n本件明細書には，「撮影光学系の光軸をＺ軸とするとともに，このＺ軸に\n直交する平面をＸ－Ｙ平面とする。」（【００３８】），「傾き検出部として\nの加速度センサ１１１は，前述した各部を構成したプリント回路基板（Ｐ\nＣＢ）上に実装され，２軸Ｘ，Ｙのデータ（Ｘ，Ｙ）と，温度Ｔのデー\nタを検知してプロセッサ１０４の１２Ｃブロック１０４１１に送出する。\nプロセッサ１０４は，Ｉ２Ｃブロック１０４１１を介して加速度センサ\n１１１から与えられたデータを基に，表示すべきロール角等の傾き情報\nを，例えばＣＰＵブロック１０４３により演算し（傾き算出手段）･･･」\n（【００４２】），「Ｘ０およびＹ０を２軸Ｘ，Ｙのデータ（Ｘ，Ｙ）の各々\nの重力ゼロ時の出力データとする時，加速度センサ１１１の水平に対す\nるロール角θは次の(1)式で示される。θ［deg］＝１８０／π＊arctan\n｛（Ｙ－Ｙ０）／（Ｘ－Ｘ０）｝  …（１）」（【００４３】）との記載があ\nり，これらの記載によれば，「ロール方向の傾き」を「検出する傾き検出\n部」は，光軸Ｚ軸に直交する２軸のＸ，Ｙのデータにより算出されるデ\nータを基にロール方向の傾きを検出しているものということができ，こ\nうした算出方法は，ロール方向が撮像装置を光軸まわりに回転させる方\n向であるとの技術常識を前提としたものであるといえる。\nそうすると，本件発明１における「ロール方向の傾き」を「検出する\n傾き検出部」は，光軸まわりに回転させる方向の傾き度合いを検出する\n「傾き検出部」であると解することができる。\n(イ)  これに対し，甲１は，「２軸の重力加速度センサーであって，第１軸\n（方向Ｄ４０１）水平面とが成す角度である第１傾斜度および第２軸\n（方向Ｄ４０２）と水平面とが成す角度である第２傾斜度を測定する傾\n斜測定部と，」（構成１ｃ），「前記第１傾斜度および第２傾斜度に基づい\nて，前記画像撮像装置の天地方向の算出を行う制御部と，」（構成１ｄ）\nを有する「画像撮像装置」（構成１ｆ）であるところ，第１傾斜度及び第\n２傾斜度をそれぞれ測定する２軸の重力加速度センサーである第１軸\n（方向Ｄ４０１）と第２軸（Ｄ４０２）は，直交する軸であり（【００６\n６】，【００７６】，【００７７】，【図５】），画像撮像装置に内蔵された２\n軸の重力加速度センサーである傾斜測定部２５０は，【００７２】の式(3)\nにより求められる重力加速度センサーと水平面とが成す角度θ（Ｄ３０\n１，３０３と同じ軸上にある重力加速度センサーと水平面Ｐ３０２とが\n成す角度）の値を算出することによって傾斜度を測定する（【００６７】\nないし【００７４】，【図４】）ものであるから，甲１で測定される第１傾\n斜度及び第２傾斜度は，光軸が水平面と平行である場合を除き，撮像装\n置を光軸まわりに回転させる方向の傾きの角度とは異なるものである。\nそして，甲１発明における「天地方向の判定」をする天地方向算出手\n段２２２は，傾斜度測定部２５０が算出した重力加速度の方向および大\nきさに基づいて判定するものである（【００７９】，【００８７】，【００８\n８】，【０１０７】）。\nそうすると，甲１発明で測定される第１傾斜度及び第２傾斜度は，撮\n像装置の分野における技術常識であるところの「ロール方向の傾き」と\nは異なるものであり，第１傾斜度及び第２傾斜度に基づいて判定される\n「天地方向」は，本件発明１の「ロール方向の傾き」とは異なるものと\nいえるから，甲１発明は，「ロール方向の傾き」を検出するものであると\nも，表示するものであるともいえない。\nイ(ア)  また，撮像装置の技術分野における技術常識としての「ピッチ方向」\nとは，原告は，「撮像装置の技術分野における当業者であれば「ピッチ方\n向の傾き」との文言から加速度センサの出力値を用いて算出するカメラ\nの水平軸周りの傾きであると当然に理解する」と主張し（原告準備書面\n（第２回）），被告は，「本件発明１における「ロール方向の傾きとピッチ\n方向の傾きを検出する傾き検出部」とは，撮像装置の光軸まわりの回転\nや前後の変位により傾きを検出できればそれでよく，」（被告準備書面（第\n１回）と主張していることを踏まえると，撮像装置の水平軸周りに前後\nに回転（変位）させる方向であると解される。\n前記のとおり，本件発明１は，「ピッチ方向の傾き」を「検出する傾き\n検出部」を有する撮像装置（構成要件１Ｃ）との発明特定事項を有する\nものであるところ，ピッチ方向の傾きを検出する傾き検出部に関して，\n本件明細書には，「撮影光学系の光軸をＺ軸とするとともに，このＺ軸に\n直交する平面をＸ－Ｙ平面とする。」（【００３８】），「傾き検出部として\nの加速度センサ１１１は，前述した各部を構成したプリント回路基板（Ｐ\nＣＢ）上に実装され，２軸Ｘ，Ｙのデータ（Ｘ，Ｙ）と，温度Ｔのデー\nタを検知してプロセッサ１０４の１２Ｃブロック１０４１１に送出す\nる。」（【００４２】），「Ｘ０およびＹ０を２軸Ｘ，Ｙのデータ（Ｘ，Ｙ）\nの各々の重力ゼロ時の出力データとする時，加速度センサ１１１の水平\nに対するロール角θは次の(1)式で示される。θ［deg］＝１８０／π＊\narctan｛（Ｙ－Ｙ０）／（Ｘ－Ｘ０）｝  …（１）。同様に，撮像装置のピ\nッチング方向の傾きを検出し得るように設置された，他の加速度センサ\n１１１は，表示すべきピッチ角を検出し，そのデータをプロセッサ１０\n４に送出する。プロセッサ１０４は，加速度センサ１１１から送出され\nたデータを基に，表示する撮像装置の傾き（ピッチ角）を，例えば，Ｃ\nＰＵブロック１０４３に演算し（傾き角算出手段）･･・」（【００４３】，\n「加速度センサ１１１の水平に対するロール角θは，先に述べた（１）\n式であらわされ，ピッチ角φは，次の（２）式であらわされる。φ［deg］\n＝１８０／π＊arctan（Ｇｚ／Ｇｘｙ）  Ｇｚ＝sqrt（Ｇｘｙｚ２－Ｇｘ\nｙ２）  Ｇｘｙ＝sqrt｛（Ｘ－Ｘ０）２＋（Ｙ－Ｙ０）２｝  …（２）  こ\nこでＧｘｙｚは，１Ｇの時の出力値，Ｘ０およびＹ０は，各々重力ゼロ\n時の出力である。」（【００６２】）との記載があり，これらの記載によれ\nば，「ピッチ方向の傾き」を「検出する傾き検出部」は，光軸Ｚ軸に直交\nする２軸のＸ，Ｙのデータにより算出されるデータを基にピッチ方向の\n傾きを検出しているものということができ，こうした算出方法は，ピッ\nチ方向が撮像装置の水平軸周りの傾きであるとの技術常識を前提とした\nものであるといえる。\nそうすると，本件発明１における「ピッチ方向の傾き」を「検出する\n傾き検出部」は，撮像装置の水平軸周りの傾き度合いを検出する「傾き\n検出部」であると解することができる。\n(イ)  これに対し，前記ア(イ)のとおり，甲１発明において，第１傾斜度及\nび第２傾斜度をそれぞれ測定する２軸の重力加速度センサーである第１\n軸（方向Ｄ４０１）と第２軸（Ｄ４０２）は，直交する軸であり，画像\n撮像装置に内蔵された２軸の重力加速度センサーである傾斜測定部２５\n０は，【００７２】の式(3)により求められる重力加速度センサーと水平\n面とが成す角度θ（Ｄ３０１，３０３と同じ軸上にある重力加速度セン\nサーと水平面Ｐ３０２とが成す角度）の値を算出することによって傾斜\n度を測定するものであるから，甲１で測定される第１傾斜度及び第２傾\n斜度は，撮像装置の水平軸が水平面と平行である場合を除き，撮像装置\nを水平軸周りの傾き度合いであるピッチ方向の傾きを算出するものでは\nない。\nウ  以上によれば，甲１発明は，「ロール方向の傾きとピッチ方向の傾きを検\n出する傾き検出部と，」（構成要件１Ｃ），「前記画像表示部に前記傾き検出\n部により検出されたロール方向の傾き情報を表示」（構成要件Ｄ－１）する\n「表示制御手段」（構成要件１Ｄ）の構成を備えるものではないから，これ\nらの点は本件発明１との一致点ではなく相違点である。\n(2)ア  これに対し，被告は，前記第３の１(2)ア(ア)のとおり，甲１発明におい\nては，撮像装置を光軸まわりに回転させる方向が「ロール方向」の傾きで\nあることは技術常識であるから，表示部の回転した角度である「天地方向\nの向き」，すなわち「天地方向の情報を示す矢印の角度」が「ロール方向の\n傾き」であると主張する。\nしかし，「画像撮像装置１０００が，右に３０度傾いた状態である場合の，\n報知画像６００Ａを示す図」である図１３の「矢印５１２」は，「天地方向\nの情報を示す」（【０１１２】）ものであるところ，「天地方向算出手段２２\n２は，傾斜測定部２５０が算出した重力加速度の方向と大きさに基づいて」\n天地方向を判定し（【００７９】，【００８７】，【００８８】，【０１０７】），\n「傾斜測定部２５０」は，直交する２軸の重力加速度センサーが，【００７\n２】の式(3)で求められる，「方向Ｄ３０３と水平面Ｐ３０２とが成す角度」\n（【００６９】）であるθの値を算出し，平面Ｐ３０２の傾斜度を測定する\n（【００７３】，【００７４】）ものである。そして，前記(1)ア(イ)のとおり，\nこうした直交する２軸の重力加速度センサーと水平面との角度がなす傾\n斜度により判定される角度は，光軸が水平面と平行である場合を除き，撮\n像装置を光軸まわりに回転させる方向の傾きの角度とは異なるから，「矢\n印５１２」で示される「天地方向の情報を示す矢印の角度」が「ロール方\n向の傾き」であるということはできない。\nイ  また，被告は，前記第３の１(2)ア(イ)のとおり，甲１発明は，第１傾斜\n度及び第２傾斜度の両方に基づいて画像撮像装置の前後方向の傾き，すな\nわち，ピッチ方向の傾きを検出するものといえる旨主張する。\n確かに，甲１には，①天地方向算出手段２２２は，第１傾斜度及び第２\n傾斜度のいずれかが所定値Ａ（例えば，３０～６０の範囲の値）以上であ\nるか否かを判定（ステップＳ１２０）し（【０１０５】），所定値Ａ以上であ\nれば，天地方向算出手段２２２が，傾斜測定部２５０が測定した第１傾斜\n度及び第２傾斜度に基づいて画像撮像装置１０００の天地方向の算出を\n行い（【０１０７】），制御部が画像撮像装置１０００の天地方向の算出結果\nに基づく情報を表示した報知画像を生成し，表示部１５０に表示する（【０\n１０８】），②ステップＳ１２０において，所定値Ａ未満であれば，天地方\n向算出手段２２２が傾斜測定部２５０が測定した第１傾斜度及び第２傾\n斜度に基づいて，画像撮像装置１０００の天地方向の算出を行う（【０１１\n８】）ところ，図１４のように画像撮像装置１０００が水平面に対して平行\nである場合，天地方向算出手段２２２は，傾斜測定部２５０が測定した第\n１傾斜度及び第２傾斜度に基づいて画像撮像装置の天地方向の判定はで\nきない（【０１１９】）が，画像撮像装置が図１４の状態になる前に必ず第\n１傾斜度及び第２傾斜度のいずれかが所定値Ａ以上（ステップＳ１２０に\nおいてＹＥＳの場合）の状態にあり，天地方向が判定できる状態にあって\n（【０１２１】），傾斜度及び天地方向が記憶（ステップＳ１２６）する処理\nが行われており（【０１２２】），こうした場合，天地方向算出手段２２２は，\n記憶されている傾斜度データ及び天地方向のデータの少なくとも一方に\n基づいて画像撮像装置１０００の天地方向の判定を行い（【０１２３】），こ\nの算出結果に基づく情報を報知した報知画像を表示部１５０に表示させ\nる（【０１２４】），③【図１６】は，画像撮像装置１０００が水平面Ｐ３０\n２に対し平行である場合の報知画像を示す図である（【０１２６】）ことが\nそれぞれ開示されている。\nしかし，天地方向算出手段２２２は，傾斜測定部２５０が算出した重力\n加速度の方向を大きさに基づいて天地方向を判定し（【００７９】，【００８\n７】，【００８８】，【０１０７】），画像撮像装置に内蔵された２軸の重力加\n速度センサーである傾斜測定部２５０は，【００７２】の式(3)により求め\nられる重力加速度センサーと水平面とが成す角度θ（Ｄ３０１，３０３と\n同じ軸上にある重力加速度センサーと水平面Ｐ３０２とが成す角度）の値\nを算出することによって傾斜度を測定するものであるから，甲１で測定さ\nれる第１傾斜度及び第２傾斜度は，撮像装置の水平軸が水平面と平行であ\nる場合を除き，撮像装置を水平軸周りの傾き度合いであるピッチ方向の傾\nきを算出するものではないことは前記(1)イ(イ)のとおりである。\nまた，【図１６】について，画像撮像装置の水平軸が水平面と平行である\nことを前提として，画像撮像装置を水平軸周りに前後に回転（変位）させ\nて画像撮像装置が水平面Ｐ３０２に平行になった状態であると仮定した\nとしても，上記の開示事項からは，「画像撮像装置が水平面に対し平行であ\nる場合」かどうかの判定に際し，第１傾斜度及び第２傾斜度が用いられる\nことは読み取ることができるものの，ピッチ方向の傾きを検出し，判定に\n用いることを開示しているとはいえない。\nウ  したがって，被告の前記ア及びイの各主張は，いずれも理由がない。\n(3)  以上によれば，本件発明１においては，①「ロール方向の傾きとピッチ方\n向の傾きを検出する傾き検出部」を備えているのに対し，甲１発明はこうし\nた構成を有しない点，②本件発明１においては，「前記傾き検出部により検出\nされたロール方向の傾き情報を表示する表示制御手段」を備えているのに対\nし，甲１発明はこうした構成を有しない点で相違するから，本件決定は，本\n件発明１と甲１発明の一致点の認定を誤り，相違点を看過している。そして，\n本件決定はこのように誤って認定した一致点及び相違点を前提として，本件\n発明１は，甲１発明及び甲２発明に基づいていずれも当業者であれば容易に\n想到し得たものと判断したのであるから，このような認定の誤りが本件発明\n１の容易相当性の判断の結論に影響を及ぼすものであることは明らかである。\nしたがって，原告主張の取消事由１は理由があり，本件決定のうち，請求\n項１に係る部分は取り消されるべきである。\n４  取消事由２（本件発明３，４，６及び７の容易想到性の判断の誤り）につい\nて\n本件発明３に係る請求項３及び本件発明７に係る請求項７は，本件発明１に\n係る請求項１を直接的に引用するものであり，本件発明４に係る請求項４は請\n求項３を，本件発明６に係る請求項６は請求項４をそれぞれ引用するものであ\nるから，本件発明１に係る請求項１を間接的に引用するものである。\n本件決定は，本件決定が認定した本件発明１と甲１発明の一致点及び相違点\nを前提とし，本件発明３，４，６及び７について，甲１発明及び甲２発明に加\nえて，甲３及び５に記載された周知技術に基づいていずれも当業者であれば容\n易に想到し得たものと判断したものであるところ，前記３のとおり，本件決定\nは，本件発明１と甲１発明の一致点の認定を誤り，相違点を看過しており，こ\nの相違点の看過は，本件発明１の容易相当性の判断の結論に影響を及ぼすもの\nであることは明らかであって，これを前提とした，本件発明１を直接的又は間\n接的に引用する本件発明３，４，６及び７の容易想到性の判断の結論にも影響\nを及ぼすことは明らかである。\nしたがって，原告主張の取消事由２は理由があり，本件決定のうち，請求項\n３，４，６及び７に係る部分は取り消されるべきである。\n５  結論\n以上によれば，原告主張の取消事由はいずれも理由があるから，本件決定の\nうち，請求項１，３，４，６及び７に関する部分は取り消されるべきである。\nよって，主文のとおり判決する。\n知的財産高等裁判所第４部\n裁判長裁判官\n菅      野      雅      之\n裁判官\n中      村              恭\n裁判官\n岡      山      忠      広\n（別紙１）\n１  【技術分野】\n【０００１】\n本発明は，画像撮像装置，プログラムおよび記録媒体に関し，特に，撮像した\n画像をデジタルデータとして処理する画像撮像装置，プログラムおよび記録媒体\nに関する。\n【背景技術】\n【０００２】\n近年，デジタルカメラを始めとした電子的に画像を撮像する画像撮像装置が普\n及している。画像撮像装置では，電子的に画像を保存する利点を生かし，これま\nでのフィルムカメラにはない新しい機能の付与や，様々な応用が行なわれている。\n【０００５】\n従来のフィルムカメラと同様に，デジタルカメラ，あるいは，カメラ付き携帯\n電話等の電子的画像撮像装置も，多くの場合，撮像画像は，縦横比１：１ではな\nく，縦長，あるいは，横長の長方形である。そのため，利用者は，撮像対象を縦\n長画像に撮像したいか，横長画像に撮像したいかによって，画像撮像装置を正対，\nあるいは，左または右に９０°回転させて撮像している。\n【０００６】\n電子的に撮像した多数の画像データを，縮小して一覧表示した場合，上述した\nように，撮像時の画像撮像装置の状態（正対，９０°回転）が同じでない場合，\n一覧表示した画像も天地方向が統一されておらず，利用者にとって見やすい一覧\nとならない。\n【０００７】\nもし，撮像時に自動的に天地方向判定が行われていれば，画像保存時に天地方\n向に沿って画像の表示が行われるよう必要であれば回転させて保存する，あるい\nは，天地方向の情報を画像データに付与し表示の際天地方向に沿って表示する，\nといったことが可能である。これにより，上述した一覧表示の際，画像の天地方\n向が統一されないといった問題を解決することが可能である。\n【０００８】\nこの問題を解決するために，撮像時に天地方向を自動判定する方法として，た\nとえば，特開２００４－２２９２６０号公報（特許文献１）では，デジタルカメ\nラ（画像撮像装置）の撮像時の傾きに応じて，内蔵された傾斜計により，記録す\nる画像の天地方向を決定し，決定した天地方向に対応させた画像ファイル生成し\nて記録する技術（以下，従来技術Ａともいう）が開示されている。\n２  【発明が解決しようとする課題】\n【００１４】\nしかしながら，特開２００４－２２９２６０号公報（特許文献１）に開示され\nている技術では，図１７のように，水平に設置されている撮像対象物７０１を撮\n像する場合，画像撮像装置１００００の撮像部が，撮像対象物７０１の真正面に\nあると，軸方向ＤＩ４０１，ＤＩ４０２  にかかる重力加速度の大きさは，ほぼ０\nとなり，内蔵された傾斜計では，撮像対象物７０１の天地方向を判定することが\nできない。ここで，撮像対象物７０１は，「ＸＹＺ株式会社」の文字が縦方向に印\n刷された紙である。\n【００１５】\nなお，画像撮像装置１００００に内蔵されている傾斜計が，僅かな重力加速度\n（傾斜）を検出できる程，非常に高性能なものであったとする。この場合，画像\n撮像装置１００００の左端を，撮像対象物７０１から遠くするために方向Ｄ７０\n１に上げ，画像撮像装置１００００の右端を，撮像対象物７０１に近くするため\nに方向Ｄ７０２に下げる。これにより，撮像対象物７０１の撮像結果に影響がな\nい程度に，画像撮像装置１００００は，撮像対象物７０１に対し僅かな傾斜を生\nじることができる。その結果，傾斜計は，天地方向が判定可能となる。\n【００１６】\nしかしながら，このように僅かな傾斜で天地判定を行うには，以下の問題点が\nある。\n（１）  画像撮像装置１００００を固定せずに，ユーザが手で持って撮像を行う場\n合，図１７のように，水平に近い状態を保持しようとすると，画像撮像装置１０\n０００にユーザの手ぶれが伝わる可能性がある。この場合，画像撮像装置１００\n００の傾斜方向がふらつき，傾斜計は，正確な天地判定ができないという問題が\n生じる。\n（２）  撮像対象物７０１の撮像結果に影響がない程度に，撮像対象物７０１の天\n地方向が正しく判定されるよう，ユーザが画像撮像装置１００００を手で持って\n傾斜させたとする。この場合，ユーザが画像撮像装置１００００のシャッターボ\nタンを押す操作により手ぶれが生じ，画像撮像装置１００００の傾斜方向が変わ\nってしまう可能性がある。この場合，傾斜計は，正確な天地判定ができないとい\nう問題が生じる。\n【００１７】\nまた，水平に置かれた撮像対象物７０１に対し，画像撮像装置１００００を僅\nかに傾けて撮像しなければならないため，ユーザに心理的負担を与えることも考\nえられる。\n【００１８】\nさらに，コストの面等で，常に，画像撮像装置１００００に僅かな重力加速度\nを検出できる高性能な傾斜計を取り付けることが可能とは限らない。この場合，\n僅かな傾斜では，傾斜計は，天地方向を判定できない。そのため，図１７のよう\nに，ほぼ水平状態で撮像し，かつ，撮像対象物の天地方向を判定することは不可\n能となる。\n【００２１】\n本発明は，上述の問題点を解決するためになされたものであって，その目的は，\n水平に置かれた撮像対象の天地方向を正確に算出可能な画像撮像装置を提供す\nることである。\n【課題を解決するための手段】\n【００２４】\n上述の課題を解決するために，この発明のある局面に従う画像撮像装置は，撮\n像対象を撮像する画像撮像手段と，画像撮像装置の傾斜の角度を示す傾斜度を測\n定する傾斜度測定手段と，傾斜度測定手段により測定された傾斜度に基づいて，\n画像撮像装置の天地方向を算出する天地方向算出手段と，傾斜度測定手段により\n測定された傾斜度および天地方向算出手段により算出された天地方向の少なく\nとも一方の情報を記憶する傾斜情報記憶手段と，撮像対象に対する画像撮像装置\nの正対方向を決定する正対方向決定手段とを備え，傾斜度測定手段による画像撮\n像装置の傾斜度の測定処理と，測定された傾斜度が所定値以上の場合に傾斜度お\nよび天地方向算出手段により算出された天地方向の少なくとも一方の情報が傾\n斜情報記憶手段に記憶される処理とが，正対方向決定手段により正対方向が決定\nされるまでの期間，繰返し行なわれる。\n３  【発明の効果】\n【００３７】\n本発明に係る画像撮像装置は，画像撮像装置の傾斜度の測定処理と，測定され\nた傾斜度が所定値以上の場合に傾斜度および天地方向の少なくとも一方の情報\nが記憶される処理とが，撮像対象に対する画像撮像装置の正対方向が決定される\nまで，繰返し行なわれる。\n【００３８】\nしたがって，水平に置かれた撮像対象の天地方向を正確に算出することができ\nるという効果を奏する。\n４  【発明を実施するための最良の形態】\n【００４４】\n＜第１の実施の形態＞\n図１は，本実施の形態における画像撮像装置１０００の外観図を示す図である。\n図１（Ａ）  は，画像撮像装置１０００の正面を示す図である。図１（Ａ）を参照\nして，画像撮像装置１０００は，筐体１００と，レンズ群１１０と，シャッター\nボタン１２０とを備える。レンズ群１１０は，筐体１００の正面に設けられる。\nシャッターボタン１２０は，筐体１００の上部に設けられる。レンズ群１１０は，\n複数の光学レンズを含む。\n【００４５】\n図１（Ｂ）は，画像撮像装置１０００の背面を示す図である。図１（Ｂ）  を参\n照して，画像撮像装置１０００は，表示部１５０を備える。表示部１５０は，ユ\nーザに各種情報を，文字や画像等で表示する機能を有し，報知手段として動作す\nる。表示部１５０は，液晶ディスプレイ（ＬＣＤ（Liquid Crystal Display）），Ｆ\nＥＤ （ Field  Emission  Display ）， 有 機 Ｅ Ｌ デ ィ ス プ レ イ （ Organic  Electro\nluminescence  Display），ドットマトリクス等その他の画像表示方式の表示機器\nのいずれであってもよい。表示部１５０には，撮像時に，撮像対象の画像が逐次\n表示される。\n【００４６】\n図２は，本実施の形態における画像撮像装置１０００の内部構成を示すブロッ\nク図である。図２を参照して，画像撮像装置１０００は，画像撮像部２１０と，\nデータバス２８０とを備える。\n【００４７】\n画像撮像手段としての画像撮像部２１０は，被写体像をデジタル画像データに\n変換する撮像処理を行なう。画像撮像部２１０は，データバス２８０に接続され\nている。\n【００４８】\n図３は，本実施の形態における画像撮像部２１０の構成を示すブロック図であ\nる。図３を参照して，画像撮像部２１０は，レンズ群１１０と，撮像素子２１２\nと，Ａ／Ｄ変換部２１４と，撮像制御部２１６と，一時記憶部２１７と，入出力\nインターフェース部２１８とを含む。\n【００４９】\n撮像素子２１２は，レンズ群１１０を介して，入力された撮像対象の像をアナ\nログ信号に変換する機能を有する。撮像素子２１２は，たとえば，ＣＣＤ（Charge\nCoupled Device），ＣＭＯＳ（Complementary Metal-Oxide Semiconductor）等\nの撮像素子である。撮像素子２１２は，変換したアナログ信号を，Ａ／Ｄ変換部\n２１４へ送信する。\n【００５６】\n再び，図２を参照して，画像撮像装置１０００は，さらに，制御部２２０と，\n入力部２３０と，一時記憶部２４０と，記憶部２４５と，傾斜測定部２５０とを\n備える。\n【００５７】\nデータバス２８０には，制御部２２０，入力部２３０，一時記憶部２４０，記\n憶部２４５，表示部１５０，傾斜測定部２５０，傾斜情報記憶部２６０および記\n録媒体アクセス部２７０が接続されている。\n【００５９】\n制御手段としての制御部２２０は，記憶部２４５に記憶されたプログラム２４\n６に従って，画像撮像装置１０００内の各部に対する各種処理や，演算処理等を\n行なう機能を有する。制御部２２０は，前述の撮像制御部２１６と同様なもので\nある。\n【００６１】\n制御部２２０は，天地方向算出手段２２２，正対方向決定手段２２４および認\n識手段２２６として動作する。天地方向算出手段２２２は，後述する傾斜測定部\n２５０が算出した重力加速度の方向および大きさに基づいて，画像撮像装置１０\n００の天地方向を算出する。\n【００６５】\n傾斜測定手段としての傾斜測定部２５０は，２方向の重力加速度を検出するこ\nとにより，画像撮像装置１０００の傾斜を測定する機能を有する。傾斜測定部２\n５０は，重力加速度センサーである。\n【００６６】\n重力加速度センサーは，重力加速度を検出する１以上の方向を有する。この検\n出方向を軸と呼ぶ。１個の軸を有する重力加速度センサーを，１軸の重力加速度\nセンサーと呼ぶ。２個および３個の軸を有する重力加速度センサーを，それぞれ，\n２軸の重力加速度センサーおよび３軸の重力加速度センサーと呼ぶ。重力加速度\nセンサーが有する２個以上の軸は，互いに直交する。本実施の形態における傾斜\n測定部２５０は，２軸の重力加速度センサーである。\n５  【００６７】\n次に，傾斜測定部２５０による傾斜測定方法について説明する。\n図４は，平面Ｐ３０１の傾斜度の測定方法を説明するための図である。傾斜度\nとは，傾斜の角度を示す。図４を参照して，方向Ｄ３０１，Ｄ３０２は，平面Ｐ\n３０１の傾斜度を測定するために用いる重力加速度センサーの軸方向を表す。方\n向Ｄ３０３は方向Ｄ３０１の正反対の方向を表す。また，方向Ｄ３０４は，方向\nＤ３０２の正反対の方向を表す。なお，重力加速度センサーの軸としては，方向\nＤ３０１と，方向Ｄ３０３とは同じ軸上にある。また，方向Ｄ３０２と，方向Ｄ\n３０４とは同じ軸上にある。\n【００６８】\nベクトルＶ３０１は，方向と大きさを持つ重力加速度ベクトルである。重力加\n速度の大きさ（の標準値）は，９．８ｍ／ｓ２  である。以下においては，重力加\n速度を，一般的な記号ｇ（ｇ＝９  ．８ｍ／ｓ２）で表すことにする。\n【００６９】\nＰ３０２は，水平面を表す。方向Ｄ３０３と水平面Ｐ３０２とが成す角度をθ\n（シータ）とする。\n【００７０】\n方向Ｄ３０３  と，重力加速度ベクトルＶ３０１とが成す角度をλ（ラムダ）と\nする。また，重力加速度ベクトルＶ３０１の先端から，平面Ｐ３０１上の方向Ｄ\n３０３への垂線を，Ｌ３０１とする。また，重力加速度ベクトルＶ３０１の平面\nＰ３０１上の方向Ｄ３０３への射影ベクトルをＶ３０２とする。また，重力加速\n度ベクトルＶ３０１と，垂線Ｌ３０１とが成す角度をＡ３０３とする。\n【００７１】\n射影ベクトルＶ３０２は，方向Ｄ３０１，Ｄ３０３の軸方向にかかる重力加速\n度ベクトルを表す。したがって，以下の式（１）が成立する。\nｓｉｎ（角度Ａ３０３の大きさ）＝｜Ｖ３０２｜／｜Ｖ３０１｜    ・・・（１）\nなお，式（１）の｜ｘ｜は，ベクトルｘの大きさを表す。\n【００７２】\n角度Ａ３０３は，１８０  ̶  ９０  ̶  λよりθとなる。また，｜Ｖ３０１｜は定数\nｇであるので，式（１）は，以下の式（２）となる。\nｓｉｎθ  ＝｜Ｖ３０２｜／ｇ                                      ・・・（２）\n式（２）を変形すると，以下の式（３）  となる。\nθ＝ｓｉｎ－１（｜Ｖ３０２｜／ｇ）                                ・・・（３）\n重力加速度センサー（傾斜測定部２５０）は，軸方向にかかる重力加速度の大\nきさを測定することが可能である。すなわち，図４では，重力加速度センサーは，\n重力加速度ベクトルＶ３０２の大きさを測定することができる。\n【００７３】\nしたがって，式（３）より，θの値を算出することができる。すなわち，重力\n加速度センサーは，平面Ｐ３０１の傾斜度を測定することができる。そのため，\nθの値が９０未満の場合，方向Ｄ３０１が天地方向の天であり，方向Ｄ３０３が\n天地方向の地であると判定できる。また，この場合の水平面Ｐ３０２と，平面Ｐ\n３０１との傾斜度も算出可能となる。\n【００７４】\nまた，図４の例とは，逆に，方向Ｄ３０１が天地方向の地であり，方向Ｄ３０\n３が天地方向の天となる場合でも，上記の方法により，天地判定および傾斜度の\n算出が可能となる。\n【００７５】\n次に，画像撮像装置１０００に内蔵された傾斜測定部２５０による，画像撮像\n装置１０００の天地方向の判定方法について説明する。\n【００７６】\n図５は，画像撮像装置１０００に内蔵された２軸の重力加速度センサーである\n傾斜測定部２５０の２軸の方向を示す図である。図５を参照して，傾斜測定部２\n５０の２軸の各々の方向は，方向Ｄ４０１および方向Ｄ４０２であるとする。\n【００７７】\n天地方向を判定する場合，方向Ｄ４０１にかかる重力加速度が重力加速度定数\nｇに近く，方向Ｄ４０２にかかる重力加速度がほぼ０であれば，天地方向算出手\n段２２２は，画像撮像装置１０００の上部が天地方向の天で，下部が天地方向の\n地であることを判定する。\n以下においては，図５の方向Ｄ４０１の軸を第１軸という。また，方向Ｄ４０\n２の軸を第２軸という。\n【００７８】\nまた，方向Ｄ４０１にかかる重力加速度がほぼ０であり，方向Ｄ４０２にかか\nる重力加速度が重力加速度定数ｇに近い値であれば，画像撮像装置１０００の状\n態は図６のようになっていると判定できる。\n【００７９】\nすなわち，天地方向算出手段２２２は，傾斜測定部２５０が算出した重力加速\n度の方向および大きさに基づいて，画像撮像装置１０００の天地方向を判定する。\n【００８１】\n傾斜情報記憶手段としての傾斜情報記憶部２６０は，データを一時的に記憶す\nる機能を有する。傾斜情報記憶部２６０は，一時記憶部２１７と同様なものであ\nる。傾斜情報記憶部２６０は，傾斜測定部２５０が算出した重力加速度の方向お\nよび大きさ，天地方向算出手段２２２が判定した天地方向の情報を一時的に記憶\nする。\n【００８２】\n図７は，傾斜情報記憶部２６０に記憶されるデータを示す図である。図７を参\n照して，傾斜情報記憶部２６０には，重力加速度方向データＤＴ１０と，重力加\n速度大きさデータＤ  Ｔ２０と，傾斜度データＤＴ３０と，天地方向データＤＴ４\n０とが記憶される。\n【００８３】\n重力加速度方向データＤＴ１０は，図５の第１軸の重力加速度の方向および第\n２軸の重力加速度の方向のデータである。たとえば，図５において，方向Ｄ４０\n１に重力加速度がかかっていたら，重力加速度の方向は，正である。また，図５\nにおいて，方向Ｄ４０１と逆の方向に重力加速度がかかっていたら，重力加速度\nの方向は，負である。\n【００８４】\n重力加速度大きさデータＤＴ２０  は，第１軸の重力加速度の大きさおよび第\n２軸の重力加速度の大きさのデータである。第１軸の重力加速度の大きさおよび\n第２軸の重力加速度の大きさは，前述したように，第１および第２軸にかかる大\nきさである。単位は，ｇ（ｇ＝９．８ｍ／ｓ２）  である。\n【００８５】\n傾斜度データＤＴ３０は，第１軸と水平面とが成す角度および第２軸と水平面\nとが成す角度のデータである。以下においては，第１軸と水平面とが成す角度を\n第１傾斜度ともいう。また，第２軸と水平面とが成す角度を第２傾斜度ともいう。\n第１軸と水平面とが成す角度および第２軸と水平面とが成す角度の各々は，前述\nしたように，重力加速度の方向と，重力加速度の大きさとから算出可能である。\n【００８７】\n天地方向データＤＴ４０は，画像撮像装置１０００の天地方向を示すデータで\nある。天地方向算出手段２２２は，第１軸と水平面とが成す第１傾斜度が所定の\n閾値（たとえば，１０度）以上であれば，第１軸の方向が天地方向と判断する。\nまた，天地方向算出手段２２２は，第２軸と水平面とが成す第２傾斜度が所定の\n閾値以上であれば，第２軸の方向が天地方向と判断する。\n【００８８】\nまた，天地方向算出手段２２２は，軸のどの方向が天地方向の天または地であ\nるかを，軸に沿った重力加速度の方向により判定する。\n【００８９】\nしたがって，天地方向データＤＴ４０は，第１軸の方向が天地方向，第２軸の\n方向が天地方向および第１および第２軸の方向は天地方向でないといった３つ\nの状態のいずれかを示す。\n６  【００９８】\n表示部１５０には，詳細は後述するが，傾斜測定部２５０により算出された第\n１傾斜度，  第２傾斜度または天地方向についての情報が表示される。\n【００９９】\n図８は，画像撮像装置１０００を右に９０度回転させた場合の表示部１５０に\n表示される画像５００の一例を示す。図８を参照して，画像５００には，天地方\n向算出手段２２２による画像撮像装置１０００の天地方向の算出結果が，「上，下，\n左，右」の文字で表示されている。また，画像５００の「上，下，左，右」の文\n字は，画像撮像装置１０００の天地方向の算出結果に応じて，回転して表示され\nている。画像５００の「上」が，天地方向の天に対応し，画像５００の「下」が，\n天地方向の地に対応する。したがって，ユーザは，画像５００を参照することで，\n画像撮像装置１０００の天地方向を容易に知ることができる。画像５００には，\n撮像対象となる画像と，「上，下，左，右」の文字とが同時に表示される。\n【０１００】\nなお，水平面に対し，画像撮像装置１０００を斜めに傾けた場合，天地方向の\n判定結果を，文字ではなく，記号等で表した方が，ユーザが直感的に天地方向を\n判別できる。\n【０１０１】\n図９は，水平面Ｐ３０２に対し，画像撮像装置１０００を斜めに傾けた場合の\n表示部１５０に表示される画像５１０の一例を示す。図９を参照して，画像５１\n０には，記号として矢印５１２が表示される。矢印５１２が示すのは，画像撮像\n装置１０００の天地方向の「天」となる。画像５１０には，撮像対象となる画像\nと，矢印５１２とが同時に表示される。\n【０１０４】\n図１０は，画像撮像装置１０００で行なわれる処理のフローチャートである。\n図１０を参照して，ステップＳ１１０では，傾斜測定部２５０が，前述したよう\nに，画像撮像装置１０００の傾斜度を示す第１傾斜度および第２傾斜度を測定す\nる。その後，ステップＳ１２０に進む。\n【０１０５】\nステップＳ１２０では，天地方向算出手段２２２が，第１傾斜度および第２傾\n斜度のいずれかが，所定値Ａ以上であるか否かを判定する。ここで，所定値Ａは，\n傾斜測定部２５０（重力加速度センサー）の性能，ユーザにとっての適切な傾斜\n度等を考慮して決定される値である。所定値Ａは，たとえば，３０～６０の範囲\nの値である。\n【０１０６】\nステップＳ１２０において，ＹＥＳならば，ステップＳ１２２に進む。一方，\nステップＳ１２０において，ＮＯならば，ステップＳ１３２に進む。\n【０１０７】\nステップＳ１２２では，天地方向算出手段２２２が，傾斜測定部２５０が測定\nした第１傾斜度および第２傾斜度に基づいて，画像撮像装置１０００の天地方向\nの算出を行なう。\nすなわち，撮像対象の天地方向が算出される。その後，ステップＳ１２４に進\nむ。\n【０１０８】\nステップＳ１２４では，制御部２２０が，画像撮像装置１０００の天地方向の\n算出結果に基づく情報を表示した画像（以下，報知画像ともいう）を生成し，報\n知画像を，表示部１５０に表示させる。報知画像は，たとえば，図９の画像５０\n０である。報知画像には，撮像対象となる画像と，傾斜度としての第１傾斜度ま\nたは第２傾斜度の情報および天地方向の情報の少なくとも一方とが表示される。\n【０１０９】\n図１１は，一例としての報知画像５２０を示す図である。図１１を参照して，\n報知画像５２０は，「上，下，左，右」の文字により，天地方向の情報を表示して\nいる。報知画像５２０には，撮像対象となる画像と，「上，下，左，右」の文字と\nが同時に表示される。\nまた，図１１は，第１傾斜度または第２傾斜度が，所定値Ａ以上の場合の画像\n撮像装置１０００の状態を示す。\n【０１１０】\n図１２は，画像撮像装置１０００が，右に３０度傾いた状態である場合の，報\n知画像６００を示す図である。図１２  を参照して，報知画像６００には，文字列\nを表示する文字画像６１０が配置されている。文字画像６１０には，画像撮像装\n置１０００が水平面Ｐ３０２に対し右に３０度傾いている旨を示す文字列が表\n示されている。なお，報知画像６００には，撮像対象となる画像と，文字画像６\n１０とが同時に表示される。\n【０１１１】\n図１２のように表示部１５０に報知画像６００を表示することにより，画像撮\n像装置１０００を傾きのない状態にするように，ユーザに注意を促すことが可能\nとなる。そのために，さらに，「左へ３０度傾けて，傾きのない状態にしてくださ\nい」といった，ユーザへの指示を報知画像に表示するようにしてもよい。\n【０１１２】\n図１３は，画像撮像装置１０００が，右に３０度傾いた状態である場合の，報\n知画像６００Ａを示す図である。図１３を参照して，報知画像６００Ａには，報\n知画像６００に，さらに，天地方向の情報を示す矢印５１２が表示された画像で\nある。\n【０１１３】\n再び，図１０を参照して，ステップＳ１２４の処理が終了すると，ステップＳ\n１２６に進む。\n【０１１４】\nステップＳ１２６では，天地方向算出手段２２２が，ステップＳ１１０により\n測定された第１傾斜度および第２傾斜度に基づいて，前述した傾斜度データＤＴ\n３０を，傾斜情報記憶部２６０に記憶させる。なお，既に，傾斜情報記憶部２６\n０に傾斜度データＤＴ３０が記憶されている場合，天地方向算出手段２２２は，\n最新の傾斜度データＤＴ３０を傾斜情報記憶部２６０に上書き記憶させる。\n【０１１５】\nまた，天地方向算出手段２２２は，ステップＳ１２２により算出された天地方\n向の情報に基づいて，前述した天地方向データＤＴ４０を，傾斜情報記憶部２６\n０に記憶させる。\nなお，既に，傾斜情報記憶部２６０に天地方向データＤＴ４０が記憶されてい\nる場合，天地方向算出手段２２２は，最新の天地方向データＤＴ４０を傾斜情報\n記憶部２６０に上書き記憶させる。その後，ステップＳ１５０に進む。\n【０１１６】\nステップＳ１５０では，正対方向決定の指示があるか否かが判定される。具体\n的には，正対方向決定手段２２４が，入力部２３０から，押下検知信号を受信し\nたか否かを判定する。ステップＳ１５０において，ＹＥＳならば，後述するステ\nップＳ１５２に進む。ステップＳ１５０において，ＹＥＳと判定されるのは，以\n下の場合である。すなわち，ユーザが，表示部１５０に表示された報知画像の天\n地方向の情報を参照し，当該天地方向に対応する画像撮像装置１０００の正対方\n向を決定するために，ユーザがシャッターボタン１２０の押下操作を行なった場\n合である。\n【０１１７】\n一方，ステップＳ１５０において，ＮＯならば，再度，ステップＳ１１０の処\n理が行なわれる。\n【０１１８】\n前述のステップＳ１２０において，ＮＯならば，ステップＳ１３２に進む。\nステップＳ１３２では，ステップＳ１２２と同様に，天地方向算出手段２２２\nが，傾斜測定部２５０が測定した第１傾斜度および第２傾斜度に基づいて，画像\n撮像装置１０００の天地方向の算出を行なう。すなわち，撮像対象の天地方向が\n算出される。\n【０１１９】\nなお，画像撮像装置１０００が，水平面に対し平行である場合，天地方向算出\n手段２２２は，傾斜測定部２５０が測定した第１傾斜度および第２傾斜度に基づ\nいて，画像撮像装置１０００の天地方向の判定はできない。\n【０１２０】\n図１４は，画像撮像装置１０００が，水平面Ｐ３０２に対し平行である状態を\n示した図である。図１４を参照して，水平面Ｐ３０２上には，撮像対象物７０１\nが置かれている。\n【０１２１】\nなお，画像撮像装置１０００が図１４の状態になる前に，必ず１度は，ステッ\nプＳ１２０において，ＹＥＳと判定される。すなわち，画像撮像装置１０００の\n電源オン時に，画像撮像装置１０００が図１４の状態となっていることは，ユー\nザが意図的にしない限り発生しない。なぜなら，ユーザは撮像処理の前に，画像\n撮像装置１０００の調整（フォーカス等）などの操作を行なうのが一般的である\nからである。このとき，画像撮像装置１０００は，天地方向が判定できる状態で\nあり，画像撮像装置１０００が全くの水平状態でユーザが操作を開始することは，\nあまりないと考えられる。この後，ユーザは，水平に置かれた撮像対象物７０１\nを撮像するために，画像撮像装置１０００を水平状態に持っていく。\n【０１２２】\nそのため，画像撮像装置１０００が図１４の状態になる前に，必ず１度は，ス\nテップＳ１２６の処理が行われる。したがって，傾斜情報記憶部２６０には，傾\n斜度データＤＴ３０および天地方向データＤＴ４０が記憶されている。\n【０１２３】\nこの場合，天地方向算出手段２２２は，傾斜情報記憶部２６０に記憶されてい\nる傾斜度データＤＴ３０および天地方向データＤＴ４０の少なくとも一方に基\nづいて，画像撮像装置１０００の天地方向の判定を行なう。その後，ステップＳ\n１３４に進む。\n【０１２４】\nステップＳ１３４では，制御部２２０が，画像撮像装置１０００の天地方向の\n算出結果に基づく情報を表示した報知画像を生成し，報知画像を，表示部１５０\nに表示させる。\n【０１２６】\n図１６は，画像撮像装置１０００が，水平面Ｐ３０２に対し平行である場合の，\n一例としての報知画像７００Ａを示す図である。図１６を参照して，報知画像７\n００Ａには，画像撮像装置１０００の天地方向の情報を示す矢印７１０と，画像\n撮像装置１０００が撮像対象物７０１（水平面Ｐ３０２）に対し平行である旨が\n文字により表示されている。なお，報知画像７００Ａには，さらに，撮像対象物\n７０１の画像も表示される。\n【０１２７】\n再び，図１０を参照して，ステップＳ１３４の処理が終了すると，前述したス\nテップＳ１５０に進む。ステップＳ１５０において，ＹＥＳならば，ステップＳ\n１５２に進む。\n【図２】\n【図３】\n【図４】\n（別紙２）\n"
}