{
  "trial_type": "IPCase",
  "date": {
    "era": "Reiwa",
    "year": 2,
    "month": 1,
    "day": 29
  },
  "case_number": "平成31(行ケ)10021",
  "case_name": "審決取消請求事件",
  "court_name": "知的財産高等裁判所",
  "right_type": "特許権",
  "lawsuit_type": "行政訴訟",
  "lawsuit_id": "89213",
  "detail_page_link": "https://www.courts.go.jp/app/hanrei_jp/detail7?id=89213",
  "full_pdf_link": "https://www.courts.go.jp/app/files/hanrei_jp/213/089213_hanrei.pdf",
  "contents": "令和２年１月２９日判決言渡\n平成３１年（行ケ）第１００２１号  審決取消請求事件\n口頭弁論終結日  令和元年１１月１９日\n判          決\n原       告      株式会社マネースクエアＨＤ\n訴訟代理人弁護士      伊    藤        真\n平    井    佑    希\n丸    田    憲    和\n牧    野    知    彦\n訴訟代理人弁理士      佐    野        弘\n石    井    明    夫\n被       告      株式会社外為オンライ ン\n訴訟代理人弁護士       関        裕  治  朗\n伊    藤    雅    浩\n溝    田    宗    司\n主          文\n１  特許庁が無効２０１７－８０００６０号事件について平成３１年１\n月７日にした審決を取り消す。\n２  訴訟費用は被告の負担とする。\n事実及び理 由\n第１  請求\n主文１項と同旨\n第２  事案の概要\n１  特許庁における手続の経緯等\n(1)  原告は，平成２０年１２月２６日にした特許出願（特願２００８－３３２\n５９９号）の一部を分割して出願した特許出願（特願２０１３－４５２３８\n号）を分割して，平成２６年１１月１３日，発明の名称を「金融商品取引管\n理装置，金融商品取引管理システムおよびプログラム」とする発明について\n特許出願（特願２０１４－２３０８６８号。以下「本件出願」という。）を\nし，平成２７年１０月２３日，特許権の設定登録（特許第５８２６９０９号。\n請求項の数７。以下，この特許を「本件特許」という。甲５，１５）を受け\nた。\n(2)  被告は，平成２９年４月２８日，本件特許について特許無効審判（無効２\n０１７－８０００６０号事件）を請求した。\n原告は，平成３０年２月２６日付けの審決の予告（甲８）を受けたため，\n同年５月７日付けで，本件特許の特許請求の範囲の請求項１ないし７（請求\n項１ないし５及び７は一群の請求項）及び本件出願の願書に添付した明細書\n（以下，図面を含めて，「本件明細書」という。甲５）を訂正する旨の訂正\n請求（以下「本件訂正」という。甲９の１，２）をしたが，同年１０月２２\n日付けの訂正拒絶理由通知（甲１１）を受けたため，同年１１月２６日，本\n件訂正に係る全文訂正明細書を補正する旨の手続補正（以下「本件手続補正」\nという。甲１２）をした。\n特許庁は，平成３１年１月７日，本件手続補正及び本件訂正は認められな\nいとした上で，「特許第５８２６９０９号の請求項１ないし７に係る発明に\nついての特許を無効とする。」との審決（以下「本件審決」という。）をし，\nその謄本は，同月１８日，原告に送達された。\n(3)  原告は，平成３１年２月１８日，本件審決の取消しを求める本件訴訟を提\n起した。\n２  特許請求の範囲の記載\n(1)  設定登録時（本件訂正前）\n本件特許の設定登録時の特許請求の範囲の請求項１ないし７の記載は，次\nのとおりである（以下，請求項の番号に応じて，請求項１に係る発明を「本\n件発明１」などという。甲５）。\n【請求項１】\n金融商品の売買取引を管理する金融商品取引管理装置であって，\n前記金融商品の売買注文を行うための売買注文申込情報を受け付ける注文\n入力受付手段と，\n該注文入力受付手段が受け付けた前記売買注文申込情報に基づいて金融商\n品の注文情報を生成する注文情報生成手段とを備え，\n該注文情報生成手段は，\n一の前記売買注文申込情報に基づいて，所定の前記金融商品の売り注文ま\nたは買い注文の一方を成行または指値で行う第一注文情報と，該金融商品の\n売り注文または買い注文の他方を指値で行う第二注文情報と，前記金融商品\nの売り注文または買い注文の前記他方を逆指値で行う逆指値注文情報とを含\nむ注文情報群を複数回生成し，\n売買取引開始時に，成行注文を行うとともに，該成行注文を決済するため\nの指値注文を有効とし，\n前記成行注文を決済する前記指値注文が約定されたとき，前記注文情報群\nの生成を行うと共に，該生成された注文情報群の前記第一注文情報に基づく\n前記指値注文を有効とし，以後，前記第一注文情報に基づく前記指値注文の\n約定と，前記第一注文情報に基づく前記指値注文の約定が行われた後の前記\n第二注文情報に基づく前記指値注文の約定と，前記第二注文情報に基づく前\n記指値注文の約定が行われた後の，次の前記注文情報群の生成とを繰り返し\n行わせることを特徴とする金融商品取引管理装置。\n【請求項２】\n前記注文情報生成手段が生成した前記注文情報を記録する注文情報記録手\n段と，\n前記注文情報に基づいて前記金融商品の約定を行う約定情報生成手段とを\n備え，\n前記約定情報生成手段は，前記注文情報記録手段に記録された個々の前記\n注文情報のうち，前記第一注文情報に基づいて前記金融商品の約定を行う処\n理と，前記第二注文情報に基づいて前記金融商品の約定を行う処理とを，予\nめ定められた回数だけ繰り返すことを特徴とする請求項１に記載の金融商品\n取引管理装置。\n【請求項３】\n前記注文情報生成手段は，前記逆指値注文情報に基づく前記逆指値注文が\n約定されたときに，前記第一注文情報に基づく指値注文および前記第二注文\n情報に基づく指値注文を停止し，\n前記約定情報生成手段は，前記逆指値注文情報に基づいて約定を行った場\n合，該逆指値注文情報を生成した前記売買注文申込情報に対応して生成され\nる前記第一注文情報および第二注文情報のうち，前記逆指値注文情報の生成\n時点で未生成である前記注文情報を，全て前記注文情報記録手段から消去す\nるキャンセル処理を行うことを特徴とする請求項２に記載の金融商品取引管\n理装置。\n【請求項４】\n前記約定情報生成手段は，一旦成立した前記金融商品の注文に対するキャ\nンセル要求があった場合，該キャンセル要求のあった注文に対応する前記第\n一注文情報および／又は前記第二注文情報および／又は前記逆指値注文情報\nのうち，約定前の前記注文情報を全てキャンセル処理することを特徴とする\n請求項２又は３の何れかに記載の金融商品取引管理装置。\n【請求項５】\n特定顧客の預金残高情報を記録する顧客口座情報記録手段を備え，\n前記注文情報記録手段には，前記第一注文情報および前記第二注文情報の\n注文価格に基づく金額情報が属性情報として記録され，\n前記注文情報生成手段は，前記注文価格に基づく金額情報を前記預金残高\n情報と比較し，該預金残高情報の値が前記注文価格に基づく金額情報の値以\n上である場合に，前記第一注文情報および第二注文情報を生成することを特\n徴とする請求項２乃至４の何れかに記載の金融商品取引管理装置。\n【請求項６】\n金融商品の売買取引を管理する金融商品取引管理システムであって，\n前記金融商品の売買注文を行うための売買注文申込情報を受け付ける注文\n入力受付手段と，\n該注文入力受付手段が受け付けた前記売買注文申込情報に基づいて金融商\n品の注文情報を生成する注文情報生成手段とを備え，\n該注文情報生成手段は，\n一の前記売買注文申込情報に基づいて，所定の前記金融商品の売り注文ま\nたは買い注文の一方を成行または指値で行う第一注文情報と，該金融商品の\n売り注文または買い注文の他方を指値で行う第二注文情報と，前記金融商品\nの売り注文または買い注文の前記他方を逆指値で行う逆指値注文情報とを含\nむ注文情報群を複数回生成し，\n売買取引開始時に，成行注文を行うとともに，該成行注文を決済するため\nの指値注文を有効とし，\n前記成行注文を決済する前記指値注文が約定されたとき，前記注文情報群\nの生成を行うと共に，該生成された注文情報群の前記第一注文情報に基づく\n前記指値注文を有効とし，以後，前記第一注文情報に基づく前記指値注文の\n約定と，前記第一注文情報に基づく前記指値注文の約定が行われた後の前記\n第二注文情報に基づく前記指値注文の約定と，前記第二注文情報に基づく前\n記指値注文の約定が行われた後の，次の前記注文情報群の生成とを繰り返し\n行わせることを特徴とする金融商品取引管理システム。\n【請求項７】\nコンピュータを請求項１乃至５の何れか一つに記載の金融商品取引管理装\n置として機能させることを特徴とするプログラム。\n(2)  本件訂正後\n本件訂正後の請求項１ないし７の記載は，次のとおりである（下線部は本\n件訂正による訂正箇所である。以下，請求項の番号に応じて，「訂正発明１」\nなどという。甲９の２）。\n【請求項１】\n金融商品の売買取引を管理する金融商品取引管理装置であって，\n前記金融商品の売買注文を行うための売買注文申込情報を受け付ける注文\n入力受付手段と，\n該注文入力受付手段が受け付けた前記売買注文申込情報に基づいて金融商\n品の注文情報を生成する注文情報生成手段と，\n前記注文情報生成手段が生成した前記注文情報を記録する注文情報記録手\n段とを備え，\n該注文情報生成手段は，\n一の前記売買注文申込情報に基づいて，所定の前記金融商品の売り注文ま\nたは買い注文の一方を成行または指値で行う第一注文情報と，該金融商品の\n売り注文または買い注文の他方を指値で行う第二注文情報と，前記金融商品\nの売り注文または買い注文の前記他方を逆指値で行う逆指値注文情報とを含\nむ注文情報群を複数回生成し，\n前記注文情報記録手段は，生成された前記注文情報群を記録し，\n前記注文情報生成手段は，\n売買取引開始時に，成行注文を行うとともに，該成行注文を決済するため\nの指値注文および前記成行注文を決済するための逆指値注文を有効とし，\n前記成行注文を決済する前記第二注文情報に基づく前記指値注文が約定さ\nれたとき，次の前記注文情報群の生成を行うと共に，該生成された注文情報\n群の前記第一注文情報に基づく，前記成行注文の価格と同じ前記価格の前記\n指値注文を有効とし，\n前記第一注文情報に基づく該指値注文が約定されたときに，当該注文情報\n群の前記第二注文情報に基づく指値注文および前記逆指値注文情報に基づく\n前記逆指値注文を有効にし，\n以後，前記第一注文情報に基づく前記指値注文の約定と，前記第一注文情\n報に基づく前記指値注文の約定が行われた後の前記第二注文情報に基づく前\n記指値注文の約定と，前記第二注文情報に基づく前記指値注文の約定が行わ\nれた後の，次の前記注文情報群の生成とを繰り返し行わせ，\n前記第二注文情報に基づく前記指値注文が約定されたとき，前記逆指値注\n文情報に基づく逆指値注文を停止し，\n前記逆指値注文情報に基づく前記逆指値注文が約定されたときに，前記逆\n指値注文情報と同じ前記注文情報群に含まれる前記第二注文情報に基づく指\n値注文，及び，当該注文情報群の後に生成される予定の前記注文情報群の生\n成を停止することを特徴とする金融商品取引管理装置。\n【請求項２】\n前記注文情報に基づいて前記金融商品の約定を行う約定情報生成手段を備\nえ，\n前記約定情報生成手段は，前記注文情報記録手段に記録された個々の前記\n注文情報のうち，前記第一注文情報に基づいて前記金融商品の約定を行う処\n理と，前記第二注文情報に基づいて前記金融商品の約定を行う処理とを，予\nめ定められた回数だけ繰り返すことを特徴とする請求項１に記載の金融商品\n取引管理装置。\n【請求項３】\n前記注文情報生成手段は，前記逆指値注文情報に基づく前記逆指値注文が\n約定されたときに，前記第一注文情報に基づく指値注文および前記第二注文\n情報に基づく指値注文を停止し，\n前記約定情報生成手段は，前記逆指値注文情報に基づいて約定を行った場\n合，該逆指値注文情報を生成した前記売買注文申込情報に対応して生成され\nる前記第一注文情報および第二注文情報のうち，前記逆指値注文情報の生成\n時点で未生成である前記注文情報を，全て前記注文情報記録手段から消去す\nるキャンセル処理を行うことを特徴とする請求項２に記載の金融商品取引管\n理装置。\n【請求項４】\n前記約定情報生成手段は，一旦成立した前記金融商品の注文に対するキャ\nンセル要求があった場合，該キャンセル要求のあった注文に対応する前記第\n一注文情報および／又は前記第二注文情報および／又は前記逆指値注文情報\nのうち，約定前の前記注文情報を全てキャンセル処理することを特徴とする\n請求項２又は３の何れかに記載の金融商品取引管理装置。\n【請求項５】\n特定顧客の預金残高情報を記録する顧客口座情報記録手段を備え，\n前記注文情報記録手段には，前記第一注文情報および前記第二注文情報の\n注文価格に基づく金額情報が属性情報として記録され，\n前記注文情報生成手段は，前記注文価格に基づく金額情報を前記預金残高\n情報と比較し，該預金残高情報の値が前記注文価格に基づく金額情報の値以\n上である場合に，前記第一注文情報および第二注文情報を生成することを特\n徴とする請求項２乃至４の何れかに記載の金融商品取引管理装置。\n【請求項６】\n金融商品の売買取引を管理する金融商品取引管理システムであって，\n前記金融商品の売買注文を行うための売買注文申込情報を受け付ける注文\n入力受付手段と，\n該注文入力受付手段が受け付けた前記売買注文申込情報に基づいて金融商\n品の注文情報を生成する注文情報生成手段と，\n前記注文情報生成手段が生成した前記注文情報を記録する注文情報記録手\n段とを備え，\n該注文情報生成手段は，\n一の前記売買注文申込情報に基づいて，所定の前記金融商品の売り注文ま\nたは買い注文の一方を成行または指値で行う第一注文情報と，該金融商品の\n売り注文または買い注文の他方を指値で行う第二注文情報と，前記金融商品\nの売り注文または買い注文の前記他方を逆指値で行う逆指値注文情報とを含\nむ注文情報群を複数回生成し，\n前記注文情報記録手段は，生成された前記注文情報群を記録し，\n前記注文情報生成手段は，\n売買取引開始時に，成行注文を行うとともに，該成行注文を決済するため\nの指値注文および前記成行注文を決済するための逆指値注文を有効とし，\n前記成行注文を決済する前記第二注文情報に基づく前記指値注文が約定さ\nれたとき，次の前記注文情報群の生成を行うと共に，該生成された注文情報\n群の前記第一注文情報に基づく，前記成行注文の価格と同じ前記価格の前記\n指値注文を有効とし，\n前記第一注文情報に基づく該指値注文が約定されたときに，当該注文情報\n群の前記第二注文情報に基づく指値注文および前記逆指値注文情報に基づく\n前記逆指値注文を有効にし，\n以後，前記第一注文情報に基づく前記指値注文の約定と，前記第一注文情\n報に基づく前記指値注文の約定が行われた後の前記第二注文情報に基づく前\n記指値注文の約定と，前記第二注文情報に基づく前記指値注文の約定が行わ\nれた後の，次の前記注文情報群の生成とを繰り返し行わせ，\n前記第二注文情報に基づく前記指値注文が約定されたとき，前記逆指値注\n文情報に基づく逆指値注文を停止し，\n前記逆指値注文情報に基づく前記逆指値注文が約定されたときに，前記逆\n指値注文情報と同じ前記注文情報群に含まれる前記第二注文情報に基づく指\n値注文，及び，当該注文情報群の後に生成される予定の前記注文情報群の生\n成を停止することを特徴とする金融商品取引管理システム。\n【請求項７】\nコンピュータを請求項１乃至５の何れか一つに記載の金融商品取引管理装\n置として機能させることを特徴とするプログラム。\n(3)  本件手続補正後\n本件手続補正後の請求項１，２及び６の記載は，次のとおりである（下線\n部は本件手続補正による補正箇所である。甲１２）。\n【請求項１】\n金融商品の売買取引を管理する金融商品取引管理装置であって，\n前記金融商品の売買注文を行うための売買注文申込情報を受け付ける注文\n入力受付手段と，\n該注文入力受付手段が受け付けた前記売買注文申込情報に基づいて金融商\n品の注文情報を生成する注文情報生成手段と，\n前記注文情報に基づいて前記金融商品の約定を行う約定情報生成手段と，\n前記注文情報生成手段が生成した前記注文情報を記録する注文情報記録手\n段とを備え，\n該注文情報生成手段は，\n一の前記売買注文申込情報に基づいて，所定の前記金融商品の売り注文ま\nたは買い注文の一方を成行または指値で行う第一注文情報と，該金融商品の\n売り注文または買い注文の他方を指値で行う第二注文情報と，前記金融商品\nの売り注文または買い注文の前記他方を逆指値で行う逆指値注文情報とを含\nむ注文情報群を複数回生成し，\n前記注文情報記録手段は，生成された前記注文情報群を記録し，\n前記約定情報生成手段は，\n売買取引開始時に，成行注文を行うとともに，該成行注文を決済するため\nの指値注文および前記成行注文を決済するための逆指値注文を有効とし，\n前記成行注文を決済する前記第二注文情報に基づく前記指値注文が約定さ\nれたとき，次の前記注文情報群の生成を行うと共に，該生成された注文情報\n群の前記第一注文情報に基づく，前記成行注文の価格と同じ前記価格の前記\n指値注文を有効とし，\n前記第一注文情報に基づく該指値注文が約定されたときに，当該注文情報\n群の前記第二注文情報に基づく指値注文および前記逆指値注文情報に基づく\n前記逆指値注文を有効にし，\n以後，前記約定情報生成手段が前記第一注文情報に基づく前記指値注文の\n約定を行うことと，前記約定情報生成手段が前記第一注文情報に基づく前記\n指値注文の約定が行われた後の前記第二注文情報に基づく前記指値注文の約\n定を行うことと，前記注文情報生成手段が前記第二注文情報に基づく前記指\n値注文の約定が行われた後の，次の前記注文情報群の生成を行うこととを繰\nり返し行い，\n前記第二注文情報に基づく前記指値注文が約定されたとき，前記約定情報\n生成手段が前記逆指値注文情報に基づく逆指値注文を停止し，\n前記逆指値注文情報に基づく前記逆指値注文が約定されたときに，前記約\n定情報生成手段が前記逆指値注文情報と同じ前記注文情報群に含まれる前記\n第二注文情報に基づく指値注文，及び，当該注文情報群の後に生成される予\n定の前記注文情報群の生成を停止することを特徴とする金融商品取引管理装\n置。\n【請求項２】\n前記約定情報生成手段は，前記注文情報記録手段に記録された個々の前記\n注文情報のうち，前記第一注文情報に基づいて前記金融商品の約定を行う処\n理と，前記第二注文情報に基づいて前記金融商品の約定を行う処理とを，予\nめ定められた回数だけ繰り返すことを特徴とする請求項１に記載の金融商品\n取引管理装置。\n【請求項６】\n金融商品の売買取引を管理する金融商品取引管理システムであって，\n前記金融商品の売買注文を行うための売買注文申込情報を受け付ける注文\n入力受付手段と，\n該注文入力受付手段が受け付けた前記売買注文申込情報に基づいて金融商\n品の注文情報を生成する注文情報生成手段と，\n前記注文情報に基づいて前記金融商品の約定を行う約定情報生成手段と，\n前記注文情報生成手段が生成した前記注文情報を記録する注文情報記録手\n段とを備え，\n該注文情報生成手段は，\n一の前記売買注文申込情報に基づいて，所定の前記金融商品の売り注文ま\nたは買い注文の一方を成行または指値で行う第一注文情報と，該金融商品の\n売り注文または買い注文の他方を指値で行う第二注文情報と，前記金融商品\nの売り注文または買い注文の前記他方を逆指値で行う逆指値注文情報とを含\nむ注文情報群を複数回生成し，\n前記注文情報記録手段は，生成された前記注文情報群を記録し，\n前記約定情報生成手段は，\n売買取引開始時に，成行注文を行うとともに，該成行注文を決済するため\nの指値注文および前記成行注文を決済するための逆指値注文を有効とし，\n前記成行注文を決済する前記第二注文情報に基づく前記指値注文が約定さ\nれたとき，次の前記注文情報群の生成を行うと共に，該生成された注文情報\n群の前記第一注文情報に基づく，前記成行注文の価格と同じ前記価格の前記\n指値注文を有効とし，\n前記第一注文情報に基づく該指値注文が約定されたときに，当該注文情報\n群の前記第二注文情報に基づく指値注文および前記逆指値注文情報に基づく\n前記逆指値注文を有効にし，\n以後，前記約定情報生成手段が前記第一注文情報に基づく前記指値注文の\n約定を行うことと，前記約定情報生成手段が前記第一注文情報に基づく前記\n指値注文の約定が行われた後の前記第二注文情報に基づく前記指値注文の約\n定を行うことと，前記注文情報生成手段が前記第二注文情報に基づく前記指\n値注文の約定が行われた後の，次の前記注文情報群の生成を行うこととを繰\nり返し行い，\n前記第二注文情報に基づく前記指値注文が約定されたとき，前記約定情報\n生成手段が前記逆指値注文情報に基づく逆指値注文を停止し，\n前記逆指値注文情報に基づく前記逆指値注文が約定されたときに，前記約\n定情報生成手段が前記逆指値注文情報と同じ前記注文情報群に含まれる前記\n第二注文情報に基づく指値注文，及び，当該注文情報群の後に生成される予\n定の前記注文情報群の生成を停止することを特徴とする管理システム。\n３  本件審決の理由の要旨\n本件審決の理由は，別紙審決書（写し）記載のとおりである。その要旨は，\n①本件訂正のうち，本件訂正前の請求項１の記載を本件訂正後の請求項１に訂\n正する訂正（請求項１の記載を引用する請求項２，請求項２の記載を引用する\n請求項３ないし５，及び請求項１ないし５の記載を引用する請求項７も同様に\n訂正。以下「訂正事項１－１」という。），本件訂正前の請求項２の記載を本\n件訂正後の請求項２に訂正する訂正（請求項２の記載を引用する請求項３ない\nし５，及び請求項１ないし５の記載を引用する請求項７も同様に訂正。以下「訂\n正事項１－２」という。）及び本件訂正前の請求項６の記載を本件訂正後の請\n求項６に訂正する訂正（以下「訂正事項１－３」という。）は，本件訂正前の\n「売買取引開始時に，成行注文を行うとともに，該成行注文を決済するための\n指値注文を有効とし」との事項について，当該事項が「前記注文情報生成手段」\nによるものであり，「該成行注文を決済するための指値注文」だけでなく，「前\n記成行注文を決済するための逆指値注文」についても有効とするとの事項を追\n加したものであるが，当該訂正事項については，願書に最初に添付した明細書\n等に記載されておらず，また，願書に最初に添付した明細書等の記載から自明\nな事項であるともいえないものであり，願書に最初に添付した明細書等のすべ\nての記載を総合することにより導かれる技術的事項との関係において，新たな\n技術的事項を導入するものであって，願書に最初に添付した明細書等に記載し\nた事項の範囲内においてしたものとはいえず，新規事項を追加するものである\nから，本件訂正は，特許法１３４条の２第９項で準用する同法１２６条５項の\n規定に適合しない，②本件手続補正は，本件訂正に係る訂正請求書に添付した\n全文訂正明細書についての補正であり，訂正請求書自体の補正を行うものでは\nないが，訂正請求書の請求の趣旨と訂正明細書等は一体のものであるから，全\n文訂正明細書に対しての上記補正にともない，実質的に訂正請求書も同様の補\n正がされたといえるところ，訂正事項の削除，軽微な瑕疵の補正等に該当しな\nいものであって，訂正事項を変更するものであるから，本件手続補正は，訂正\n請求書の要旨を変更するものであり，同法１３４条の２第９項において準用す\nる同法１３１条の２第１項の規定に適合しないから認めることはできず，上記\n①の訂正拒絶理由は依然として解消していない，③原告主張の無効理由のうち，\n本件発明１ないし７は，本件出願前に頒布された刊行物である甲１（米国特許\n公開第２００２／０１９４１０６）及び甲２（特開２００２－１８３４４６号\n公報）に記載された発明に基づいて当業者が容易に発明をすることをできたか\nら，進歩性を欠如する旨の無効理由１は理由がないが，本件出願は分割要件違\n反であるため，その出願日は現実の出願日であることを前提として，本件発明\n１ないし７は，本件出願前に頒布された刊行物である甲３（特開２０１３－１\n３７８０２号公報）に記載された発明と同一の発明であるから，新規性を欠如\nする旨の無効理由２及び本件発明１ないし７は，特許法３６条６項１号の要件\n（以下「サポート要件」という。）に適合しない旨の無効理由３は，いずれも\n理由があるから，本件特許は無効とすべきであるというものである。\n第３  当事者の主張\n１  取消事由１（訂正要件の判断の誤り）\n(1)  原告の主張\nア  本件手続補正の判断の誤り\n特許法第１３４条の２第９項で準用する同法１３１条の２第１項は，「審\n理遅延を防止するために，審理対象の変動を禁止したもの」であり，訂正\n請求書の要旨変更に当たるか否かは，「審理対象が実質的に変更されてい\nる」か否かによって判断されるべきであるから，訂正請求書の要旨変更に\n当たらない場合は「訂正事項の削除，軽微な瑕疵の補正等に該当しない」\n場合のみに限られるものではない。\nしかるところ，本件手続補正は本件訂正に係る訂正請求書の訂正事項１\n－１ないし１－３で「注文情報生成手段」が行うとされていた決済注文\nの有効／無効の切替処理を「約定情報生成手段」が行うこととしたも\nのであり，本件手続補正によって金融商品取引装置が行う処理内容には何\nらの変更も加えられておらず，単に決済注文の有効／無効の切替処理を行\nう手段を「注文情報生成手段」と呼ぶか，「約定情報生成手段」と呼ぶか\nという形式的な点の補正にとどまるから，これによって審理対象が実質的\nに変更されているものでなければ，審理遅延が生じるものでもない。\nまた，仮に訂正請求書の要旨変更に当たらない場合が訂正事項の削除，\n軽微な瑕疵の補正等の場合のみに限られるとしても，特許庁は，本件訂正\n拒絶理由通知において，本件明細書の記載から，決済注文の有効／無効の\n切替処理を行うのが注文情報生成部（注文情報生成手段）ではなく，約定\n情報生成部（約定情報生成手段）であると認定し，これを訂正拒絶理由と\nして挙げているのであるから，そのような特許庁の理解を前提とすれば，\n本件訂正前の請求項１において決済注文の有効／無効の切替処理を注文情\n報生成手段が行うと規定していたのは，明白な誤記に過ぎず，誤記がない\nように補正することは，正に「軽微な瑕疵の補正等」であって，訂正請求\n書の要旨を変更するものではない。\nしたがって，本件手続補正は特許法１３１条の２第１項に違反するもの\nではなく，適法な補正であるから，本件手続補正を認めずに，本件訂正は\n訂正要件を欠くとした本件審決の判断は誤りである。\nイ  訂正事項１－１ないし１－３の特許法１２６条５項の要件の適合性の判\n断の誤り\n本件訂正前の特許請求の範囲の請求項１には，「注文情報生成手段」は，\n「売買取引開始時に，成行注文を行うとともに，該成行注文を決済するた\nめの指値注文を有効とし，」と規定され，本件発明１の「注文情報生成手\n段」が，注文情報を生成するだけではなく，決済注文の有効／無効の切り\n替えを行う構成が規定されていた。\n訂正事項１―１は，本件訂正前の請求項１の「注文情報生成手段」が「該\n成行注文を決済するための指値注文を有効とし，」との記載を「注文情報\n生成手段」が「該成行注文を決済するための指値注文および前記成行注文\nを決済するための逆指値注文を有効とし，」との記載に訂正し，本件訂正\n後の請求項１では，「注文情報生成手段」が決済注文の有効／無効の切り\n替えを行う対象を，「成行注文を決済するための指値注文」に加えて「前\n記成行注文を決済するための逆指値注文」としたものであるから，本件訂\n正の前後で，「注文情報生成手段」が行う処理ないし内容に質的な変化は\nない。\nまた，本件明細書には，金融商品取引管理装置１が成行注文を決済する\nための指値注文や逆指値注文の有効／無効を切り替える処理を行うことが\n明記されている。もっとも，本件明細書には，「この発明の一の実施形態」\n（【００２１】）として，「約定情報生成部１４」が決済注文の有効／無\n効の切り替えを行うこと（【００５９】，【００６１】）が記載されてい\nるが，一方で，【００７６】には，上記実施形態は「本発明の例示」にす\nぎないことが記載されていることに照らすと，「約定情報生成部１４」が\n行う決済注文の有効／無効の切替処理は，本件訂正前の請求項１中の「注\n文情報生成手段」が「該成行注文を決済するための指値注文を有効とし，」\nとの記載に対応するものと理解できる。\nさらに，金融商品取引管理装置における注文情報の生成から注文の約定\nまでのプロセスは一連の処理手順で行われるものであり，どこからどこま\nでの処理を「注文情報生成手段」がやらなければならないとか，「約定情\n報生成手段」がやらなければならないといった必然性も，論理的な区別も\nない。そもそも決済注文の有効／無効の切り替えを行う構成は，「注文情\n報の生成」それ自体でも「約定情報の生成」それ自体でもなく，注文情報\nに係る構成であることに着目すれば，「注文情報生成手段」が行うと説明\nするのが自然であろうし，成行注文の約定を受けて行われるものであるこ\nとに着目すれば，「約定情報生成手段」が行うと説明しても不自然ではな\nいから，そのような構成を「注文情報生成手段」と「約定情報生成手段」\nのいずれで行うものと規定するかは，説明の便宜以上の意味はない。\nそして，当業者においては，本件訂正前の請求項１には，「注文情報生\n成手段」が決済注文の有効／無効の切り替えを行うことが規定されており，\n本件明細書においても金融商品取引管理装置はそのような処理を行うもの\nとして理解できるのであるから，訂正事項１－１により，有効／無効を切\nり替える決済注文として，逆指値注文が追加されたことによって，新たな\n技術的事項を導入するものではない。\nしたがって，訂正事項１－１の「前記注文情報生成手段は，売買取引開\n始時に，成行注文を行うとともに，該成行注文を決済するための指値注文\nを有効とし」との事項は新規事項の追加に当たらない。\nそうすると，訂正事項１－１ないし１－３が新規事項の追加にあたり，\n本件訂正は特許法１２６条５項の要件に適合しないとした本件審決の判断\nは誤りである。\nウ  小括\n以上によれば，本件審決は訂正要件の判断を誤った結果，発明の要旨認\n定を誤ったものであるから，違法として取り消されるべきである。\n(2)  被告の主張\nア  本件手続補正の判断の誤りの主張に対し\n原告の主張は争う。本件手続補正は，いずれも訂正事項の削除又は軽微\nな瑕疵の補正等に該当せず，不適法であるとした本件審決の判断に誤りは\nない。\nイ  訂正事項１－１ないし１－３の特許法１２６条５項の要件の適合性の判\n断の誤りの主張に対し\n(ア)  本件発明１を分説すると，以下のとおりである。\n１Ａ  金融商品の売買取引を管理する金融商品取引管理装置であって，\n１Ｂ  前記金融商品の売買注文を行うための売買注文申込情報を受け付\nける注文入力受付手段と，\n１Ｃ  該注文入力受付手段が受け付けた前記売買注文申込情報に基づい\nて金融商品の注文情報を生成する注文情報生成手段とを備え，\n１Ｄ  該注文情報生成手段は，\n１Ｅ  一の前記売買注文申込情報に基づいて，所定の前記金融商品の売\nり注文または買い注文の一方を成行または指値で行う第一注文情報\nと，該金融商品の売り注文または買い注文の他方を指値で行う第二\n注文情報と，前記金融商品の売り注文または買い注文の前記他方を\n逆指値で行う逆指値注文情報とを含む注文情報群を複数回生成し，\n１Ｆ  売買取引開始時に，成行注文を行うとともに，該成行注文を決済\nするための指値注文を有効とし，\n１Ｇ  前記成行注文を決済する前記指値注文が約定されたとき，前記注\n文情報群の生成を行うと共に，該生成された注文情報群の前記第一\n注文情報に基づく前記指値注文を有効とし，以後，前記第一注文情\n報に基づく前記指値注文の約定と，前記第一注文情報に基づく前記\n指値注文の約定が行われた後の前記第二注文情報に基づく前記指値\n注文の約定と，前記第二注文情報に基づく前記指値注文の約定が行\nわれた後の，次の前記注文情報群の生成とを繰り返し行わせる\n１Ｈ  ことを特徴とする金融商品取引管理装置。\n(イ)ａ  本件訂正前の請求項１の文言によれば，本件発明１では，「注文\n情報生成手段」（構成１Ｄ）が「一の前記売買注文申込情報に基づい\nて，所定の前記金融商品の売り注文または買い注文の一方を成行また\nは指値で行う第一注文情報と，該金融商品の売り注文または買い注文\nの他方を指値で行う第二注文情報と，前記金融商品の売り注文または\n買い注文の前記他方を逆指値で行う逆指値注文情報とを含む注文情報\n群を複数回生成」すること（構成１Ｅ）を行うことだけが規定されて\nおり，これに続く「売買取引開始時に，成行注文を行うとともに，該\n成行注文を決済するための指値注文を有効とし，」（構成１Ｆ）及び\n「前記成行注文を決済する前記指値注文が約定されたとき，前記注文\n情報群の生成を行うと共に，該生成された注文情報群の前記第一注文\n情報に基づく前記指値注文を有効とし，以後，前記第一注文情報に基\nづく前記指値注文の約定と，前記第一注文情報に基づく前記指値注文\nの約定が行われた後の前記第二注文情報に基づく前記指値注文の約定\nと，前記第二注文情報に基づく前記指値注文の約定が行われた後の，\n次の前記注文情報群の生成とを繰り返し行わせること」（構成１Ｇ）\nは，「金融商品取引管理装置」（構成１Ｈ）が総体的に行うことを規\n定したものであって，「金融商品取引管理装置」を構成する「注文入\n力受付手段」及び「注文情報生成手段」のいずれか又は本件発明１で\n規定されていない「手段」のうちのどれが行うものであるのかを明示\n的に特定したものではない。\nまた，本件訂正前の請求項１は「注文情報生成手段」が構成１Ｆ及\nび１Ｇを行うことを規定しているとの原告の主張を前提とすると，構\n成１Ｆ及び１Ｇは，本件明細書の「次に，第一注文５１ａに基づく成\n行注文が約定すると，約定情報生成部１４は，第一の注文情報群５１\nＡにおける第二注文５１ｂと逆指値注文５１ｃとを無効な注文情報か\nら有効な注文情報に変更する（ステップＳ２２）。」（【００６１】）\nとの記載に反し，サポート要件に違反することとなるから，本件訂正\n前の請求項１は，少なくとも「注文情報生成手段」が構成１Ｆ及び１\nＧを行う主体であることを規定したものでない。\nそうすると，本件訂正前の請求項１には，本件発明１の「注文情報\n生成手段」が，注文情報を生成するだけではなく，決済注文の有効／\n無効の切り替えを行う構成が規定されていたとの原告の主張は誤りで\nある。\nｂ  本件明細書には，「データ処理部１０は…機能手段としてのフロン\nトページ配信部１１，注文入力受付部（注文入力受付手段）１２，入\n出金情報生成部１３，約定情報生成部（約定情報生成手段）１４，口\n座情報生成部１５，注文情報生成部（注文情報生成手段）１６，デー\nタベース（ＤＢ）接続基底部１７，価格情報受信管理部１９を有して\nいる。」（【００２５】）との記載があるとおり，「注文情報生成部」\n及び「約定情報生成部」は，それぞれ「注文情報生成手段」及び「約\n定情報生成手段」と同一ないし一対一に対応することが開示されてい\nる。\nそうすると，本件明細書には，「注文情報生成部」が注文情報を生成\nすると，以後の処理は，「約定情報生成部」のみが行うことが記載され\nており，それ以外のことの記載はない。\n(ウ)  以上によれば，訂正事項１－１によって，本件発明１の構成１Ｆの\n直前に「前記注文情報生成手段は，」との主語を追加し，「売買取引開始\n時に，成行注文を行うとともに，該成行注文を決済するための指値注文\nを有効とし」を行う主体が「注文情報生成手段」であることをはじめて\n明らかにしたものであり，訂正事項１－１に係る本件訂正は，本件出願\nの願書に添付した明細書，特許請求の範囲又は図面に記載した事項の範\n囲内でしたものではなく，新たな技術的事項を導入するものであるから，\n新規事項の追加に当たるというべきである。\nしたがって，訂正事項１－１ないし１－３が特許法１２６条５項の要\n件に適合しないとした本件審決の判断に誤りはない。\nウ  小括\n以上のとおり，本件審決における本件訂正の訂正要件の判断に誤りはな\nいから，原告主張の取消事由１は，理由がない。\n２  取消事由２（手続違背）\n(1)  原告の主張\n前記１(1)イのとおり，本件訂正前の請求項１には，「注文情報生成手段」\nが「売買取引開始時に，成行注文を行うとともに，該成行注文を決済するた\nめの指値注文を有効とし，」と規定され，本件発明１の「注文情報生成手段」\nが，決済注文の有効／無効の切り替えを行う構成が規定されていたが，仮に\n「注文情報生成手段」が決済注文の有効／無効の切り替えを行うことが，本\n件明細書に開示されていない技術的事項を導入するものであるというのであ\nれば，本件発明１には，本件訂正前からサポート要件違反があったことにな\nる。\n本件審決は，これを訂正要件違反の問題として扱っているが，事の本質は，\n被告が主張していない新たな無効理由であるサポート要件違反を指摘するも\nのであるから，職権による無効理由通知（特許法１５３条２項）を発すべき\nであった。そうすれば，原告は，反論することもできたし，必要な訂正を行\nうこと（同法１３４条の２第１項本文）もできたものである。\nそうすると，本件審決がこれを訂正要件違反の問題として扱ったことは，\n原告にとって完全な不意打ちであるとともに，適切な防御・訂正の機会を奪\nうものであって，手続保障に反し，特許法１５３条２項の趣旨を潜脱するも\nのである。\nしたがって，本件審決には，手続違背があるから，取消しを免れない。\n(2)  被告の主張\n原告の主張は争う。前記１(2)イ(イ)のとおり，本件訂正前の請求項１には，\n「売買取引開始時に，成行注文を行うとともに，該成行注文を決済するため\nの指値注文を有効とし」を行う主体が「注文情報生成手段」であることが規\n定されておらず，本件訂正前の段階では，サポート要件違反が存在しなかっ\nたから，本件審決における手続違背をいう原告の主張は，その前提を欠くも\nのである。\n第４  当裁判所の判断\n１  本件明細書の記載事項について\n(1)  本件明細書（甲５）には，次のような記載がある（下記記載中に引用する\n図面については別紙を参照。）。\nア  【技術分野】\n【０００１】\n本発明は，外国為替等，金融商品の取引を管理，支援する技術に関する。\n【背景技術】\n【０００２】\n外国為替等の金融商品の取引方法としては，成行注文と指値注文とが知\nられている。成行注文とは，注文時の価格で取引を行う注文形態である。\n一方，指値注文とは，予め顧客から売買値段の指定を受けておき，その金\n融商品の価格が指定された価格になったときに取引を行う注文形態である。\n通常，指値注文の場合，金融商品の取扱業者は対象となる金融商品が指定\nされた金額まで下がったときに当該金融商品の買い注文を行い，あるいは，\n指定された金額まで上がったときに当該金融商品の売り注文を行う。従来，\nこの金融商品の指値注文をコンピュータシステムを用いて行う発明が知ら\nれている（例えば，特許文献１参照）。\n【発明が解決しようとする課題】\n【０００４】\nここで，金融商品の指値注文においては，イフダンオーダーが行われる\nことも多い。本願明細書において，イフダンオーダーとは，順位のある２\nつの注文を同時に出し，第一順位の注文（以下「第一注文」と称する。）\nが成立したら，自動的に第二順位の注文（以下「第二注文」と称する。）\nが有効になる注文形式のことを言う。実際の金融商品取引においては，一\nの顧客が特定の金融商品について複数のイフダンオーダーを並行して行う\n場合もある。\n【０００５】\nこれに対して，特許文献１のシステムには，イフダンオーダーの指値注\n文に対応できないという問題がある。また，特許文献１のシステムには，\n利用客が複数のイフダンオーダーを並行して行いたい場合には，それぞれ\nのイフダンオーダーを個別に注文していかなければならず，顧客の注文手\n続が煩雑になるという問題がある。\n【０００６】\n一方，金融商品の相場が従来の相場よりも大きく変動してしまい当面回\n復の見込みがない場合には，当該金融商品を所持する取引者は，損害を最\n小限に留めるべく当該金融商品の売却を望む場合が多い。しかし，特許文\n献１のシステムでは，利用客は，指値注文の買い注文によって取得した金\n融商品を将来の相場の状況に応じて自動的に売却することはできず，また\nイフダンオーダーを相場の状況に応じて自動的に中止させることができな\nいという問題がある。\n【０００７】\nさらに，特許文献１のシステムには，成行注文でイフダンオーダーを行\nいたい場合に対応できないという問題もある。\n【０００８】\n本発明は上記の問題に鑑みてなされたものであり，金融商品の成行注文\nにおいて，システム利用客が煩雑な注文手続を行うことなく複数のイフダ\nンオーダーを行うことができ，また将来の相場の状況に応じてイフダンオ\nーダーを自動的に中止させることができて，システムを利用する顧客の利\n便性を高めると共にイフダンオーダーを行う際に顧客が被るリスクを低減\nさせることができる金融商品取引管理装置を提供することを課題としてい\nる。\nイ  【課題を解決するための手段】\n【０００９】\nかかる課題を解決するため，請求項１に記載の発明は，金融商品の売買\n取引を管理する金融商品取引管理装置であって，前記金融商品の売買注文\nを行うための売買注文申込情報を受け付ける注文入力受付手段と，該注文\n入力受付手段が受け付けた前記売買注文申込情報に基づいて金融商品の注\n文情報を生成する注文情報生成手段とを備え，該注文情報生成手段は，一\nの前記売買注文申込情報に基づいて，所定の前記金融商品の売り注文また\nは買い注文の一方を成行または指値で行う第一注文情報と，該金融商品の\n売り注文または買い注文の他方を指値で行う第二注文情報と，前記金融商\n品の売り注文または買い注文の前記他方を逆指値で行う逆指値注文情報と\nを含む注文情報群を複数回生成し，売買取引開始時に，成行注文を行うと\nともに，該成行注文を決済するための指値注文を有効とし，前記成行注文\nを決済する前記指値注文が約定されたとき，前記注文情報群の生成を行う\nと共に，該生成された注文情報群の前記第一注文情報に基づく前記指値注\n文を有効とし，以後，前記第一注文情報に基づく前記指値注文の約定と，\n前記第一注文情報に基づく前記指値注文の約定が行われた後の前記第二注\n文情報に基づく前記指値注文の約定と，前記第二注文情報に基づく前記指\n値注文の約定が行われた後の，次の前記注文情報群の生成とを繰り返し行\nわせることを特徴とする。\n請求項２に記載の発明は，請求項１に記載の構成に加え，前記注文情報\n生成手段が生成した前記注文情報を記録する注文情報記録手段と，前記注\n文情報に基づいて前記金融商品の約定を行う約定情報生成手段とを備え，\n前記約定情報生成手段は，前記注文情報記録手段に記録された個々の前記\n注文情報のうち，前記第一注文情報に基づいて前記金融商品の約定を行う\n処理と，前記第二注文情報に基づいて前記金融商品の約定を行う処理とを，\n予め定められた回数だけ繰り返すことを特徴とする。\n【００１３】\n請求項６に記載の発明は，金融商品の売買取引を管理する金融商品取引\n管理システムであって，前記金融商品の売買注文を行うための売買注文申\n込情報を受け付ける注文入力受付手段と，該注文入力受付手段が受け付け\nた前記売買注文申込情報に基づいて金融商品の注文情報を生成する注文情\n報生成手段とを備え，該注文情報生成手段は，一の前記売買注文申込情報\nに基づいて，所定の前記金融商品の売り注文または買い注文の一方を成行\nまたは指値で行う第一注文情報と，該金融商品の売り注文または買い注文\nの他方を指値で行う第二注文情報と，前記金融商品の売り注文または買い\n注文の前記他方を逆指値で行う逆指値注文情報とを含む注文情報群を複数\n回生成し，売買取引開始時に，成行注文を行うとともに，該成行注文を決\n済するための指値注文を有効とし，前記成行注文を決済する前記指値注文\nが約定されたとき，前記注文情報群の生成を行うと共に，該生成された注\n文情報群の前記第一注文情報に基づく前記指値注文を有効とし，以後，前\n記第一注文情報に基づく前記指値注文の約定と，前記第一注文情報に基づ\nく前記指値注文の約定が行われた後の前記第二注文情報に基づく前記指値\n注文の約定と，前記第二注文情報に基づく前記指値注文の約定が行われた\n後の，次の前記注文情報群の生成とを繰り返し行わせることを特徴とする。\n請求項７に記載の発明は，プログラムであって，コンピュータを請求項\n１乃至５の何れか一つに記載の金融商品取引管理装置として機能させるこ\nとを特徴とする。\nウ  【発明の効果】\n【００１４】\n請求項１，請求項６に記載の発明によれば，金融商品の売買注文を行う\nための売買注文申込情報を受け付ける注文入力受付手段と，注文入力受付\n手段が受け付けた前記売買注文申込情報に基づいて金融商品の注文情報を\n生成する注文情報生成手段とを備え，注文情報生成手段は，一の売買注文\n申込情報に基づいて，所定の金融商品の売り注文または買い注文の一方を\n成行または指値で行う第一注文情報と，金融商品の売り注文または買い注\n文の他方を指値で行う第二注文情報と，金融商品の売り注文または買い注\n文の他方を逆指値で行う逆指値注文情報とを含む注文情報群を複数回生成\nし，売買取引開始時に，成行注文を行うとともに，該成行注文を決済する\nための指値注文を有効とし，成行注文を決済する指値注文が約定されたと\nき，注文情報群の生成を行うと共に，生成された注文情報群の第一注文情\n報に基づく指値注文を有効とし，以後，第一注文情報に基づく指値注文の\n約定と，第一注文情報に基づく指値注文の約定が行われた後の第二注文情\n報に基づく指値注文の約定と，第二注文情報に基づく指値注文の約定が行\nわれた後の，次の注文情報群の生成とを繰り返し行わせる。これにより，\n指値注文により金融商品の売買を行う顧客の利便性を向上させつつ，金融\n商品の指値注文において，システムを利用する顧客が煩雑な注文手続を行\nうことなく複数のイフダンオーダーを繰り返し行うことができて，システ\nムを利用する顧客の利便性を高めると共にイフダンオーダーを行う際に顧\n客が被るリスクを低減させることができる。\n【００１５】\n請求項２に記載の発明によれば，注文情報生成手段が生成した注文情報\nを記録する注文情報記録手段と，注文情報に基づいて金融商品の約定を行\nう約定情報生成手段とを備え，第一注文情報，第二注文情報に基づいて金\n融商品の約定を行う約定情報生成手段を備え，約定情報生成手段は，注文\n情報記録手段に記録された個々の注文情報のうち第一注文情報に基づいて\n金融商品の約定を行う処理と第二注文情報に基づいて金融商品の約定を行\nう処理とを複数回繰り返し行う。これにより，金融商品の指値注文におい\nて，システムを利用する顧客が煩雑な注文手続を行うことなく複数のイフ\nダンオーダーを行うことができ，また将来の相場の状況に応じてイフダン\nオーダーを自動的に中止させることができて，システムを利用する顧客の\n利便性を高めると共にイフダンオーダーを行う際に顧客が被るリスクを低\n減させることができる。\n【００１６】\n請求項３に記載の発明によれば，逆指値注文情報に基づく逆指値注文が\n約定されたときに，第一注文情報に基づく指値注文および第二注文情報に\n基づく指値注文を停止し，約定情報生成手段は，逆指値注文情報に基づい\nて約定を行った場合，逆指値注文情報を生成した売買注文申込情報に対応\nして生成される第一注文情報および第二注文情報のうち，逆指値注文情報\nの生成時点で未生成である注文情報を，全て注文情報記録手段から消去す\nるキャンセル処理を行う。これにより，簡単な処理で，指値取引によって\n生ずる損害を最小限に留めることができる。\n【００１７】\n請求項４に記載の発明によれば，一旦成立した金融商品の注文に対する\nキャンセル要求があった場合，キャンセル要求のあった注文に対応する第\n一注文情報および／又は第二注文情報および／又は逆指値注文情報のうち，\n約定前の注文情報を全てキャンセル処理する。これにより，金融商品の相\n場が従来の相場よりも大きく変動してしまい当面回復の見込みがない場合\n等において，指値取引を行う顧客が被る損害を最小限に留めることができ\nる。\n【００１８】\n請求項５に記載の発明によれば，特定顧客の預金残高情報を記録する顧\n客口座情報記録手段を備え，注文情報記録手段には第一注文情報および第\n二注文情報の注文価格に基づく金額情報が属性情報として記録され，注文\n情報生成手段は注文価格に基づく情報を預金残高情報と比較し，預金残高\n情報の値が注文価格に基づく金額情報の値以上である場合に，第一注文情\n報および第二注文情報を生成する。これにより，支払いが確実にできる場\n合にのみイフダンオーダーによる指値注文を受け付け，支払い不能による\n商取引上の支障が生ずることなくシステムを運用できる。\n【００１９】\n請求項７に記載の発明によれば，本発明の金融商品取引管理装置をプロ\nグラム化し，多様なコンピュータハードウェア上で実現させることができ\nる。\nエ  【発明を実施するための形態】\n【００２１】\n以下，この発明の一の実施形態について図面を参照して説明する。\n【００２２】\n図１は，本実施形態の金融商品取引管理システムのシステム構成図及び\n機能ブロック図である。同図に示すとおり，金融商品取引管理システム１\nＡは，金融商品取引管理装置１と，ｎ個（ｎ≧１）のクライアント端末２\n１～２ｎとを備えており，金融商品取引管理装置１とクライアント端末２\n１～２ｎは，ＷＡＮ（Ｗｉｄｅ  Ａｒｅａ  Ｎｅｔｗｏｒｋ）としてのイ\nンターネット３を介して相互に交信可能である。本実施形態の金融商品取\n引管理システム１Ａは，金融商品として外国為替を取扱う。これにより，\nイフダンオーダーによって指値注文による取引を行う需要の高い金融商品\nについて金融商品取引管理システム１Ａを適用し，金融商品取引管理シス\nテム１Ａを利用する顧客の利便性を一層高めることができる。\n【００２３】\n金融商品取引管理装置１は，金融商品の取扱業者が管理し運用するサー\nバコンピュータであり，Ｗｅｂサーバ機能，大容量のデータを保存するデ\nータベース機能を備えている。クライアント端末２１，・・・，２ｎ は，\n金融商品の売買を行う個人又は法人が所持し使用する，データ通信機能を\n有する通信端末であって，パーソナルコンピュータ，携帯電話端末等がこ\nれに該当する。クライアント端末２１，・・・，２ｎ は，マウスやキーボ\nード等各種指示を入力するために用いられる操作部２１１ ，・・・，２１\nｎ，ＬＣＤ（Ｌｉｑｕｉｄ  Ｃｒｙｓｔａｌ  Ｄｉｓｐｌａｙ）等からな\nり操作部２１１ ，・・・，２１ｎ から入力された各種指示等や各種画像\nを表示する表示部２２１，・・・，２２ｎ を有している。なお，クライア\nント端末２１ ，・・・，２ｎ ，操作部２１１，・・・，２１ｎ ，表示部\n２２１ ，・・・，２２ｎ は同じ構成を持つので，以下，区別する必要が\nある場合を除き，クライアント端末２，操作部２１，表示部２２とする。\n【００２４】\n図１には図示しないが，金融商品取引管理装置１は少なくとも１のＣＰ\nＵ（Ｃｅｎｔｒａｌ  Ｐｒｏｃｅｓｓｉｎｇ  Ｕｎｉｔ，中央処理装置），\n及び，ＣＰＵの作業領域として機能するＲＡＭ（Ｒａｎｄｏｍ  Ａｃｃｅ\nｓｓ  Ｍｅｍｏｒｙ），起動用ブートプログラム等が記録されたＲＯＭ（Ｒ\nｅａｄ  Ｏｎｌｙ  Ｍｅｍｏｒｙ），各種プログラムやデータ等が記録さ\nれるハードディスク等の補助記憶装置，データの送受信に用いる通信イン\nターフェース等が設けられている。補助記憶装置には，ＯＳ（Ｏｐｅｒａ\nｔｉｎｇ  Ｓｙｓｔｅｍ）用プログラム，各種アプリケーションプログラ\nム，データベースに記録されたデータ等が記録されており，これらのプロ\nグラムやデータはＣＰＵの演算処理により，ハードウェア資源と協働して\n各種機能を実現する。\n【００２５】\n図１に示す通り，金融商品取引管理装置１は，上述した各種プログラム\nとハードウェア資源とに基づいて実現される機能手段としてのデータ処理\n部１０，及び，データ処理部１０にて処理される各種データが記録される\nデータベース１８を有する。データ処理部１０は金融商品取引管理装置１\nにおいて用いる各種データの生成，加工等の処理を行うものであり，更に，\n同じく機能手段としてのフロントページ配信部１１，注文入力受付部（注\n文入力受付手段）１２，入出金情報生成部１３，約定情報生成部（約定情\n報生成手段）１４，口座情報生成部１５，注文情報生成部（注文情報生成\n手段）１６，データベース（ＤＢ）接続基底部１７，価格情報受信管理部\n１９を有している。\n【００２６】\n注文入力受付部１２は，クライアント端末２から入力された各種の注文\nに関するデータを受け付け，金融商品の注文を成立させるために必要な各\n種処理を行う。\n【００２７】\n入出金情報生成部１３は，クライアント端末２から入出金のリクエスト\nを受け付け，リクエストに基づいて入出金の一覧表を作成する。\n【００２８】\n注文情報生成部１６は，注文入力受付部１２が処理した情報に基づいて，\n成立した金融商品の注文に関する情報を生成する。ここでの注文には，い\nわゆる成行注文，指値注文，指値注文のイフダンオーダーに加え，成行注\n文のイフダンオーダーも含まれる。\n【００２９】\n約定情報生成部１４は，注文情報生成部１６が生成した注文に基づく約\n定処理，及び，完了した約定処理に関する情報を顧客のクライアント端末\n２に送るための処理を行う。なお，ここでの「約定」とは，顧客の注文に\n基づいて金融商品の売買を成立されるための各種の手続並びに処理のこと\nをいう。\n【００３０】\n口座情報生成部１５は，顧客の預金残高情報を生成し，預金残高情報を\n証拠金情報（即ち，注文の約定を実現できることを裏付けるための情報）\nとして管理する機能を有する。なお，口座情報生成部１５において生成さ\nれる預金残高に関する情報は，現実の預金残高と整合性を取るために，銀\n行等の金融機関が提供する，顧客の現実の預金残高に関する情報と定期的\nに照合される。\n【００３１】\nデータベース接続基底部１７は，データ処理部１０において生成，加工\n処理されたデータとデータベース１８にて記録されるデータとの変換（例\nえば論理的データ構造と物理的データ構造との相互変換）を行うと共に，\nデータ処理部１０とデータベース１８との間でデータを交信するために必\n要な処理を行う。\n【００３２】\nデータベース１８は，金融商品取引管理装置１にて用いられるデータを\n記録する。本実施形態におけるデータベース１８はリレーショナルデータ\nベースによって形成するが，例えばオブジェクトデータベース等，大量の\nデータの記録や書換えに適したものであればどのような形式を用いてもよ\nい。データベース１８には，「注文情報記録手段」としての注文テーブル\n１８１，「顧客口座情報記録手段」としての顧客口座情報テーブル１８２，\n通貨ペア注文条件テーブル１８３，シーケンス番号テーブル１８４が記録\nされている。シーケンス番号テーブル１８４には注文情報（後述）ごとに\n一意に付されるシーケンス番号が記録される。\n【００３３】\nフロントページ配信部１１は，クライアント端末２の表示部２２にされ\nる画像データを作成し，作成した画像データをクライアント端末２に送信\nする。\n【００３４】\n価格情報受信管理部１９は，金融商品取引管理装置１にて扱う金融商品\nの価格についての情報を取得して保存し，保存した情報に対し，データ処\n理部１０にて用いるために必要な処理を行う。本実施形態においては，価\n格情報受信管理部１９は外為の相場価格の情報を取得・保存する。\n【００３５】\n図２Ａは注文テーブル１８１のフィールド定義の模式図，図２Ｂは顧客\n口座情報テーブル１８２のフィールド定義の模式図，図２Ｃは通貨ペア注\n文条件テーブル１８３のフィールド定義の模式図である。これらの図に示\nす通り，各テーブル１８１，１８２，１８３は項目数分のフィールドを有\nし，フィールドの名称（フィールド名），文字や数値や日時等のデータ型\n（型），ビット長等のデータ長（長さ），空欄不可指定（Not Null），デ\nフォルト値の有無（デフォルト値），データの項目名（備考）等が規定さ\nれる。\n【００３６】\n上述の金融商品取引管理装置１においては，金融商品の指値取引が行わ\nれる際，一の予約注文によって，同一種類の複数の金融商品の指値注文を\n複数のイフダンオーダーによって行うことができる。\nオ  【００３７】\n次に，本実施形態の金融商品取引管理システム１Ａを用いて成行リピー\nトイフダンオーダーを行うときの取引手順について説明する。\n【００３８】\n図３は，本実施形態の金融商品取引管理装置１における，成行リピート\nイフダンオーダーを行う際の処理手順を示すフローチャートである。以下，\n同図に基づいて注文時の処理手順を説明する。\n【００３９】\n金融商品取引管理システム１Ａを利用する顧客は，クライアント端末２\nを用いて金融商品取引管理装置１にアクセスする。金融商品取引管理装置\n１のフロントページ配信部１１は，アクセスのあったクライアント端末２\nの表示部２２に，第一の入力画面（図示せず），及び図５にイメージ図を\n示す第二の入力画面４０を表示させる。\n【００４０】\n第一の入力画面（図示せず）には，取引可能な通貨ペアの選択ボタンと，\n売買形態の選択ボタンと，取引形態（成行注文，指値注文，イフダンオー\nダーの指値注文，イフダンオーダーの成行注文および逆指値注文）の選択\nボタンと，注文の有効期限（特定の年，月，あるいは無期限，等）を選択\nする有効期限選択ボタンと，各選択ボタンによる選択内容を確定させるた\nめの「選択」ボタン（いずれも図示せず）が設けられている。顧客は，売\n買を希望する通貨ペア，例えば日本円と米国ドルの通貨ペアの選択ボタン\nをクリックし，希望する売買形態，例えば「買い」の新規注文（即ち，新\nしくポジション（外貨の持高）を持つための注文）を選択する選択ボタン\nをクリックし，イフダンオーダーの成行注文の選択ボタンをクリックし，\n注文の有効期限として「無期限」を選択し，更に「選択」ボタンをクリッ\nクすると，金融商品取引管理装置１のフロントページ配信部１１は，クラ\nイアント端末２の表示部２２に第二の入力画面を表示させる。\n【００４１】\n図５に示す通り，第二の入力画面４０には第一の入力画面（図示せず）\nにおいて入力された事項，即ち，日本円と米国ドルの通貨ペアを示す表示\n４１，注文の売り／買いの区別を示す表示４２，注文形式が成行イフダン\nであることを示す表示４３および有効期限が無期限であることの表示４９\nに加えて，取引業者が提供するサービスの種類を入力する欄４４，一注文\nにおける一ポジションごとの金額を入力するポジション金額入力欄４５，\n一ポジションの第一注文が約定した後に一ポジションの第二注文が約定し\nた際の利益額を指定するための利益額入力欄４６，「逆指値注文情報」と\nしての逆指値注文の約定価格を入力する逆指値注文価格入力欄４７および\n注文形式としてリピートイフダンを指定するためのリピートイフダン入力\n欄４８が表示される。顧客は，第二の入力画面４０の各入力欄４４～４８\nによって，各種の指定を行う。\n【００４２】\nここで，成行リピートイフダンとは，リピートイフダンを成行注文に適\n用した注文方法である。即ち，通常のリピートイフダンでは，イフダンオ\nーダー（第一注文として指値買い注文または指値売り注文の一方を行った\nのち，第二注文として指値買い注文または指値売り注文の他方を行う取引\n方法）を，自動的に複数回繰り返す。これに対して，成行リピートイフダ\nンでは，一回目のイフダンでは，第一注文で買い注文または売り注文の一\n方を成行で行ったのち，第二注文で買い注文または売り注文の他方を指値\nで行う。第二注文の指値は，予め指定することとしてもよいし，成行注文\nの価格等に応じて自動的に設定されることとしても良い。本実施形態では，\n第二注文は，第一注文とは反対の売買方向であり且つ同じ注文金額となる\nように，自動的に決定される。また，第二注文の指値価格は，価格自体を\n予め指定しても良いが，成行価格との比率または金額差が予め設定された\n値となるように自動的に決定することもできる。この第二注文の約定の後，\n指値の第一注文（このときの指値価格は一回目の成行注文での約定価格と\nする）と指値の第二注文とからなるイフダンが，複数回繰り返される。加\nえて，本実施形態では，逆指値注文も行われる。この逆指値注文も，第一\n注文とは反対の売買方向であり且つ同じ注文金額となるように指定される。\n逆指値注文の指値価格も，価格自体を予め指定しても良いが，成行価格と\nの比率または金額差が予め設定された値となるように自動的に決定するこ\nともできる。\n【００４８】\nここで，この実施の形態においては，注文情報生成部１６は，第一注文\nを新規の成行注文の注文情報として生成し，第二注文を決済の指値注文の\n注文情報として生成し，逆指値注文を決済の逆指値注文の注文情報として\n生成する。第二注文を決済の指値注文の注文情報として生成することによ\nり，第一順位の注文情報によって生じた注文による利益を第二順位の注文\n情報によって逐次確定させ，注文手続や金融商品取引管理システム１Ａ内\nにおける情報処理の煩雑化を防止できる。更に，逆指値注文を決済の逆指\n値注文の注文情報として生成することにより，逆指値注文を，真に逆指値\n注文が必要とされる，顧客が指値取引によって生ずる損害を最小限に留め\nる為に決済手続を行う場面のみに限定できて，逆指値注文の乱用防止と金\n融商品取引管理システム１Ａ内における情報処理の煩雑化を防止とを図る\nことができる。\n【００５３】\n注文情報生成部１６は，生成された注文情報群を注文テーブル１８１に\n記録する（ステップＳ９）。具体的には，図２Ａに示す各フィールド名に\n対応させて，該当する注文情報（即ち“備考”カラム１８１ａの項目に対\n応するデータ）が記録される。例えば，ステップＳ８にて付与されたシー\nケンス番号は，“ord_seq”フィールド１８１ｂに対応する。“cust_seq”\nフィールド１８１ｃは顧客ごとに一意に定められた顧客番号に“style_id”\nフィールド１８１ｄは商品名に，それぞれ対応する。“ccy_pair_id”フィ\nールド１８１ｅは，通貨ペア毎に一意に定められたＩＤ番号に対応する。\nこのＩＤ番号と通貨ペアとの組合わせは，データベース中に別途設けられ\nたＩＤテーブル（図示せず）中に記録されている。“buy_sell_id”フィー\nルド１８１ｆは売り注文，買い注文のいずれであるかを示すデータ，\n“ord_rate”フィールド１８１ｇは注文価格，“limit_time”フィールド\n１８１ｈには注文期限が対応する。“ord_cond”フィールド１８１ｉは注\n文種別（例えば，成行注文，指値注文，逆指値注文等の種別を識別するた\nめの識別情報）に対応する。“new_close”フィールド１８１ｊは新規注文，\n継続注文のいずれであるかを示すデータに対応する。“ifd_ord_seq”フィ\nールド１８１ｋはイフダンオーダーのシーケンス番号に記録される。\n“repeat_flag”フィールド１８１ｍは，注文種別が成行リピートイフダン\nオーダーであることを識別するための識別情報が記録される。以上の手順\nより，本実施の形態における注文処理は完了する。\n【００５４】\n注文処理が完了すると，注文情報生成部１６はまず最初の注文情報群（以\n下「第一の注文情報群」と称する。）を生成する。なお，この生成された\n時点において，注文情報群に含まれる，第一注文は有効な注文情報（顧客\nから正式に依頼された注文のこと。本明細書において同じ。）として生成\nされているが，同じ注文情報群に含まれる，第二順位の注文情報としての\n第二注文情報は，無効な注文情報（すなわち，当該注文情報を用いた一連\nの処理が開始されていない注文情報。本明細書において同じ。）として生\n成されている。注文情報の有効／無効の設定を行うためには，例えば注文\nテーブル１８１に専用のフラグ（図示せず）を設ければよい。\n【００５５】\nフロントページ配信部１１は，クライアント端末２の表示部２２に図６\nにイメージ図を示す注文情報群表示画面５０を表示させる。同図に示す通\nり，注文情報群表示画面５０には，生成された，第一の注文情報群５０Ａ\nに含まれる「注文情報」のひとつである，「第一注文情報」としての第一\n注文５１ａ，同じく第一の注文情報群５０Ａに含まれる「注文情報」のひ\nとつである，「第二注文情報」としての第二注文５１ｂ，同じく第一の注\n文情報群５０Ａに含まれる「注文情報」のひとつである，「逆指値注文情\n報」としての逆指値注文５１ｃが表形式で表示される。これらの注文５１\nａ，５１ｂ，５１ｃは上述の第一の入力画面（図示せず），第二の入力画\n面４０（図５参照）において入力欄，選択欄に入力，選択された情報が表\n示されている。\n【００５７】\n図４Ａ及び図４Ｂは，本実施形態の金融商品取引管理装置１における，\nイフダンオーダーによる指値注文の成立後の処理手順を示すフローチャー\nトであり，図７は，本実施形態の金融商品取引管理装置１における，指値\n注文に基づく約定を模式的に表したタイムチャートである。以下，同図に\n基づいて処理手順を説明する。\n【００５８】\n注文処理の完了後，金融商品取引管理装置１の価格情報受信管理部１９\nは為替相場の情報取得を継続する。\n【００５９】\n本実施形態では，図７に示す通り，注文処理が完了した時点ｔ１で，約\n定情報生成部１４は当該ポジションの第一注文５１ａを約定させる処理を\n行う（ステップＳ２１）。この処理では，約定情報生成部１４が，当該注\n文の約定が行われたことを内部に記憶する。この記憶は，例えば約定の成\n立／不成立を示すフラグを用いて行うことができる。そして，約定情報生\n成部１４の命令により，口座情報生成部１５が，当該約定の売買額に応じ\nて，上述の証拠金情報を書き換える。さらに，約定情報生成部１４は，入\n出金情報生成部１３に，入出金の一覧表に入金や出金の状況を記載させる。\nその後，実際の売買が行われる。そして，約定情報生成部１４は，クライ\nアント端末２の表示部２２に約定の成立を表示し，さらに，第一注文５１\nａの属性情報を構成する注文価格情報５１ｄ（図６参照）に基づいてクラ\nイアント端末の銀行口座の入出金処理を行う。なお，後述の第二注文に係\nる約定処理（ステップＳ２５参照）も，ステップＳ２１の約定処理と同様\nである。\n【００６０】\n第一注文５１ａに基づく成行注文が約定すると，約定情報生成部１４は\nデータベース１８中の対応するデータを書き換える。具体的には，注文テ\nーブル１８１の当該成行注文に関する注文情報である，第一注文５１ａの\nデータが削除され，顧客口座情報テーブル１８２の“amnt”フィールド１\n８２ａのデータが約定した価格分だけ増減される。ここで，本実施形態の\n第一注文は，一回目は成行注文で行われるが，二回目以降は指値注文で行\nわれる。このため，約定情報生成部１４は，当該成行注文の約定価格を，\n二回目以降の第一注文の指値価格に設定する。\n【００６１】\n次に，第一注文５１ａに基づく成行注文が約定すると，約定情報生成部\n１４は，第一の注文情報群５１Ａにおける第二注文５１ｂと逆指値注文５\n１ｃとを無効な注文情報から有効な注文情報に変更する（ステップＳ２２）。\n【００６２】\nこの後，米国ドルの相場販売価格７２が逆指値注文５１ｃの約定価格ま\nで下落することがなく（ステップＳ２３の“Ｎｏ”），図７に示すように，\n米国ドルの相場販売価格７２が上昇し，特定時点ｔ２において米国ドルの\n相場購入価格７１が第二注文５１ｂの約定価格と同じ価格になると（ステ\nップＳ２４の“Ｙｅｓ”），約定情報生成部１４は当該ポジションの第二\n注文５１ｂに基づく指値注文を約定させると共に，逆指値注文５１ｃをキ\nャンセルする処理を行う（ステップＳ２５）。そして，約定情報生成部１\n４はデータベース１８中の対応するデータを書き換える。これにより，顧\n客はｔ１時点の買い注文とｔ２時点の売り注文の差額分の利益を得られる\nことになる。\n【００６３】\n図７のｔ２時点においてステップＳ１での入力により生成された注文情\n報が全て約定していない場合には（ステップＳ２６の“Ｎｏ”），口座情\n報生成部１５が再度顧客口座情報テーブル１８２の当該顧客の証拠金情報\nを取得する。そして，注文入力受付部１２は，再度，取得された証拠金情\n報と顧客の注文総額とを対比し，証拠金の額が注文総額以上であるか否か\nを確認する（ステップＳ２７）。証拠金の額が注文総額を下回る場合（ス\nテップＳ２８の“Ｙｅｓ”）には，注文総額以上になるまで処理は保留さ\nれ，証拠金の額が注文総額以上である場合（ステップＳ２８の“Ｎｏ”），\n注文情報生成部１６は新たな注文情報群（以下「第二の注文情報群」と称\nする。）を生成する（ステップＳ２９）。注文情報生成部１６は，ステッ\nプＳ９と同様に，生成された第二の注文情報群を注文テーブル１８１に記\n録する（ステップＳ３０）。ステップＳ２９において第二の注文情報群が\n生成されると，フロントページ配信部１１は，クライアント端末２の表示\n部２２に表示された注文情報群表示画面５０に，第一の注文情報群に含ま\nれる第一注文５１ａ，第二注文５１ｂ，逆指値注文５１ｃに代えて，新た\nに生成された第二の注文情報群（図示せず）に含まれる第一注文，第二注\n文，逆指値注文（いずれも図示せず）を表示させる。そして，ステップＳ\n２１以降の処理が繰り返される。\n【００６４】\n当該処理では，全てのポジションの個数分の注文情報群が形成される。\nまた，当該処理は，ステップＳ２１，Ｓ２５の処理が，指示されたポジシ\nョンの個数分の回数繰り返されるまで，継続する（ステップＳ２６の“Ｎ\nｏ”）。そして，ステップＳ２１，Ｓ２２の処理が上記入力されたポジシ\nョンの個数分の回数繰り返された後（ステップＳ２６の“Ｙｅｓ”），全\nての処理手順が終了する。\n【００６５】\nなお，約定せずに注文期限が経過した指値注文は全てキャンセルされ，\n注文テーブル１８１から削除される。\nカ  【００６６】\n一方，ステップＳ２２の処理ののち，米国ドルの相場販売価格７２が逆\n指値注文５１ｃの約定価格まで下落した場合（ステップＳ２３の“Ｙｅｓ”），\n約定情報生成部１４は逆指値注文５１ｃの約定を行う（ステップＳ３１）。\n即ち，約定情報生成部１４は，ステップＳ２２で有効な注文情報に変更さ\nれた第二注文５１ｂに基づく指値注文を逆指値注文の約定価格で約定させ\nて決済する処理を行う。これにより，金融商品の相場が従来の相場よりも\n大きく変動してしまい当面回復の見込みがない場合等において，指値取引\nを行う顧客が被る損害を最小限に留めることができる。\n【００６７】\nそして，約定情報生成部１４は，逆指値注文５１ｃに基づいて約定を行\nった場合，現在有効で約定前の注文情報と，逆指値注文情報を生成した売\n買注文申込情報に基づいて生成される注文情報群のうち，逆指値注文情報\nの生成時点で未生成である注文情報群とを全てキャンセル処理する。具体\n的には，約定情報生成部１４は，現在有効な第二注文（即ち第二注文５１\nｂ）をキャンセル処理し（ステップＳ３２），さらに，イフダンオーダー\nの繰り返しのために指定・設定された注文情報群のうち未生成の注文情報\n群（即ちここでは第二の注文情報群以降の注文情報群）を全てキャンセル\n処理する（ステップＳ３３）。このようにキャンセル処理を行うことで，\n一の逆指値注文に基づいて，特定時点以降におけるイフダンオーダー等の\n指値注文による売買を全て中止させることができる。これにより，金融商\n品の相場が従来の相場よりも大きく変動してしまい当面回復の見込みがな\nい場合等において，指値取引を行う顧客が被る損害を最小限に留めること\nができる。本実施形態におけるキャンセル処理は，上述のエラー処理と同\n様であり，入力された注文に対応した各注文情報を生成すること無しに処\n理が停止される（ステップＳ１０）。このキャンセル処理では，注文の受\n付がキャンセルされたことを示す文字情報の表示等が行われる。\n【００６８】\nなお，本実施形態の金融商品取引管理装置１は，クライアント端末２か\nら一度成立した指値注文の価格及び金額の変更の要求があった場合，当該\n要求が不正要求であるものとして入力エラー扱いで処理する。これにより，\n価格や金額の頻繁な要求で金融商品の売買元である銀行側の業務が過大に\nなることを防止できる。\n【００６９】\n一方，クライアント端末２の第三の入力画面（図示せず）において注文\nキャンセルボタン（図示せず）がクリックされる等，一度成立した注文の\nキャンセル要求があった場合，金融商品取引管理装置１の約定情報生成部\n１４は，キャンセル要求のあったイフダンオーダーに含まれる注文情報群\nを抽出し，この注文情報群のうち約定未成立の第二注文や逆指値注文を全\nてキャンセルされたものとして処理する。例えば，図７におけるｔ２とｔ\n３の間の時点で，クライアント端末２の第三の入力画面（図示せず）から\nキャンセル要求が入力された場合，当該時点で有効だが約定未成立である，\n第二の注文情報群の第二注文５１ｂ及び逆指値注文５１ｃはキャンセルさ\nれる。同様に，クライアント端末２から図７におけるｔ３とｔ４の間の時\n点でキャンセル要求が入力された場合，第一の注文情報群がキャンセルさ\nれる。キャンセルされた注文情報群のデータや注文情報のデータは，注文\nテーブル１８１から削除される。\n【００７０】\nこのように，一旦成立した金融商品の注文に対するキャンセル要求があ\nった場合，キャンセル要求のあった注文に関する注文情報が含まれる注文\n情報群を抽出し，注文情報群に含まれる約定前の注文情報を全てキャンセ\nル処理することにより，イフダンオーダーによる指値注文の取扱が煩雑化\nすることを防止できる。\n【００７１】\nなお，この実施の形態の上記構成に代えて，注文キャンセルボタン（図\n示せず）によるキャンセル要求により，更に，キャンセル要求のあった注\n文情報が含まれる注文情報群であって将来生成される予定の全ての注文情\n報群（例えば上記の例においては，時点ｔ４と時点ｔ５との間において未\n生成であって将来生成される予定である，第三の注文情報群以降の注文情\n報群）をキャンセル処理する構成としてもよい。\n【００７２】\nなお，クライアント端末２から受けた注文が通常の成行注文である場合\n（すなわち，イフダンではない成行注文の場合）には，ステップＳ８にて\n注文情報が生成されると即座に約定情報生成部１４が当該注文を約定させ，\nステップＳ９の処理，及びステップＳ２１以降の処理は行われない。\n【００７３】\n以上示した通り，この実施の形態においては，金融商品取引管理装置１\nを利用する顧客が金融商品を売買する際，顧客がクライアント端末２側で\n一の注文手続きを行うことで，同一種類の複数価格の金融商品を複数のイ\nフダンオーダーによって繰り返し注文することができ，かつ，当該顧客が\n将来的に所有する金融商品を逆指値注文によって売却することもできる。\nこれにより，指値注文により金融商品の売買を行う顧客の利便性を向上さ\nせつつ，金融商品の指値注文において，金融商品取引管理システム１Ａを\n利用する顧客が煩雑な注文手続を行うことなく複数の成行イフダンオーダ\nーを行うことができ，また将来の相場の状況に応じて該成行イフダンオー\nダーを自動的に中止させることができて，金融商品取引管理システム１Ａ\nを利用する顧客の利便性を高めると共に成行イフダンオーダーを行う際に\n顧客が被るリスクを低減させることができる。\n【００７４】\nこの実施の形態においては，注文情報に基づいて金融商品の約定を行う\n約定情報生成部１４を備え，約定情報生成部１４は，注文テーブル１８１\nに記録された注文情報群を形成する個々の注文情報のうち第一順位の注文\n情報に基づいて金融商品の約定を行い，約定と共に，第二順位の注文情報\n及び逆指値注文情報を無効から有効に変更する処理を複数回繰り返し行う\nことにより，クライアント端末２から受信されて注文テーブル１８１に記\n録された一の指示に基づいて，金融商品取引管理システム１Ａ上で成行注\n文および複数のイフダンオーダーによる取引を実現でき，かつ，イフダン\nオーダーによる取引を逆指値注文によって中断させることを実現できる。\nこれにより，金融商品の指値注文において，金融商品取引管理システム１\nＡを利用する顧客が煩雑な注文手続を行うことなく複数のイフダンオーダ\nーを行うことができ，また将来の相場の状況に応じてイフダンオーダーを\n自動的に中止させることができて，金融商品取引管理システム１Ａを利用\nする顧客の利便性を高めると共にイフダンオーダーを行う際に顧客が被る\nリスクを低減させることができる。\n【００７５】\nなお，上記実施形態の金融商品取引管理システム１Ａは，金融商品とし\nて外国為替を取扱うものとしたが，これに限定されず，他の金融商品，例\nえば株式，債券を取扱う金融商品取引管理システムにおいても本発明を適\n用できる。\nキ  【００７６】\n上記実施形態は本発明の例示であり，本発明が上記実施の形態に限定さ\nれることを意味するものではないことは，いうまでもない。\n(2)  前記(1)の記載事項によれば，本件明細書には，本件発明１に関し，次の\nような開示があることが認められる。\nア  外国為替等の金融商品のイフダンオーダーをコンピュータシステムを用\nいて行う従来の発明においては，イフダンオーダーの指値注文に対応でき\nないという問題や，利用客が複数のイフダンオーダーを並行して行いたい\n場合には，それぞれのイフダンオーダーを個別に注文していかなければな\nらず，顧客の注文手続が煩雑になるという問題，金融商品の相場が従来の\n相場よりも大きく変動してしまい当面回復の見込みがなく，利用客が，損\n害を最小限に留めるべく当該金融商品の売却を望む場合，指値注文の買い\n注文によって取得した金融商品を将来の相場の状況に応じて自動的に売却\nすることはできず，イフダンオーダーを相場の状況に応じて自動的に中止\nさせることができないという問題及び成行注文でイフダンオーダーを行い\nたい場合に対応できないという問題があった（【０００５】ないし【００\n０７】）。\nイ  「本発明」は，上記の問題に鑑みてされたものであり，金融商品の成行\n注文において，システム利用客が煩雑な注文手続を行うことなく複数のイ\nフダンオーダーを行うことができ，また将来の相場の状況に応じてイフダ\nンオーダーを自動的に中止させることができて，システムを利用する顧客\nの利便性を高めると共にイフダンオーダーを行う際に顧客が被るリスクを\n低減させることができる金融商品取引管理装置を提供することを課題とす\nるものであり，請求項１に記載の発明は，かかる課題を解決するため，金\n融商品の売買注文を行うための売買注文申込情報を受け付ける注文入力受\n付手段と，注文入力受付手段が受け付けた前記売買注文申込情報に基づい\nて金融商品の注文情報を生成する注文情報生成手段とを備え，注文情報生\n成手段は，一の売買注文申込情報に基づいて，所定の金融商品の売り注文\nまたは買い注文の一方を成行または指値で行う第一注文情報と，金融商品\nの売り注文または買い注文の他方を指値で行う第二注文情報と，金融商品\nの売り注文または買い注文の他方を逆指値で行う逆指値注文情報とを含む\n注文情報群を複数回生成し，売買取引開始時に，成行注文を行うとともに，\n該成行注文を決済するための指値注文を有効とし，成行注文を決済する指\n値注文が約定されたとき，注文情報群の生成を行うと共に，生成された注\n文情報群の第一注文情報に基づく指値注文を有効とし，以後，第一注文情\n報に基づく指値注文の約定と，第一注文情報に基づく指値注文の約定が行\nわれた後の第二注文情報に基づく指値注文の約定と，第二注文情報に基づ\nく指値注文の約定が行われた後の，次の注文情報群の生成とを繰り返し行\nわせる構成を採用した（【０００８】，【０００９】）。これにより，指\n値注文により金融商品の売買を行う顧客の利便性を向上させつつ，金融商\n品の指値注文において，システムを利用する顧客が煩雑な注文手続を行う\nことなく複数のイフダンオーダーを繰り返し行うことができて，システム\nを利用する顧客の利便性を高めると共にイフダンオーダーを行う際に顧客\nが被るリスクを低減させることができるという効果を奏する（【００１４】）。\n２  取消事由１（訂正要件の判断の誤り）について\n(1)  本件手続補正の判断の誤りについて\nア  原告は，本件手続補正は，本件訂正に係る訂正請求書の訂正事項１－１\nないし１－３で「注文情報生成手段」が行うとされていた決済注文の有\n効／無効の切替処理を「約定情報生成手段」が行うこととしたもので\nあり，本件手続補正によって金融商品取引装置が行う処理内容には何らの\n変更も加えられておらず，単に決済注文の有効／無効の切替処理を行う手\n段を「注文情報生成手段」と呼ぶか，「約定情報生成手段」と呼ぶかとい\nう形式的な点の補正にとどまるから，これによって審理対象が実質的に変\n更されているものでなければ，審理遅延が生じるものでもないし，また，\n本件手続補正は，訂正事項の軽微な瑕疵の補正等に該当するものであるか\nら，本件手続補正は，本件訂正に係る訂正請求書の要旨を変更するもの\nではなく，本件手続補正は特許法１３１条の２第１項に適合するものであ\nり，これと異なる本件審決の判断は誤りである旨主張する。\nそこで検討するに，平成３０年１１月２６日付け手続補正書（甲１２）\n及び同日付け意見書（甲１３）によれば，本件手続補正は，訂正事項１－\n１及び１－３について，平成３０年５月７日付けの全文訂正明細書の特許\n請求の範囲の請求項１及び請求項６（本件訂正後の請求項１及び６）に「前\n記注文情報に基づいて前記金融商品の約定を行う約定情報生成手段と，」\nという構成を追加する（以下「補正１」という。），本件訂正後の請求項\n１及び請求項６の「前記注文情報生成手段は，売買取引開始時に，成行注\n文を行うとともに，該成行注文を決済するための指値注文および前記成行\n注文を決済するための逆指値注文を有効とし」との記載を「前記約定情報\n生成手段は，売買取引開始時に，成行注文を行うとともに，該成行注文を\n決済するための指値注文および前記成行注文を決済するための逆指値注文\nを有効とし」と補正する（以下「補正２」という。），本件訂正後の請求\n項１及び請求項６の「以後，前記第一注文情報に基づく前記指値注文の約\n定と，前記第一注文情報に基づく前記指値注文の約定が行われた後の前記\n第二注文情報に基づく前記指値注文の約定と，前記第二注文情報に基づく\n前記指値注文の約定が行われた後の，次の前記注文情報群の生成とを繰り\n返し行わせ，」との記載を「以後，前記約定情報生成手段が前記第一注文\n情報に基づく前記指値注文の約定を行うことと，前記約定情報生成手段が\n前記第一注文情報に基づく前記指値注文の約定が行われた後の前記第二注\n文情報に基づく前記指値注文の約定を行うことと，前記約定情報生成手段\nが前記第二注文情報に基づく前記指値注文の約定が行われた後の，次の前\n記注文情報群の生成とを繰り返し行わせ，」と補正する（以下「補正３」\nという。），本件訂正後の請求項１及び請求項６の「前記第二注文情報に\n基づく前記指値注文が約定されたとき，前記逆指値注文情報に基づく逆指\n値注文を停止し，」との記載を「前記第二注文情報に基づく前記指値注文\nが約定されたとき，前記約定情報生成手段が前記逆指値注文情報に基づく\n逆指値注文を停止し，」と補正する（以下「補正４」という。），本件訂\n正後の請求項１及び請求項６の「前記逆指値注文情報に基づく前記逆指値\n注文が約定されたときに，前記逆指値注文情報と同じ前記注文情報群に含\nまれる前記第二注文情報に基づく指値注文，及び，当該注文情報群の後に\n生成される予定の前記注文情報群の生成を停止する」との記載を「前記逆\n指値注文情報に基づく前記逆指値注文が約定されたときに，前記約定情報\n生成手段が前記逆指値注文情報と同じ前記注文情報群に含まれる前記第二\n注文情報に基づく指値注文，及び，当該注文情報群の後に生成される予定\nの前記注文情報群の生成を停止する」と補正する（以下「補正５」という。），\n訂正事項１－２について，本件訂正後の請求項２の「前記注文情報に基づ\nいて前記金融商品の約定を行う約定情報生成手段を備え，」との記載を削\n除する（以下「補正６」という。）などの補正を含むものである。\nしかるところ，補正１ないし６は，いずれも訂正事項１－１ないし１－\n３の内容を実質的に変更するものであり，特に補正２は，訂正事項１－１\n及び１－３における「前記注文情報生成手段は，売買取引開始時に，成行\n注文を行うとともに，該成行注文を決済するための指値注文および前記成\n行注文を決済するための逆指値注文を有効とし」との訂正事項を，「前記\n約定情報生成手段は，売買取引開始時に，成行注文を行うとともに，該成\n行注文を決済するための指値注文および前記成行注文を決済するための逆\n指値注文を有効とし」と補正するものであって，「前記注文情報生成手段」\nが実行する処理であった「成行注文を行うとともに，該成行注文を決済す\nるための指値注文および前記成行注文を決済するための逆指値注文を有効\nとし」との処理を，本件訂正前の請求項２において「前記注文情報生成手\n段」とは異なる手段として規定されていた「前記約定情報生成手段」が実\n行する処理であると変更するものであるから，訂正事項１－１及び１－３\nの内容を実質的に変更するものであることは明らかである。\nしたがって，補正１ないし６は，本件訂正に係る訂正請求書の要旨を変\n更するものであるから，本件手続補正は，その余の補正事項について検討\nするまでもなく，特許法１３４条の２第９項で準用する同法１３１条の２\n第１項の規定に適合しないから，原告の上記主張は理由がない。\nイ  以上によれば，本件手続補正が特許法１３４条の２第９項で準用する同\n法１３１条の２第１項に適合しないとした本件審決の判断に誤りはない。\n(2)  訂正事項１－１ないし１－３の特許法１２６条５項の要件の適合性の判\n断の誤りについて\n原告は，本件審決が，本件訂正のうち，本件訂正前の請求項１の記載を本\n件訂正後の請求項１に訂正する訂正事項１－１（請求項１の記載を引用する\n請求項２，請求項２の記載を引用する請求項３ないし５，及び請求項１ない\nし５の記載を引用する請求項７も同様に訂正），本件訂正前の請求項２の記\n載を本件訂正後の請求項２に訂正する訂正事項１－２（請求項２の記載を引\n用する請求項３ないし５，及び請求項２ないし５の記載を引用する請求項７\nも同様に訂正）及び本件訂正前の請求項６の記載を本件訂正後の請求項６に\n訂正する訂正事項１－３は，本件訂正前の「売買取引開始時に，成行注文を\n行うとともに，該成行注文を決済するための指値注文を有効とし」との事項\nについて，当該事項が「前記注文情報生成手段」によるものであり，「該成\n行注文を決済するための指値注文」だけでなく，「前記成行注文を決済する\nための逆指値注文」についても有効とするとの事項を追加したものであるが，\n当該訂正事項については，願書に最初に添付した明細書等に記載した事項の\n範囲内においてしたものとはいえず，新規事項を追加するものであるから，\n本件訂正は，特許法１３４条の２第９項で準用する同法１２６条５項の規定\nに適合しないと判断したのは誤りである旨主張するので，以下において判断\nする。\nア(ア)  本件訂正前の特許請求の範囲（請求項１）には，\n「該注文情報生成手段は，\n一の前記売買注文申込情報に基づいて，所定の前記金融商品の売り注\n文または買い注文の一方を成行または指値で行う第一注文情報と，該金\n融商品の売り注文または買い注文の他方を指値で行う第二注文情報と，\n前記金融商品の売り注文または買い注文の前記他方を逆指値で行う逆指\n値注文情報とを含む注文情報群を複数回生成し，\n売買取引開始時に，成行注文を行うとともに，該成行注文を決済する\nための指値注文を有効とし，\n前記成行注文を決済する前記指値注文が約定されたとき，前記注文情\n報群の生成を行うと共に，該生成された注文情報群の前記第一注文情報\nに基づく前記指値注文を有効とし，以後，前記第一注文情報に基づく前\n記指値注文の約定と，前記第一注文情報に基づく前記指値注文の約定が\n行われた後の前記第二注文情報に基づく前記指値注文の約定と，前記第\n二注文情報に基づく前記指値注文の約定が行われた後の，次の前記注文\n情報群の生成とを繰り返し行わせることを特徴とする金融商品取引管理\n装置。」との記載がある。\n上記記載から，本件発明１においては，「注文情報生成手段」が，主\n体となって，①「一の前記売買注文申込情報に基づいて」，「所定の前\n記金融商品の売り注文または買い注文の一方を成行または指値で行う第\n一注文情報と，該金融商品の売り注文または買い注文の他方を指値で行\nう第二注文情報と，前記金融商品の売り注文または買い注文の前記他方\nを逆指値で行う逆指値注文情報とを含む注文情報群」を「複数回生成し」，\n②「売買取引開始時」に，「成行注文を行うとともに，該成行注文を決\n済するための指値注文を有効とし」，③「前記成行注文を決済する前記\n指値注文が約定されたとき」に，「前記注文情報群の生成を行うと共に，\n該生成された注文情報群の前記第一注文情報に基づく前記指値注文を有\n効とし」，④「以後，前記第一注文情報に基づく前記指値注文の約定と，\n前記第一注文情報に基づく前記指値注文の約定が行われた後の前記第二\n注文情報に基づく前記指値注文の約定と，前記第二注文情報に基づく前\n記指値注文の約定が行われた後」に，「次の前記注文情報群の生成とを\n繰り返し行わせる」処理を行うことを理解できる。\nそうすると，本件訂正前の請求項１には，「注文情報生成手段」が「売\n買取引開始時」に「成行注文を行うとともに，該成行注文を決済するた\nめの指値注文を有効とし」との処理を行うことの記載があるものと認め\nられる。\nまた，本件明細書の【０００９】には，本件訂正前の請求項１と同内\n容の記載がある。\n(イ)  本件明細書には，「本発明」の「一の実施形態」（【００２１】）\nとして，「各種データの生成，加工等の処理」を行う「データ処理部１\n０」，「データベース１８」，「フロントページ配信部１１」，「注文\n入力受付部（注文入力受付手段）１２」，「入出金情報生成部１３」，\n「約定情報生成部（約定情報生成手段）１４」，「口座情報生成部１５」，\n「注文情報生成部（注文情報生成手段）１６」，「データベース（ＤＢ）\n接続基底部１７」及び「価格情報受信管理部１９」を有する「金融取引\n装置１」の記載がある（【００２５】，図１）。\n次に，本件明細書には，「注文情報生成部（注文情報生成手段）１６」\nに関し，「注文情報生成部１６は，注文入力受付部１２が処理した情報\nに基づいて，成立した金融商品の注文に関する情報を生成する。ここで\nの注文には，いわゆる成行注文，指値注文，指値注文のイフダンオーダ\nーに加え，成行注文のイフダンオーダーも含まれる。」（【００２８】），\n「ここで，この実施の形態においては，注文情報生成部１６は，第一注\n文を新規の成行注文の注文情報として生成し，第二注文を決済の指値注\n文の注文情報として生成し，逆指値注文を決済の逆指値注文の注文情報\nとして生成する。」（【００４８】），「注文情報生成部１６は，生成\nされた注文情報群を注文テーブル１８１に記録する（ステップＳ９）。\n具体的には，図２Ａに示す各フィールド名に対応させて，該当する注文\n情報（即ち“備考”カラム１８１ａの項目に対応するデータ）が記録さ\nれる。…以上の手順より，本実施の形態における注文処理は完了する。」\n（【００５３】），「注文処理が完了すると，注文情報生成部１６はま\nず最初の注文情報群（以下「第一の注文情報群」と称する。）を生成す\nる。なお，この生成された時点において，注文情報群に含まれる，第一\n注文は有効な注文情報（顧客から正式に依頼された注文のこと。本明細\n書において同じ。）として生成されているが，同じ注文情報群に含まれ\nる，第二順位の注文情報としての第二注文情報は，無効な注文情報（す\nなわち，当該注文情報を用いた一連の処理が開始されていない注文情報。\n本明細書において同じ。）として生成されている。注文情報の有効／無\n効の設定を行うためには，例えば注文テーブル１８１に専用のフラグ（図\n示せず）を設ければよい。」（【００５４】）との記載がある。上記記\n載から，「注文情報生成部１６」は，「注文入力受付部１２が処理した\n情報」に基づいて，「注文情報群」を生成し，「生成された注文情報群」\nを「注文テーブル１８１」（図２Ａ）に記録する処理を行うこと，「注\n文情報生成部１６」は，「第一の注文情報群」の生成においては，例え\nば注文テーブル１８１に注文情報の有効／無効の設定を行う専用のフラ\nグを設けることにより，その生成の時点において，「第一の注文情報群」\nに含まれる，「第一注文」は「有効な注文情報」として生成し，「第二\n注文情報」は，「無効な注文情報」として生成する処理を行うことを理\n解できる。\n一方，本件明細書には，「約定情報生成部（約定情報生成手段）１４」\nに関し，「約定情報生成部１４は，注文情報生成部１６が生成した注文\nに基づく約定処理，及び，完了した約定処理に関する情報を顧客のクラ\nイアント端末２に送るための処理を行う。なお，ここでの「約定」とは，\n顧客の注文に基づいて金融商品の売買を成立されるための各種の手続並\nびに処理のことをいう。」（【００２９】），「第一注文５１ａに基づ\nく成行注文が約定すると，約定情報生成部１４はデータベース１８中の\n対応するデータを書き換える。具体的には，注文テーブル１８１の当該\n成行注文に関する注文情報である，第一注文５１ａのデータが削除され，\n顧客口座情報テーブル１８２の“amnt”フィールド１８２ａのデータが\n約定した価格分だけ増減される。ここで，本実施形態の第一注文は，一\n回目は成行注文で行われるが，二回目以降は指値注文で行われる。この\nため，約定情報生成部１４は，当該成行注文の約定価格を，二回目以降\nの第一注文の指値価格に設定する。」（【００６０】），「次に，第一\n注文５１ａに基づく成行注文が約定すると，約定情報生成部１４は，第\n一の注文情報群５１Ａにおける第二注文５１ｂと逆指値注文５１ｃとを\n無効な注文情報から有効な注文情報に変更する（ステップＳ２２）。」\n（【００６１】）との記載がある。上記記載から，「約定情報生成部１\n４」は，「注文情報生成部１６が生成した注文に基づく約定処理」及び\n「完了した約定処理に関する情報を顧客のクライアント端末２に送るた\nめの処理」を行うこと，「約定情報生成部１４」は，「第一の注文情報\n群５１Ａ」に含まれる，「第一注文５１ａ」に基づく「成行注文」が約\n定すると， その「成行注文」を決済するための指値注文である「第二注\n文５１ｂ」及び「逆指値注文５１ｃ」を「無効な注文情報」から「有効\nな注文情報」に変更する処理を行うことを理解できる。\n以上によれば，本件明細書には，「本発明」の「一の実施形態」とし\nて，「注文情報生成手段」である「注文情報生成部１６」が，「第一の\n注文情報群」の生成をする際に，「第一の注文情報群」に含まれる「第\n一注文」及び「第二注文」についてそれぞれ有効及び無効の設定を行い，\n「約定情報生成手段」である「約定情報生成部１４」が「第一の注文情\n報群」に含まれる「第一注文５１ａ」に基づく「成行注文」の約定処理\nを行った時点で，その「成行注文」を決済するための「第二注文」（指\n値注文）及び「逆指値注文」を「無効」から「有効」に変更する処理を\n行うことの開示があることが認められる。\nそうすると，本件明細書には，「注文情報生成手段」（「注文情報生\n成部１６」）が，「第一の注文情報群」の生成をする際に，「第一の注\n文情報群」に含まれる注文情報の有効／無効の設定を行う技術的事項の\n開示があるものと認められる。\nまた，「本発明」の上記実施形態においては，「注文情報生成手段」\n（「注文情報生成部１６」）が，「第一の注文情報群」に含まれる「第\n一注文５１ａ」の「成行注文」を決済するための「第二注文」（指値注\n文）及び「逆指値注文」を「無効」から「有効」に変更する処理は，「約\n定情報生成手段」（「約定情報生成部１４」）によって行われ，「注文\n情報生成手段」（「注文情報生成部１６」）が行うものではないが，本\n件明細書には，「上記実施形態は本発明の例示であり，本発明が上記実\n施の形態に限定されることを意味するものではないことは，いうまでも\nない。」（【００７６】）との記載があることに照らすと，「本発明」\nは，「第一注文」の「成行注文」を決済するための「第二注文」（指値\n注文）及び「逆指値注文」を「無効」から「有効」に変更する処理は，\n「約定情報生成手段」（「約定情報生成部１４」）が行う形態のものに\n限定されないことを理解できる。\nイ  本件訂正後の特許請求の範囲（請求項１）には，\n「該注文情報生成手段は，\n一の前記売買注文申込情報に基づいて，所定の前記金融商品の売り注文\nまたは買い注文の一方を成行または指値で行う第一注文情報と，該金融商\n品の売り注文または買い注文の他方を指値で行う第二注文情報と，前記金\n融商品の売り注文または買い注文の前記他方を逆指値で行う逆指値注文情\n報とを含む注文情報群を複数回生成し，\n前記注文情報記録手段は，生成された前記注文情報群を記録し，\n前記注文情報生成手段は，\n売買取引開始時に，成行注文を行うとともに，該成行注文を決済するた\nめの指値注文および前記成行注文を決済するための逆指値注文を有効とし，\n前記成行注文を決済する前記第二注文情報に基づく前記指値注文が約定\nされたとき，次の前記注文情報群の生成を行うと共に，該生成された注文\n情報群の前記第一注文情報に基づく，前記成行注文の価格と同じ前記価格\nの前記指値注文を有効とし，\n前記第一注文情報に基づく該指値注文が約定されたときに，当該注文情\n報群の前記第二注文情報に基づく指値注文および前記逆指値注文情報に基\nづく前記逆指値注文を有効にし，\n以後，前記第一注文情報に基づく前記指値注文の約定と，前記第一注文\n情報に基づく前記指値注文の約定が行われた後の前記第二注文情報に基づ\nく前記指値注文の約定と，前記第二注文情報に基づく前記指値注文の約定\nが行われた後の，次の前記注文情報群の生成とを繰り返し行わせ，\n前記第二注文情報に基づく前記指値注文が約定されたとき，前記逆指値注\n文情報に基づく逆指値注文を停止し，\n前記逆指値注文情報に基づく前記逆指値注文が約定されたときに，前記\n逆指値注文情報と同じ前記注文情報群に含まれる前記第二注文情報に基づ\nく指値注文，及び，当該注文情報群の後に生成される予定の前記注文情報\n群の生成を停止することを特徴とする金融商品取引管理装置。」との記載\nがある（下線部は，訂正事項１－１による訂正箇所）。\n上記記載によれば，訂正事項１－１により，本件訂正前の「売買取引開\n始時に，成行注文を行うとともに，該成行注文を決済するための指値注文\nを有効とし」との事項について，「該成行注文を決済するための指値注文」\nだけでなく，「前記成行注文を決済するための逆指値注文」についても有\n効とするとの事項を追加したものであり，本件訂正発明１においては，「注\n文情報生成手段」が「売買取引開始時」に「成行注文を行うとともに，該\n成行注文を決済するための指値注文および前記成行注文を決済するための\n逆指値注文を有効とし」とする処理を行うことを理解できる。\nしかるところ，前記ア認定のとおり，①本件訂正前の請求項１には，「注\n文情報生成手段」が「売買取引開始時」に「成行注文を行うとともに，該\n成行注文を決済するための指値注文を有効とし」との処理を行うことの記\n載があり，本件明細書の【０００９】には，本件訂正前の請求項１と同内\n容の記載があること，②本件明細書には，「注文情報生成手段」（「注文\n情報生成部１６」）が，「第一の注文情報群」の生成をする際に，「第一\nの注文情報群」に含まれる注文情報の有効／無効の設定を行う技術的事項\nの開示があること，③本件明細書に記載された「本発明」の「一の実施形\n態」では，「第一の注文情報群」に含まれる「第一注文５１ａ」の「成行\n注文」を決済するための「第二注文」（指値注文）及び「逆指値注文」を\n「無効」から「有効」に変更する処理は，「約定情報生成手段」（「約定\n情報生成部１４」）によって行われ，「注文情報生成手段」（「注文情報\n生成部１６」）が行うものではないが，本件明細書の【００７６】の記載\nに照らすと，「本発明」は，「第一注文」の「成行注文」を決済するため\nの「第二注文」（指値注文）及び「逆指値注文」を「無効」から「有効」\nに変更する処理は，「約定情報生成手段」（「約定情報生成部１４」）が\n行う形態のものに限定されないことを理解できることからすると，本件訂\n正後の請求項１の「前記注文情報生成手段」は「売買取引開始時に，成行\n注文を行うとともに，該成行注文を決済するための指値注文および前記成\n行注文を決済するための逆指値注文を有効とし」との構成は，本件出願の\n願書に添付した明細書，特許請求の範囲又は図面すべての記載事項を総合\nすることにより導かれる技術的事項の関係において，新たな技術的事項を\n導入するものではないものと認められるから，訂正事項１－１は，本件出\n願の願書に添付した明細書等に記載された事項の範囲内においてしたもの\nであって，新規事項の追加に当たらないものと認められる。\nしたがって，訂正事項１－１は特許法１２６条５項の要件に適合するも\nのと認められる。同様に，訂正事項１－２及び１－３は同項の要件に適合\nするものと認められる。\nウ  これに対し，被告は，①本件訂正前の請求項１の文言によれば，本件発\n明１では，「注文情報生成手段」（構成１Ｄ）が「一の前記売買注文申込\n情報に基づいて，所定の前記金融商品の売り注文または買い注文の一方を\n成行または指値で行う第一注文情報と，該金融商品の売り注文または買い\n注文の他方を指値で行う第二注文情報と，前記金融商品の売り注文または\n買い注文の前記他方を逆指値で行う逆指値注文情報とを含む注文情報群を\n複数回生成」すること（構成１Ｅ）を行うことだけが規定されており，こ\nれに続く「売買取引開始時に，成行注文を行うとともに，該成行注文を決\n済するための指値注文を有効とし，」（構成１Ｆ）及び「前記成行注文を\n決済する前記指値注文が約定されたとき，前記注文情報群の生成を行うと\n共に，該生成された注文情報群の前記第一注文情報に基づく前記指値注文\nを有効とし，以後，前記第一注文情報に基づく前記指値注文の約定と，前\n記第一注文情報に基づく前記指値注文の約定が行われた後の前記第二注文\n情報に基づく前記指値注文の約定と，前記第二注文情報に基づく前記指値\n注文の約定が行われた後の，次の前記注文情報群の生成とを繰り返し行わ\nせること」（構成１Ｇ）は，「金融商品取引管理装置」（構成１Ｈ）が総\n体的に行うことを規定したものであって，「金融商品取引管理装置」を構\n成する「注文入力受付手段」及び「注文情報生成手段」のいずれか又は本\n件発明１で規定されていない「手段」のうちのどれが行うものであるのか\nを明示的に特定したものではないから，本件訂正前の請求項１は，「注文\n情報生成手段」が構成１Ｆ及び構成１Ｇの処理を行うことを規定したもの\nではないし，仮に本件訂正前の請求項１がこれを規定しているとの原告の\n主張を前提とすると，本件訂正前の請求項１は，本件明細書の【００６１】\nの記載に反し，サポート要件に違反することとなるから，少なくとも「注\n文情報生成手段」が構成１Ｆ及び構成１Ｇを行う主体であることを規定し\nたものでない，②本件明細書には，「注文情報生成部」及び「約定情報生\n成部」は，それぞれ「注文情報生成手段」及び「約定情報生成手段」と同\n一ないし一対一に対応することが開示されおり（【００２５】），「注文\n情報生成部」が注文情報を生成すると，以後の処理は，「約定情報生成部」\nのみが行うことが記載されており，それ以外の記載はないから，訂正事項\n１－１は，「売買取引開始時に，成行注文を行うとともに，該成行注文を\n決済するための指値注文を有効とし」を行う主体が「注文情報生成手段」\nであることをはじめて明らかにしたものであり，訂正事項１－１に係る本\n件訂正は，本件出願の願書に添付した明細書，特許請求の範囲又は図面に\n記載した事項の範囲内でしたものではなく，新たな技術的事項を導入する\nものであるから，新規事項の追加に当たる旨主張する。\nしかしながら，前記ア(ア)認定のとおり，本件訂正前の請求項１の記載\nから，本件発明１においては，「注文情報生成手段」が主体となって「売\n買取引開始時」に「成行注文を行うとともに，該成行注文を決済するため\nの指値注文を有効とし」との処理を行うことを理解できるものであり，ま\nた，本件訂正前の請求項１に「注文情報生成手段」が上記処理を行うこと\nの記載があるかどうかの問題とその記載があることを前提とした場合にサ\nポート要件に違反することになるかどうかの問題とは，別異の問題である\nから，上記①の点は採用することができない。\nまた，前記イ認定のとおり，本件明細書には，「注文情報生成手段」（「注\n文情報生成部１６」）が，「第一の注文情報群」の生成をする際に，「第\n一の注文情報群」に含まれる注文情報の有効／無効の設定を行う技術的事\n項の開示があること及び本件明細書の【００７６】の記載に照らすと，「本\n発明」は，「第一注文」の「成行注文」を決済するための「第二注文」（指\n値注文）及び「逆指値注文」を「無効」から「有効」に変更する処理は，\n「約定情報生成手段」（「約定情報生成部１４」）が行う形態のものに限\n定されないことを理解できるから，上記②の点は採用することができない。\nしたがって，訂正事項１－１に係る本件訂正は，本件出願の願書に添付\nした明細書等に記載した事項の範囲内でしたものではなく，新規事項の追\n加に当たるとの被告の主張は理由がない。\n(3)  小括\n以上のとおり，訂正事項１－１ないし１－３は特許法１２６条５項の要件\nに適合するものと認められるから，訂正事項１－１ないし１－３が同項に適\n合しないことを理由に本件訂正は認められないとした本件審決の判断は誤り\nである。かかる判断の誤りは，無効理由の存否の審理の対象となる発明の要\n旨の認定の誤りに帰することになるから，審決の結論に影響を及ぼすもので\nある。\nしたがって，原告主張の取消事由１は理由がある。\n３  結論\n以上のとおり，原告主張の取消事由１は理由があるから，その余の取消事由\nについて判断するまでもなく，本件審決は取り消されるべきである。\n知的財産高等裁判所第４部\n裁判長裁判官      大    鷹    一    郎\n裁判官      國    分    隆    文\n裁判官      筈    井    卓    矢\n（別紙）\n【図１】\n【図２Ａ】\n【図２Ｂ】\n【図２Ｃ】\n【図３】                【図４Ａ】\n【図４Ｂ】           【図５】\n【図６】\n【図７】\n"
}