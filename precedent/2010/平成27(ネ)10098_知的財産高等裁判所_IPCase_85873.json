{
  "trial_type": "IPCase",
  "date": {
    "era": "Heisei",
    "year": 28,
    "month": 3,
    "day": 30
  },
  "case_number": "平成27(ネ)10098",
  "case_name": "特許権侵害差止等請求控訴事件",
  "court_name": "知的財産高等裁判所",
  "right_type": "特許権",
  "lawsuit_type": "民事訴訟",
  "lawsuit_id": "85873",
  "detail_page_link": "https://www.courts.go.jp/app/hanrei_jp/detail7?id=85873",
  "full_pdf_link": "https://www.courts.go.jp/app/files/hanrei_jp/873/085873_hanrei.pdf",
  "contents": "平成２８年３月３０日判決言渡  同日原本領収  裁判所書記官\n平成２７年（ネ）第１００９８号  特許権侵害差止等請求控訴事件\n原審・東京地方裁判所平成２２年(ワ)第４６２４１号\n口頭弁論終結日  平成２８年２月１０日\n判     決\n控訴 人     メンター・グラフィクス ・\nコーポレーション\n同訴訟代理人弁護士     城 山康 文\n同             岩瀬 吉 和\n同                山本 健 策\n同             後藤 未 来\n同      弁理士     山本 秀 策\n同補佐人弁理 士      市 川 英 彦\n被控訴 人     日 本 イ ヴ 株 式 会 社\n同訴訟代理人弁護士     塚原 朋 一\n同                   岡田   誠\n同              友 村 明 弘\n同             髙      梨      義      幸\n同訴訟復代理人弁護士     関   根   みず 奈\n同補佐人弁理 士     佐藤   睦\n同              伊   藤   健太 郎\n主     文\n１  本件控訴を棄却する。\n２  控訴費用は控訴人の負担とする。\n３  この判決に対する上告及び上告受理の申立てのための付加期間\nを３０日と定める。\n事実及び理由\n第１  控訴の趣旨\n１  原判決を取り消す。\n２  被控訴人は，原判決別紙物件目録記載の物件を使用し，譲渡し，輸入し，貸\n渡し，又は譲渡若しくは貸渡しの申出をしてはならない。\n３  被控訴人は，その占有にかかる原判決別紙物件目録記載の物件を廃棄せよ。\n４  被控訴人は，控訴人に対し，３億３０００万円及びこれに対する平成２２年\n１２月２８日から支払済みまで年５分の割合による金員を支払え。\n５  訴訟費用は第１，２審とも被控訴人の負担とする。\n６  仮執行宣言\n第２  事案の概要（略称は原判決に従う。）\n１  控訴人は，発明の名称を「エミュレーションシステム用の統合デバッグ機能\nを備えた再構成可能な集積回路」とする特許第３５８８３２４号（本件特許）の特\n許権者であるところ，本件は，控訴人が，原判決別紙物件目録記載の物件（被告各\n製品）は，本件発明１，３ないし７（本件各発明）の技術的範囲に属し，被控訴人\nによる被告各製品の輸入及び販売等の行為は，控訴人が有する本件特許権を侵害し\nていると主張して，被控訴人に対し，①特許法１００条１項に基づき，被告各製品\nの使用，譲渡，輸入，貸渡し及び譲渡若しくは貸渡しの申出の差止め，②同条２項\nに基づき，その占有する被告各製品の廃棄，③民法７０９条に基づき，損害賠償と\nして３億３０００万円及びこれに対する訴状送達の日の翌日である平成２２年１２\n月２８日から支払済みまで民法所定の年５分の割合による遅延損害金の支払を求め\nる事案である。\n原判決は，①被告各製品は本件発明１，３ないし７の文言侵害にも均等侵害にも\n当たらず，その技術的範囲に属しない，②被告各製品について本件発明５及び６の\n間接侵害も成立しない，として控訴人の請求を全部棄却した。\nそこで，控訴人が原判決を不服として控訴したものである。\n２  前提事実\n原判決の「事実及び理由」の第２の２記載のとおりであるから，これを引用する。\n３  争点\n当審において新たに主張された争点(4)オ（無効理由５・乙６４〔米国特許第５８\n５０５３７号公報。以下「乙６４公報」という。〕を引用例とする新規性又は進歩\n性欠如）を付加するほかは，原判決の「事実及び理由」の第２の３記載のとおりで\nあるから，これを引用する。\n第３  争点に関する当事者の主張\n争点に関する当事者の主張は，以下の１のとおり訂正し，以下の２のとおり当審\nにおける当事者の主張を付加するほかは，原判決の「事実及び理由」の第３記載の\nとおりであるから，これを引用する。\n１  原判決の訂正\n(1)  原判決３０頁２３行目の「構成要件１Ｃ」とあるのを，「構成要件１Ｄ」と\n訂正する。\n(2)  原判決８９頁１２行目の「甲６６の２」とあるのを，「甲６３の２」と訂正\nする。\n(3)  原判決１１０頁６行目から７行目の「別紙Ｄ－Ⅱ」とあるのを，「別紙Ｄ－\nⅢ」と訂正する。\n２  当審における当事者の主張\n(1)  争点(1)ウ（「部分走査レジスタ」（構成要件１Ｄ，５Ｆ，７Ｅ及び７Ｆ）\nの充足性）について\n〔控訴人の主張〕\n原判決は，本件明細書等の【０００５】，【００２６】及び第２次補正と同日付\nけで提出された意見書（甲５８の４，乙１８）の記載を根拠として，走査クロック\nの周波数をエミュレーション・クロックの周波数よりも高くすることは，信号出力\n線の数が信号入力線の数よりも少ないという走査レジスタ及び部分走査レジスタの\n構造にも基づくものであり，部分走査レジスタの構造的特徴と密接に関連するとし\nた上で，本件各発明の「部分走査レジスタ」は，「部分走査レジスタをして信号状\n態値を漏れなく捉え走査バスに出力するように走査クロックを制御するため，そ\nの信号出力線が信号入力線よりも少ないことに起因して，走査クロックの周波数\nをエミュレーション・クロックの周波数よりも高くして，これを印加するものを\nいう」と解し，いわゆる並列入力－並列出力タイプのレジスタは，信号入力線と\n信号出力線の本数が等しいことから，構成要件１Ｄ，５Ｆ，７Ｅ及び７Ｆにいう\n「部分走査レジスタ」には当たらないと判断した。\nア  「部分走査レジスタ」から，信号出力線と信号入力線の本数が等しいレジス\nタは除外されないこと\n(ア)  ●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●\n●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●\n●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●\n●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●\n●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●\n●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●\n●●●●●●●●●●●●●●●●●●●●●●●●●●\nそして，本件各発明の「部分走査レジスタ」とは，構成要件１Ｄにあるように作\n動するレジスタであれば，Ａタイプのものには限られず，Ｂタイプのレジスタであっ\nてもよいのであって，このような理解は，以下のとおり，本件明細書等の記載や本\n件各発明の技術内容とも整合し，技術常識に照らしても正当である。\n(イ)  本件明細書等には，「部分走査レジスタ」がＡタイプのレジスタに限定さ\nれる旨の記載はなく，また，「部分走査レジスタ」の出力線の数，入力線の数，そ\nれらの多寡等に着目した記載もない。本件明細書等において，唯一，Ａタイプのレ\nジスタが「部分走査レジスタ」と呼ばれているのは，【図８ｂ】及びその説明部分\nであるが，これは，本件各発明の「一実施形態」である旨明記されている（【００\n２８】）。\n(ウ)  本件明細書等の記載に照らせば，【図８ｂ】の実施態様としては，Ａタイ\nプだけではなく，Ｂタイプのレジスタの実施態様も含まれる。すなわち，【図８ｂ】\nに示された例における，論理素子の総数（１２８個）や，その中から選択される部\n分集合の大きさ（４分の１）は，例示であり，他の態様もあり得るとされる（【０\n０１５】，【００２８】参照）。そこで，１２８個の論理素子のうちの１６分の１\nの部分集合（全部で８個の論理素子）を選択して，当該部分集合（８個の論理素子）\nの信号状態値を捉えて出力するという実施態様が考えられる。この場合，部分走査\nレジスタ１３５に供給される信号状態値は８個であり，これは，８個のフリップフ\nロップからなるセット（Ｆｆ０）に供給される。他方，【図８ｂ】の例における，\nマルチプレクサのセット（Ｍ０，Ｍ１及びＭｎ）や，他のフリップフロップのセッ\nト（Ｆｆ１，Ｆｆ２及びＦｆｎ）は，入力すべき信号状態値を持たず，この例では\n不要となる。この場合の，部分走査レジスタ１３５の構成例を示すと，別紙１の図\n４のようになる。この図４の例において，部分走査レジスタの信号出力線の数（８\n本）は信号入力線の数（８本）と等しく，これはＢタイプのレジスタである。\nしたがって，本件明細書等の【図８ｂ】の実施態様としては，Ａタイプだけでは\nなく，Ｂタイプのレジスタも含まれる。この点からも，本件各発明の「部分走査レ\nジスタ」からＢタイプのレジスタが除外されるとは解されない。\n(エ)  本件各発明は，「部分走査レジスタ」及び「再構成可能なネットワーク」\nを用いて，エミュレーション・クロックの１クロック・サイクル単位で，選択され\nた論理素子の部分集合の信号状態値の記録を（部分走査レジスタが）選択的に捉え\nて出力し，かつ，選択的出力の対象となる論理素子の部分集合を，エミュレーショ\nン・クロックの１クロック・サイクル単位で，再コンパイルすることなく再構成可\n能とした点に特徴がある。しかるに，Ａタイプのレジスタを用いても，Ｂタイプの\nレジスタを用いても，かかる技術的特徴による本件各発明の作用・効果は等しく実\n現ないし具体化される。当該技術的特徴との関係で，論理素子の部分集合の信号状\n態値の記録を捉えて出力するように動作させるレジスタの構造が，ＡタイプかＢタ\nイプかによって違いはない。このように，本件各発明の技術内容に照らしても，「部\n分走査レジスタ」からＢタイプのものが除外される理由はない。\n(オ)  さらに，本件特許の優先権主張日当時，「ｓｃａｎ  ｒｅｇｉｓｔｅｒ」\n（スキャンレジスタ）又はその訳語の「走査レジスタ」の用語は，信号入力線の数\nと信号出力線の数が等しいＢタイプのレジスタを特に除外することなく用いられて\nおり（甲８２～８４），本件発明の「部分走査レジスタ」をＡタイプに限定する理\n由はない。\nイ  部分走査レジスタを駆動する走査クロックの周波数は，エミュレーション・\nクロックの周波数よりも高い態様のみに限定されないこと\n仮に本件明細書等の【０００５】の記載を根拠に技術的範囲を限定するとしても，\n【０００５】には，走査クロックをオペレーティング・クロック（エミュレーショ\nン・クロック）に「適切に比例」させる旨記載されているだけで，前者の周波数が\n後者の周波数よりも高いとは記載されていない。一般にＹがＸに「比例」するとい\nう場合，ＹのＸに対する割合が所定の値であること（Ｙ＝ｋ×Ｘの関係にあること）\nを意味するが，Ｙの値がＸの値よりも大きい場合のみを意味するものではなく，Ｙ\nとＸとが等しい場合（Ｙ＝１×Ｘの関係にある場合）も，ＹはＸに「比例」するこ\nとになる。したがって，【０００５】の「オペレーティング・クロックに適切に比\n例した走査クロック」という記載から，走査クロックの周波数が，オペレーティン\nグ・クロックの周波数よりも高いことは導かれない。\nまた，本件明細書等の【００２６】には，「全ＬＥ２００の追跡データの全走査\nを出力するための走査レジスタ１０８の一実施形態例」に関して，走査クロックの\n周波数が，作動エミュレーション・クロックに比例して適切に分割されるべきこと\nが記載されている。しかし，そもそもこれは，全走査レジスタ，しかもその「一実\n施形態例」に関する記載であって，「部分走査レジスタ」の全ての実施形態に妥当\nすべきものではない。\nさらに，意見書（甲５８の４，乙１８）の記載は，「部分走査レジスタ」につい\nての説明ではあるが，かかる説明から，「部分走査レジスタ」の全ての実施形態に\nおいて，必ず走査クロックの周波数がエミュレーション・クロックの周波数よりも\n高くなければならないこと，又は，Ｂタイプのレジスタにおいては，信号状態値を\n漏れなく捉えるために，走査クロックの周波数がエミュレーション・クロックの周\n波数よりも高い必要がないことは，いずれも導かれない。\n以上のとおり，本件各発明の「部分走査レジスタ」を駆動する（印加される）走\n査クロックの周波数はオペレーティング・クロック（エミュレーション・クロック）\nの周波数よりも高い場合に限定されるとする原判決の判断は誤りである。\nウ  エミュレーション・クロックよりも高い周波数を有する走査クロックの印加\nにより使用可能とされることの意義は，Ａタイプか，Ｂタイプかによって異ならな\nいこと\n仮に原判決のように，エミュレーション・クロックよりも高い周波数を有する走\n査クロックの印加によって使用可能とされる点を，本件各発明の「部分走査レジス\nタ」の必須の要件と解したとしても，エミュレーション・クロックの１クロック・\nサイクルにおける複数の論理素子の信号状態値の記録をレジスタが漏れなく捉えて\n出力するために，当該レジスタに印加する走査クロックの周波数をエミュレーショ\nン・クロックの周波数よりも高くする必要があるのは，以下のとおり，捉えて出力\nする信号状態値の数が当該レジスタの出力線の数よりも多いことに起因するのであ\nり，レジスタの構造（ＡタイプであるかＢタイプであるか）によるものではない。\n(ア)  すなわち，Ａタイプのレジスタの例として，別紙１の図８（本件明細書等\nの【図８ｂ】に加筆したもの）において，部分走査レジスタ１３５は，各々８個の\nフリップフロップからなる４個のフリップフロップセット（Ｆｆ０，Ｆｆ１，Ｆｆ\n２，Ｆｆｎ）を含んでいる。部分走査レジスタ１３５の出力部分に位置するフリッ\nプフロップセットＦｆｎに着目すると，Ｆｆｎを構成するフリップフロップの数（８\n個）に対応して，Ｆｆｎを駆動する走査クロックの１クロック・サイクル当たり８\n個の信号状態値を出力する。そこで，例えば，エミュレーション・クロックの１ク\nロック・サイクルにおける各論理素子（ＬＥ１～ＬＥ４とする。）の信号状態値（Ａ\n１～Ａ４とする。各々は８個の信号状態値からなり，合計で３２個の信号状態値で\nある。）を部分走査レジスタ１３５が漏れなく捉えて出力するためには，走査クロッ\nクの周波数をエミュレーション・クロックの周波数よりも４倍以上高く設定する必\n要がある。これは，部分走査レジスタの出力線の数（Ｆｆｎを構成するフリップフ\nロップの数である８本）よりも多数の信号状態値（上の例では３２個）を捉えて出\n力させることに起因する。\n(イ)  同様に，Ｂタイプのレジスタの例として，別紙１の図９では，８個の論理\n素子（４０１～４０８）の出力が，マルチプレクサ３００を介して，Ｂタイプのレ\nジスタ１００に供給される。そこで，例えば，エミュレーション・クロックの１ク\nロック・サイクルにおける各論理素子（４０１～４０８）の信号状態値（Ａ１～Ａ\n８）のうち，２個以上の論理素子（例えば４０１～４０４の４個）の信号状態値（Ａ\n１～Ａ４）をレジスタ１００が捉えて出力するためには，走査クロックの周波数を\nエミュレーション・クロックの周波数よりも４倍高く設定する必要がある。これは，\n上記図８の場合と同様，レジスタ１００の出力線の数（上記の例では１本）よりも\n多数の信号状態値（上の例では４個）を捉えて出力させることに起因する。\n(ウ)  被控訴人の主張について\nａ  被控訴人の主張ア(イ)ｂについて\n被控訴人は，別紙１の図９の態様においては，走査クロックが「再構成可能なネッ\nトワーク」であるマルチプレクサに印加されているが，本件明細書等には，かかる\n構成の言及はなく，その示唆もない旨主張する。\nしかし，別紙１の図９は，一般にＢタイプのレジスタに関しても，エミュレーショ\nン・クロックに「適切に比例した」走査クロックを印加する必要があることを説明\nするためのモデルであって，走査クロックをカウンタに印加すること等の具体的構\n成を含めてそれ自体を侵害態様として主張したものではない。別紙１の図９におい\nては，マルチプレクサ３００につながれた「カウンタ」や，当該「カウンタ」に走\n査クロックを印加することは必須の要素ではなく，この点は，甲７８（１０～１３\n頁）及び甲７９（５～７頁）の説明において，「カウンタ」やこれに印加する走査\nクロックが特に用いられていないことからも裏付けられる。別紙１の図９において\n重要な点は，エミュレーション・クロックの１クロック・サイクルの複数の信号状\n態値（Ａ１～Ａ４）がマルチプレクサ３００を介して順次レジスタに供給される点\nである。そして，別紙１の図９の構成のうち，エミュレーション・クロックの１ク\nロック・サイクルにおける複数の信号状態値が，マルチプレクサを介して順次レジ\nスタに供給される点は，被告各製品とも共通する。\nしたがって，被控訴人の上記主張は理由がない。\nｂ  被控訴人の主張ウについて\n被控訴人は，別紙１の図９においては，レジスタの前段にマルチプレクサが設け\nられ，マルチプレクサの入力の切替えにより，信号状態値が順次レジスタに供給さ\nれる構成とされているが，かかる態様の「部分走査レジスタ」は，本件明細書等に\n開示されていないばかりか，「再構成可能なネットワーク」であるマルチプレクサ\n３００に走査クロックが印加されるような本件各発明の態様も，本件明細書等には\n開示されておらず，さらに，別紙１の図９に示されるような態様が本件明細書等の\n記載から実施し得ることについての主張立証もない旨主張する。\nしかし，本件特許の優先権主張日当時，ランダムアクセススキャン方式（甲７９\nの５頁図Ａ）や乙６４（図７Ｃ）を始めとして，レジスタの前段に設けたマルチプ\nレクサの入力を切り替えて，複数の信号状態値を順次レジスタに供給する構成は一\n般に知られていた。\nまた，本件明細書等の図１１には，論理素子（ＬＥ）アレイ１０２からの全ての\n信号状態値（例えば，論理素子が全部で１２８個の場合は１２８個の信号状態値）\nをマルチプレクサ１１０６を介して走査レジスタ１１０８に供給する構成が開示さ\nれている。マルチプレクサ１１０６の出力線の数は入力線の数より少ないから，マ\nルチプレクサ１１０６に入力された１２８個の信号状態値は同時に出力されること\nはできず，マルチプレクサ１１０６の入力を切り替えることで順次出力されて走査\nレジスタ１１０８に供給されることになる。\nそうすると，本件明細書等に接した当業者は，「部分走査レジスタ」について，\nレジスタ１２０のようなレジスタを採用し，その前段にマルチプレクサを設けて，\n被告各製品のような態様で実装できることを認識できたものである。\nしたがって，被控訴人の上記主張は理由がない。\nエ  フレキシブルプローブにおける「部分走査レジスタ」について\n●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●\n●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●\n●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●\n●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●\n●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●\n●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●\n●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●\n●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●\n●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●\n●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●\n●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●\n●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●\n●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●\n●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●\n●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●\n●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●\n●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●\n〔被控訴人の主張〕\nア  「部分走査レジスタ」から，信号出力線と信号入力線の本数が等しいレジス\nタは除外されること\n(ア)  控訴人の主張ア(ア)及び(イ)について\n控訴人は，本件明細書等には，「部分走査レジスタ」をＡタイプのレジスタに限\n定される旨の記載も，「部分走査レジスタ」の出力線の数，入力線の数，それらの\n多寡等に着目した記載もなく，構成要件１Ｄのように作動するレジスタであれば，\nＡタイプのものには限られず，Ｂタイプのレジスタであってもよい旨主張する。\nしかし，控訴人の上記主張は，構成要件１Ｄにおいて，単に「レジスタ」と規定\nするのではなく，あえて「部分走査レジスタ」という限定的な用語を選択したこと\nと矛盾する上，控訴人が第２次補正と同日付けで提出した意見書（甲５８の４，乙\n１８）において，「部分走査レジスタ」が構成要件１Ｄに規定されるような処理を\n実現する手段又は構成としては，「エミュレーション・クロックを適切に分周した\n走査クロックを部分走査レジスタに与えること」が必要である旨述べていることと\n矛盾する。そして，本件明細書等の【０００５】には，「部分走査レジスタ」にオ\nペレーティング・クロック（エミュレーション・クロック）に「適切に比例」した\n走査クロックを適用することが記載され，【００２８】にも，「部分走査レジスタ」\nが複数のフリップフロップとマルチプレクサとが鎖状に連結された構成であること\nが記載され，【図８ｂ】にも同様の構成が図示されているのであって，本件明細書\n等には，「部分走査レジスタ」について，信号出力線の数を信号入力線の数よりも\n減少させる構成が明示されている。\nしたがって，控訴人の上記主張は理由がない。\n(イ)  控訴人の主張ア(ウ)及びウ(イ)について\n控訴人は，「部分走査レジスタ」の一態様として，別紙１の図４の構成及び図９\nのレジスタ１００の構成が含まれる旨主張する。\nａ  別紙１の図４及び図９の態様は，本件明細書等で開示されている「部分走査\nレジスタ」とは，構成及び動作態様ひいては技術的思想が全く異なること\n別紙１の図４及び図９の構成とでは，少なくともマルチプレクサへの「走査クロッ\nク」の印加の有無に違いがあるものの，控訴人は，要するに，「部分走査レジスタ」\nの態様として把握する限りにおいては，「部分走査レジスタ」にはごく汎用的なフ\nリップフロップを配置（又はそれを複数個並列に配置）する構成が含まれる旨主張\nしていることになる。\nしかし，本件明細書等に開示されている「部分走査レジスタ」は，【図８ｂ】の\nとおり，複数のフリップフロップが鎖状に連結され，あるフリップフロップの出力\nが次のフリップフロップの入力になる構成であって，データが並列に入力され，デー\nタの各ビット値が直列に出力される，いわゆる「走査」（スキャン）処理のための\n構成を備えるもののみであって，信号出力線の数が信号入力線の数よりも少ない。\nこれに対して，別紙１の図４や図９の態様は，複数のフリップフロップを単に配置\n又は並べただけであって，各フリップフロップの出力及び入力は相互に関連せず，\n信号出力線の数は信号入力線の数よりも少なくならない。このように，別紙１の図\n４及び図９の態様は，本件明細書等で開示されている「部分走査レジスタ」とは，\n構成及び動作態様ひいては技術的思想が全く異なるのであって，これが「部分走査\nレジスタ」に含まれ得ることは，本件明細書等には記載も示唆もない。\nｂ  本件明細書等において「再構成可能なネットワーク」に「走査クロック」が\n印加される構成は一切言及がなく，その示唆すらないこと\nまた，控訴人の前記主張によれば，「再構成可能なネットワーク」であるマルチ\nプレクサに「走査クロック」が印加される構成（別紙１の図９）も，本件各発明の\n技術的範囲に含まれることになる。\nしかし，本件明細書等においては，「部分走査レジスタ」に「走査クロック」が\n印加されることの記載はあるが（【０００５】等），「再構成可能なネットワーク」\nに「走査クロック」が印加される構成は一切言及がなく，その示唆すらない。本件\n各発明においては，「再構成可能なネットワーク」は，エミュレーション・クロッ\nクの１クロック・サイクルを最小単位として，観察対象となる論理素子を選択する\n機能を有するが，特定のクロック・サイクルにおいて，信号出力線の数を当該クロッ\nク・サイクルにおいて選択された論理素子の信号状態値の数よりも小さくすること\nは，「部分走査レジスタ」がその役割を果たすこととされている。これに対して，\n別紙１の図９では，「再構成可能なネットワーク」であるマルチプレクサ３００に\n対し「走査クロック」が印加され，本来「部分走査レジスタ」が担っていた役割を\nも，「再構成可能なネットワーク」において実現しようとするものである。このよ\nうな構成は，本件明細書等に一切開示されていないばかりか，本件各発明とは別個\nの技術的解決手段を採用したものというほかない。\nｃ  したがって，控訴人の前記主張は，失当である。\n(ウ)  控訴人の主張ア(エ)について\n控訴人は，本件各発明の技術内容に照らしても，「部分走査レジスタ」からＢタ\nイプものが除外される理由はない旨主張する。\nＢタイプのレジスタである別紙１の図４及び図９の構成が「部分走査レジスタ」\nに含まれるとの控訴人の主張を前提とすると，例えば１２８個の論理素子が選択可\n能であり，「再構成可能なネットワーク」として４：１マルチプレクサを用いる場\n合，フリップフロップを３２個並べた構成を含むこととなる。また，別の例として\n７６８個の論理素子が選択可能であり，４：１マルチプレクサを用いる場合を考え\nると，１９２個ものフリップフロップを並べた構成も含むこととなる。しかし，こ\nの場合，再コンパイルなしに動的に選択が可能となる論理素子の数を多く確保しよ\nうとすれば，並列に配置するフリップフロップの数が増え，それにしたがって出力\n線の数も増加するから，多数のＩ／Ｏピンを占有することとなる。他方，そもそも\nＩ／Ｏピンは無数ではないから，フリップフロップを並列に配置する手法では，再\nコンパイルなしに動的に選択が可能となる論理素子の数を多く確保することが困難\nとなる。一方，控訴人の主張を前提に，マルチプレクサの入力数を増やし並列に配\n置するフリップフロップの数の増加を抑えるという構成も考えられないではないが，\nマルチプレクサの入力を増やすにつれ，マルチプレクサにおける遅延が増大し，マ\nルチプレクサによる切替速度が遅くなる（動作可能周波数が低くなる）結果，特定\nの１クロック・サイクルにおいて観察対象とされる論理素子の信号状態値を漏れな\nく出力するためには，結局は，エミュレーション・クロックの周波数を低くする必\n要が生じ，エミュレーション及びデバッグの効率が著しく悪化する。また，マルチ\nプレクサの入力が増えれば，マルチプレクサに入力される制御信号のビット数が増\n加し，信号経路選定の輻輳が増加する。\nしたがって，上記構成は，本件各発明の課題を解決するどころか，むしろ阻害す\nるものであるから，かかる構成が本件各発明及び「部分走査レジスタ」の一態様に\n含まれるとする控訴人の主張は，失当である。\n(エ)  控訴人の主張ア(オ)について\n控訴人は，甲８２ないし８４を引用して，「走査レジスタ」の用語法に照らすと，\n「部分走査レジスタ」をＡタイプに限定する理由はない旨主張する。\nしかし，甲８２は，ＣＭＯＳの回路設計に関する文献であって，エミュレータに\n関する文献ではないから，その記載内容をエミュレータに適用することはできない\n上，「部分走査レジスタ」ないし「走査レジスタ」自体の構成ではなく，その配置\nの仕方を示したものにすぎず，Ｂタイプのレジスタと同一の構成が開示されている\nことも読み取れない。\n甲８３は，論理ＬＳＩの診断方式であるスキャンの方法について述べたもので\nあって，エミュレータにおける走査レジスタの構成を示したものではないから，そ\nの記載内容をエミュレータに適用することはできない上，甲８３のスキャンレジス\nタ１０は，信号出力線の数が信号入力線の数より明らかに少ないから，Ｂタイプの\nレジスタではない。\n甲８４は，論理ＬＳＩの診断方式であるスキャンの方法について述べたもので\nあって，エミュレータにおける走査レジスタの構成を示したものではないから，そ\nの記載内容をエミュレータに適用することはできない上，甲８４には，書き込みと\n読出しが並列的に（同時に）行われても良い旨記載されているのみであり，「並列\nにロードされ並列に出力されてもよい」などとは記載されていない。\nしたがって，甲８２ないし８４は，いずれも本件特許の「部分走査レジスタ」に\n代えてＢタイプのレジスタが適用可能なことを基礎付ける根拠とはならない。\nイ  部分走査レジスタを駆動する走査クロックの周波数は，エミュレーション・\nクロックの周波数よりも高い態様のみに限定されること\n本件明細書等の【０００５】において，走査クロックはオペレーティング・クロッ\nク（エミュレーション・クロック）に「適切に比例」したものとされているところ，\n「適切に比例」とは，本件明細書等の【０００５】，【００２６】，第２次補正と\n同日付けで提出された意見書（甲５８の４，乙１８）の記載に照らすと，「走査ク\nロック」がオペレーティング・クロック（エミュレーション・クロック）に比例し\nて適切に分割された周波数を持つクロックであることが導かれる。\nまた，本件明細書等の【０００５】，【０００８】，【００１３】，【００２６】\n～【００２８】，【図１】，【図８ａ】，【図８ｂ】，【図１１】の記載を踏まえ\nると，「部分走査レジスタ」と「全走査レジスタ」とは，走査クロックが印加され，\nフリップフロップ及び２：１マルチプレクサが鎖状に連結されるという構成が共通\nし，両者の基本的な機能・構成が共通することは明らかであって，本件明細書等の\n上記記載を参酌することに誤りはない。控訴人も，上記意見書において，「部分走\n査レジスタ」に関する説明として，本件明細書等の【００２６】を引用している。\nさらに，上記意見書は，引用例との対比を述べる文脈で記載がされているところ，\nそのような場面で一実施態様においてのみ実現される特徴点を述べる意味はないか\nら，上記意見書の記載は，一実施態様に限定したものではない。\nしたがって，控訴人の主張イは理由がない。\nウ  部分走査レジスタが，エミュレーション・クロックよりも高い周波数を有す\nる走査クロックの印加により使用可能とされることの意義について\n控訴人の主張ウは，本件各発明における「部分走査レジスタ」以外の手段の存在\n可能性を述べるにすぎず，本件各発明における「部分走査レジスタ」の意義を解釈\nする上で何らの意味もない。すなわち，本件明細書等の記載から明らかなとおり，\n「部分走査レジスタの出力線の数…よりも多数の信号状態値…を捉えて出力させる\nことに起因」して，「部分走査レジスタ」の信号出力線の数を観察対象となる論理\n素子から出力される信号状態値の数よりも小さくすることを実現する手段として開\n示されているのが「部分走査レジスタ」であって，それ以外の手段の理論的な存在\n可能性を述べたところで，「部分走査レジスタ」の解釈との関係では何らの意味も\nない。\nまた，前記ア(イ)のとおり，別紙１の図９の態様の「部分走査レジスタ」は本件\n明細書等に開示されていないばかりか，「再構成可能なネットワーク」であるマル\nチプレクサ３００に走査クロックが印加されるような本件各発明の態様も，本件明\n細書等には開示されていない。また，控訴人は，別紙１の図９の態様が，本件各発\n明から当業者が実施し得る構成であることについても，何ら主張・立証していない。\nしたがって，控訴人の主張ウは失当である。\nエ  フレキシブルプローブの構成要件１Ｄ，５Ｆ，７Ｅ及び７Ｆの充足性につい\nて\n(ア)  実施態様Ⅰについて\n●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●\n●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●\n●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●\n●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●\n●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●\n●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●\n●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●\n●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●\n●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●\n●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●\n●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●\n●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●\n●●●●●●●●●\n●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●\n(イ)  実施態様Ⅱ及びⅢについて\n●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●\n●●●●●●●●\n(2)  争点(1)エ（「再構成可能なネットワーク」〔構成要件１Ｅ，５Ｇ，５Ｈ及\nび７Ｇ〕の充足性）について\n〔控訴人の主張〕\nア  ダイナミックプローブについて\n原判決は，ダイナミックプローブのコンフィギュレーションメモリは，全ての論\n理素子の状態が格納されるものであるから，論理素子の全てと接続されていること\nとなるとして，ダイナミックプローブについて，構成要件１Ｅ，５Ｇ，５Ｈ及び７\nＧの充足性を否定した。\nしかし，控訴人は，ダイナミックプローブに関し，コンフィギュレーションメモ\nリではなく，ＦＤＲＯが「部分走査レジスタ」に該当すると主張したのである。そ\nして，ＦＤＲＯは，選択された論理素子に係るデータのみを捉えて出力するから，\n全ての論理素子と接続されているとはいえない。\nしたがって，コンフィギュレーションメモリが全ての論理素子の状態を格納する\nからといって，構成要件１Ｅ等の充足性が否定されることはない。\nイ  フレキシブルプローブの実施態様Ⅰについて\n●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●\n●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●\n●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●\n●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●\n●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●\n●●●●●●●●●●●●●●●●●●\n●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●\n●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●\n●●●●●●●●●\n〔被控訴人の主張〕\n争う。\n(3)  争点(2)（均等侵害の成否）について\n〔控訴人の主張〕\nア  第１要件（非本質的部分）\n(ア)  本件各発明の特徴的部分\nａ  本件明細書等の【０００３】，【０００４】，【００１１】の記載によれば，\n本件各発明は，「部分走査レジスタ」を用いて，デバッグの高速化・効率化を図り，\n再コンパイルを伴うＦＰＧＡの再構成の必要性を減少させ，監視追跡に要する時間\nを短縮することを目的ないし課題とする。そして，本件明細書等の【００１１】，\n【００２９】，【００３１】によれば，本件各発明の「部分走査レジスタ」（構成\n要件１Ｄ）は，「再構成可能なネットワーク」（構成要件１Ｅ）の動作とあいまっ\nて，エミュレーション・クロックの特定のクロック・サイクル（ある１クロック・\nサイクル）における論理素子の「部分」集合に係る信号状態値の記録を選択的に出\n力し，かつ，かかる選択的出力の対象となる部分集合を動的に（再コンパイルなし\nに）再構成する（可視点を動的に変える）ことを可能とするものであり，かかる特\n徴的構成により，効率的な手段が提供され，デバッグの高速化が容易になるものと\n理解される。\nｂ  乙１の１（米国特許第５７７７４８９号。平成１０年７月７日公開。以下，\n乙１の１に記載された発明を「乙１発明」という。）の図８に示された「走査レジ\nスタ１０８」は，フリップフロップ２４２とマルチプレクサ２４４とが鎖状に連結\nされた，Ａタイプのレジスタであり，本件明細書等の【図８ｂ】に例示された「部\n分走査レジスタ」の一実施形態と同じ構造を有する（なお，乙１の１の図８と同様\nの構造の走査レジスタは，本件明細書等の【図８ａ】にも示されている。）。\nｃ  前記ｂのとおり，本件特許の優先権主張日当時，Ａタイプのレジスタをして，\n全論理素子の信号状態値の記録を捉えて出力させることは公知であった。かかる先\n行技術を踏まえれば，本件各発明において，Ａタイプのレジスタを用いること自体\nは，本件各発明に特有の課題解決手段を基礎付けるものではなく，発明の本質的部\n分とはいえない。\n前記ａの本件明細書等の記載及び前記ｂの先行技術を踏まえれば，「部分走査レ\nジスタ」に関して本件各発明に特徴的なのは，レジスタをして，論理素子の全部で\nはなく，「部分」集合の信号状態値をエミュレーション・クロックの１クロック・\nサイクル単位で選択的に捉えて出力させるように構成した点，すなわち，「選択さ\nれた論理素子の部分集合によってエミュレートされた回路素子の複数の信号状態値\nの記録をエミュレーション・クロックの１クロック・サイクルにおいて捉え，そし\nて走査バスに出力する」（構成要件１Ｄ）ように部分走査レジスタを動作させる点\nである。\n(イ)  フレキシブルプローブの実施態様ⅠないしⅢが本件各発明の特徴的部分を\n備えていること\n●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●\n●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●\n●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●\n●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●\n●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●\n●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●\n●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●\n●●●●●●●●●●●●●●●●●●●\n(ウ)  原判決の判断の誤り\nａ  原判決は，本件明細書等の【０００３】，【０００４】の記載から，「部分\n走査レジスタ」に用いるレジスタの出力線の数を減らし，又は回路規模を小さくす\nることを本件各発明の課題として把握し，Ａタイプのレジスタにおいては信号読み\n出しのための出力線を減らす効果があるのに対し，Ｂタイプのレジスタにおいては，\n出力線が多数必要となり，また，Ｂタイプのレジスタにおいても，例えばマルチプ\nレクサを設けることにより最終的な出力線の数を減らすことは可能であるが，その\n場合には，Ａタイプの走査レジスタに比べて，回路規模が増大したり，マルチプレ\nクサの制御が複雑化したりすることによって，本件各発明の解決課題に反する旨判\n断した。\n(a)  しかし，原判決が，解決課題を把握するのに依拠した本件明細書等の【００\n０３】の「例えばロジック・アナライザによって観察可能（追跡可能）なポート／\nノードに信号を持込むために，通常，多数のＦＰＧＡのＩ／Ｏが占有される」との\n記載は，本件各発明の背景事情にすぎず，本件各発明の解決課題ではない。事実，\n【０００３】の背景事情を受けて，本件各発明で必要とされる技術を説明した【０\n００４】は，ＦＰＧＡのＩ／Ｏ（入出力）の占有について何ら言及していない。ま\nた，【０００５】以下の記載においても，Ａタイプのレジスタを用いることで，Ｆ\nＰＧＡのＩ／Ｏの占有を減らす効果が得られる旨の記載もない。前記アのとおり，\n本件明細書等の記載に照らせば，本件各発明の目的ないし課題は，デバッグの高速\n化・効率化を図り，再コンパイルを伴うＦＰＧＡの再構成の必要性を減少させ，監\n視追跡に要する時間を短縮することにある。\n仮に，【０００３】の上記記載が，本件各発明の課題に関係するとしても，当該\n記載は，「ロジック・アナライザによって観察可能（追跡可能）なポート／ノード\nに信号を持ち込む」か否かによるＦＰＧＡのＩ／Ｏの占有の多寡を問題とするもの\nであって，「部分走査レジスタ」のレジスタのタイプに応じた構造的特徴に基づく\nＩ／Ｏの多寡を問題とするものではなく，ましてや，回路規模の大小は全く問題と\nされていない。かかる記載から，「部分走査レジスタ」の出力線の数を減らすこと\n又は回路規模を小さくすることを本件各発明の解決課題と把握する根拠はない。\n(b)  仮に，明細書の背景事情に係る記載を発明の課題に取り込み，かつ，ロジッ\nク・アナライザの利用に伴うＩ／Ｏの占有に関する記載を一般化して，ロジック・\nアナライザの利用の有無以外の場面での「Ｉ／Ｏ」の減少をも本件各発明の課題の\n一部と把握したとしても，信号状態値を出力する手段としてＡタイプのレジスタを\n用いること自体は従来技術（乙１の１）であり，「部分走査レジスタ」としてＡタ\nイプのレジスタを用いることは，本件各発明に特有の課題解決手段を基礎付ける部\n分ではない。本件各発明に特徴的なのは，論理素子の全部ではなく「部分」集合に\n係る信号状態値を選択的に捉えて出力する点にあり，これにより，ＦＰＧＡ内の入\n出力を減らすことが可能となる（全部ではなく，部分集合の信号状態値がデータ処\n理の対象となるため，それに要する入出力を減らすことが可能となる。）。\n(c)  また，本件各発明は，デバッグの高速化・効率化を目的ないし課題とする。\nそして，信号状態値を出力する走査レジスタにおいて，信号出力線を並列化又は増\nやすことは，処理を高速化・効率化する効果がある。したがって，「部分走査レジ\nスタ」において出力線の数の多いレジスタを用いることは，処理の高速化・効率化\nという本件各発明の課題の解決に資するものであり，これに反するものではない。\n(d)  ●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●\n●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●\n●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●\n●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●\n●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●\n●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●\n●●●●●●●●●●●●●●●●●●●●●●●●●●●●●\n(e)  ●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●\n●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●\n●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●\n●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●\n●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●\n●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●\n●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●\n●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●\n●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●\nｂ  原判決は，①本件各発明において全走査レジスタではなく，選択された論理\n素子の部分集合のみに接続される部分走査レジスタを構成要件として規定している\nこと，②本件明細書等の【０００４】の記載に照らし，本件各発明は，「簡単確実\nに制御可能である小規模な走査レジスタ」によって，従来技術における問題点を克\n服することをも解決課題としており，この観点において，レジスタにおけるＡタイ\nプとＢタイプとでは，作用効果も異なる旨判断した。\n(a)  しかし，全走査レジスタと比べた「部分走査レジスタ」の特徴は，論理素子\nの全部ではなく「部分集合」の信号状態値を捉えて出力する点にあり，これに用い\nるレジスタの種類，構造ないしタイプにあるのではないから，上記①に依拠した点\nは，全走査レジスタと比べた「部分走査レジスタ」の特徴について，本件明細書等\nの記載に基づかない独自の解釈を行うものである。\n上記②の点についても， ノード（観測対象となる論理素子）に「容易にアクセス」\nするという目的ないし課題に対して，本件各発明は，論理素子の部分集合の信号状\n態値を（部分走査レジスタが）選択的に出力し，選択的出力の対象となる部分集合\nを（再コンパイルすることなく）再構成可能とすることにより解決しているのであっ\nて，「部分走査レジスタ」として「小規模」なものを用いることは，本件各発明に\n特有の課題解決手段を基礎付ける部分ではない。本件明細書等にも，レジスタの種\n類を「簡単確実に制御可能である小規模な」ものとすることについての記載はない。\n(b)  ●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●\n●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●\n●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●\n●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●\n●●●●●●●●●●●●●●●●\nｃ  原判決は，本件各発明における「部分走査レジスタ」は，全走査レジスタや\n一般的なレジスタとは文言上区別されるものであり，ＦＰＧＡにおける多数のＩ／\nＯ占有，監視追跡時間の増大，複雑な制御といった従来技術の課題と関連し，信号\n出力線の数が入力線の数より少ないという構造に基づき，エミュレーション・クロッ\nクの周波数に適切に比例し，あるいは分割され，エミュレーション・クロックより\nも高い周波数を有する走査クロックの印加によって使用可能となる点に特徴を有す\nるものであって，本件各発明の課題を解決するために不可欠の部分であり，そうす\nると，本件各発明における「部分走査レジスタ」において，これが信号出力線の数\nが信号入力線の数よりも少ないタイプのレジスタである点は，本件各発明特有の課\n題解決手段を基礎付ける技術的思想の中核をなす特徴的部分である旨判断した。\n(a)  しかし，全ての論理素子の信号状態値の記録を捉えて出力する「全走査レジ\nスタ」ないし「走査レジスタ」は従来技術であるところ（乙１の１），エミュレー\nション・クロックに適切に比例した（又はエミュレーション・クロックよりも高い\n周波数を有する）走査クロックの印加によって使用可能となる点は，かかる従来公\n知の「走査レジスタ」でも同様である。したがって，エミュレーション・クロック\nの周波数よりも高い走査クロックの印加により使用可能となる点は，従来技術で\nあって，本件各発明の「部分走査レジスタ」の特徴的部分ではない。\n(b)  ●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●\n●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●\n●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●\n●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●\n●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●\n●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●\n●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●\n●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●\n●●●●●●●●●●●\n(c)  ●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●\n●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●\n●●●●●●●●●●●●●●●●●●●●●●●●●●●●\n(エ)  被控訴人の主張について\n被控訴人は，本件明細書等の【０００３】に記載の問題点①ないし⑥が，【００\n０４】の前提であり，「部分走査レジスタ」の信号出力線の数が信号入力線の数よ\nり少ない点が，本件各発明の本質的部分である旨主張する。\nしかし，本件明細書等において，発明の背景に関する記載【０００３】のうち，\n①ＦＰＧＡの内部にマップ化されている個々のノードにおける信号状態が，直接的\nに観察できないこと，②隠されたノードにおける信号状態を観察可能にするために\nは，信号をＦＰＧＡの外に出し，ロジック・アナライザに入れるＦＰＧＡの再構成\nが必要であるが，それには膨大な時間を要する再コンパイルを必要とすること，③\nロジック・アナライザによって観察可能なポート／ノードに信号を持ち込むために，\n多数のＦＰＧＡのＩ／Ｏが占有されること，④経路選定すべき付加的信号により，\n信号経路選定の輻輳が増加されること，⑤隠されたノード上の信号が，正しい時刻\nに読み取られたか否かを知ることは困難であることについては，いずれも公知文献\nである乙１の１にも，これに対応する記載がある。また，信号状態値を捉えて出力\nするレジスタとして，本件明細書等の【図８ｂ】に例示されるような，信号出力線\nの数が信号入力線の数より少ないレジスタを用いることは，乙１の１により従来公\n知であったし，「部分走査レジスタ」の信号出力線の数が信号入力線の数より少な\nい点は，問題点①ないし⑤の解決とは無関係である。\nそうすると，上記①ないし⑤は，本件各発明に特有の課題解決手段とは無関係で\nあって，本件各発明に特有の課題は，乙１の１には記載のない，⑥監視追跡時間の\n増加という課題であり，本件各発明に特有の課題解決手段は，上記⑥の課題を乙１\nの１には開示されていない構成要件１Ｄ及び１Ｅに係る処理により解決する点にあ\nり，「部分走査レジスタ」において信号出力線の数が信号入力線の数よりも少ない\nことを本件各発明の本質的部分と解することはできない。\nしたがって，被控訴人の上記主張は理由がない。\nイ  第２要件（置換可能性）\n前記ア(エ)のとおり，本件明細書等の【０００３】，【０００４】（発明の背景）\nの記載のうち，従来技術である乙１の１に記載がないのは，監視追跡時間の増加と\nこれに伴うエミュレーション頻度の低下と，隠されたノードに容易にアクセスする\nことである。そして，本件明細書等の発明の効果に関する記載（【０００８】，【０\n０１１】，【００２９】，【００３１】）には，乙１の１を含め従来技術にはない\n新規な特徴として，構成要件１Ｄ及び１Ｅに関して，デバッグの高速化を容易にし，\n（再コンパイルなしに）可視点を動的に変えられ，新しいレベルの自由度が得られ\nる旨の説明があることから，デバッグの高速化や，（再コンパイルなしに）可視点\nを動的に変えられることが，従来技術では解決できなかった課題であり，本件各発\n明により解決されたものである。\n以上から，本件各発明は，デバッグの高速化・効率化を図り，再コンパイルを伴\nうＦＰＧＡの再構成の必要性を減少させ，監視追跡時間を短縮することなどを目的\nとする。かかる目的に関して，本件各発明の技術的特徴である「部分走査レジスタ」\n及び「再構成可能なネットワーク」により，エミュレーション・クロックの１クロッ\nク・サイクルにおける論理素子の「部分」集合に係る信号状態値を選択的に出力し，\nかつ，かかる選択的出力の対象となる部分集合を動的に（再コンパイルなしに）再\n構成する（可視点を動的に変える）ことを可能とし，これによってデバッグの高速\n化ないし監視追跡時間の短縮化が図られる。\n●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●\n●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●\n●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●\n●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●\n●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●\n●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●\n●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●\n●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●\n●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●\n●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●\n●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●\n●●●●●●●●●●●●●●●●●●●●●●\n●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●\n●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●\nウ  第３要件（置換容易性）\n●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●\n●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●\n●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●\n●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●\n●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●\n●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●\n●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●\n●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●\n●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●\n●●\n●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●\n●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●\n●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●\n●●●\nエ  第４要件（公知技術との同一性又は容易推考性）\n本件特許の優先権主張日において，フレキシブルプローブの実施態様ⅠないしⅢ\nに相当する公知技術は存在しない。また，フレキシブルプローブの実施態様Ⅰない\nしⅢに相当する構成が，本件特許の優先権主張日当時の公知技術に基づいて容易に\n推考できたとされる事情もない。\nオ  第５要件（特段の事情）\n●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●\n●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●\n●●●●●●●●●●●●●●●●●\nカ  小括\n以上によれば，フレキシブルプローブの実施態様ⅠないしⅢのレジスタは，本件\n各発明における「部分走査レジスタ」と均等というべきであり，均等侵害が成立す\nる。\n〔被控訴人の主張〕\nア  第１要件（非本質的部分）について\n(ア)  本件各発明の目的ないし課題\n本件明細書等の【０００３】は，従来技術の課題について，①隠されたノードを\n直接的に観察できないこと，②隠されたノードにおける信号状態を観察可能にする\nためには，信号をＦＰＧＡの外に出し，ロジック・アナライザに入れるＦＰＧＡの\n再構成が必要であるが，それには膨大な時間を要する再コンパイルを必要とするこ\nと，③検査システム（例えば，ロジック・アナライザ）によって観察可能（追跡可\n能）なポート／ノードに信号を持ち込むために，多数のＦＰＧＡのＩ／Ｏが占有さ\nれること，④経路選定すべき付加的信号により，信号経路選定の輻輳が増加される\nこと，⑤隠されたノード上の信号が，正しい時刻に読み取られたか否かを知ること\nは困難であることを並列的に掲げた上で，⑥「エミュレータが複雑化するにつれ，\nＦＰＧＡのネットワーク及び相互接続した追跡も増加し，上記の問題は一層悪化す\nる。監視追跡に要する時間が複雑化を伴いどこまでも増えるにつれ，エミュレーショ\nンが実行できる頻度は，容認できないレベルにまで減少する。」としている。\n上記記載に鑑みれば，本件各発明においては，控訴人が主張するように「再コン\nパイルを伴うＦＰＧＡの再構成の必要性を減少させ，監視追跡に要する時間を短縮\nすること」のみを解決課題としているのではなく，エミュレータが複雑化するにつ\nれ，「ＦＰＧＡのネットワーク及び相互接続した追跡も増加」し，上記①ないし⑤\nの問題が「一層悪化」するために，⑥「監視追跡に要する時間が…増え」，「エミュ\nレーションが実行できる頻度は，容認できないレベルまで減少する」ことが課題と\nされていると考えるのが相当である。\nそして，【０００４】の記載を，【０００３】の記載と照らしてみると，「一旦\n隠されたノードに容易にアクセスできるとともに，再構成の必要性を減少させなが\nら追跡する」（【０００４】）ことについては，上記課題②及び課題③の双方に関\n連し，また，「許容できるエミュレーション頻度でエミュレーションする」（【０\n００４】）ことについては，直接的には課題⑥に対応しているものの，課題⑥は，\n課題①ないし⑤が「一層悪化」するために生じる問題であるから，結局，【０００\n４】の記載は，【０００３】に記載された課題①ないし⑥の存在を前提としている。\n(イ)  本件各発明の課題解決手段と本質的部分\n本件各発明は，乙１の１の米国特許出願の継続出願に対する一部継続出願を優先\n権主張の基礎とする国際特許出願が国内移行され，特許されたものである。\n本件各発明の基礎となった乙１発明の技術的特徴は，前記(ア)の各課題を解決す\nるために，「全走査レジスタ」として，エミュレーション・クロックに比例して適\n切に分割された周波数を持つ走査クロックを適用することにより，その信号出力線\nを信号入力線よりも少なくする構成を開示し，これにより，前記(ア)の課題②ない\nし④を解決するものである。\n本件各発明は，同じく前記(ア)の各課題を解決するため，乙１発明に係る「全走\n査レジスタ」の技術的特徴点を備えることを前提に，更なる技術的な特徴として，\nエミュレーション・クロックの１クロック・サイクルにおいて観察対象となる論理\n素子を選択的（部分的）とする「再構成可能なネットワーク」とともに，「全走査\nレジスタ」と同様，エミュレーション・クロックに比例して適切に分割された周波\n数を持つ走査クロックを適用することにより，その信号出力線を信号入力線よりも\n少なくする構成を有する「部分走査レジスタ」を不可分的に組み合わせることによ\nり，前記(ア)の課題②ないし④等を解決する発明である。具体的には，本件各発明\nでは，「再構成可能なネットワーク」によって，乙１発明に比べてエミュレーショ\nン・クロックの１クロック・サイクルにおいて観察対象となる論理素子を選択的（部\n分的）とすることにより，特定の１クロック・サイクルにおけるＦＰＧＡの出力数\nを減少させることに加え，「部分走査レジスタ」において，エミュレーション・ク\nロックに比例して適切に分割された周波数を持つ走査クロックを適用し，その信号\n出力線を信号入力線よりも少なくする構成により，ＦＰＧＡの出力線を減少させて\nいる。また，本件各発明では，「再構成可能なネットワーク」により観察対象とし\nて選択可能な論理素子の範囲を拡張するとともに，「部分走査レジスタ」も，限ら\nれたＩ／Ｏピンの数を前提に，信号出力線よりも信号入力線を多く確保することに\nよって，観察対象として選択可能な論理素子の範囲を拡張する作用を奏している。\nさらに，単に入力数の多いマルチプレクサのみを用いると，経路選定のための付加\n的信号が増加し輻輳を招くため，これを防止する観点からも，「再構成可能なネッ\nトワーク」のみならず，経路選定のための付加的信号を最小限に抑える構成を有す\nる「部分走査レジスタ」を不可分的に組み合わせるといった原理を採用している。\n以上から，本件各発明においては，「再構成可能なネットワーク」及び「部分走\n査レジスタ」を組み合わせることを技術的思想とし，この点を本質的部分と認める\nのが相当である。\n(ウ)  フレキシブルプローブの実施態様ⅠないしⅢについて\n●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●\n●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●\n●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●\n●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●\n●●●●\nしたがって，フレキシブルプローブの実施態様ⅠないしⅢと本件各発明とは，本\n件各発明の本質的部分において相違するから，均等の第１要件を充足しない。\nイ  第２要件（置換可能性）\n本件各発明の目的ないし作用効果は，前記ア(ア)の課題①ないし⑥の全てを解決\nすることであって，例えば，再コンパイルの必要性を減少させるとともに（課題②\nに対応する作用効果），ＦＰＧＡのＩ／Ｏの占有率を減少させ（課題③に対応する\n作用効果），しかも経路選定すべき付加的信号の容量を抑制し輻輳を防止すること\nである（課題④に対応する作用効果）。そして，これらの目的ないし作用効果は，\n「再構成可能なネットワーク」及び「部分走査レジスタ」の不可分的な組合せによっ\nて初めて達成される。\nまず，ＦＰＧＡのＩ／Ｏの占有率に関する作用効果（課題③に対応する作用効果）\nについて検討すると，本件各発明の「部分走査レジスタ」である並列入力－直列出\n力タイプのレジスタを，並列入力－並列出力タイプのレジスタに置き換えると，信\n号出力線の数が増加するから，本件各発明と同一の作用効果を奏し得ない。\n次に，再コンパイルの必要性に関する作用効果（課題②に対応する作用効果）に\nついて検討すると，隠されたノードを観察するために利用可能なＦＰＧＡのＩ／Ｏ\n数には限界があるところ，「再構成可能なネットワーク」及び「部分走査レジスタ」\n（並列入力－直列出力）を組み合わせた場合と，「再構成可能なネットワーク」及\nび並列入力－並列出力のレジスタを組み合わせた場合とでは，前者の方が信号出力\n線よりも信号入力線を多く確保することによって，観察対象として選択可能な論理\n素子の範囲を拡張することができる。したがって，かかる観点からも，本件各発明\nの「部分走査レジスタ」である並列入力－直列出力タイプのレジスタを，並列入力\n－並列出力タイプのレジスタに置き換えた場合には，本件各発明の目的ないし作用\n効果を達成することができない。\nさらに，経路選定すべき付加的信号の容量を抑制し輻輳を防止することに関する\n作用効果（課題④に対応する作用効果）について検討すると，仮に「再構成可能な\nネットワーク」及び並列入力－並列出力のレジスタを組み合わせた場合において，\n増加する信号出力線の数を（並列入力－直列出力のレジスタの場合と同数まで）減\nらすためには，「再構成可能なネットワーク」すなわちマルチプレクサの入力数を\n増やすこととなるが，その場合には，エミュレーション効率を悪化させ，経路選定\nのための付加的信号が増加して輻輳を招くことから，本件各発明と同一の作用効果\nを奏しない。\n●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●\n●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●\n●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●\n●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●\n●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●\n●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●\nウ  第３要件（置換容易性）\n前記イのとおり，本件各発明の「部分走査レジスタ」（信号出力線の数が信号入\n力線の数よりも少ないタイプのレジスタ）の構成を，並列入力－並列出力タイプの\nレジスタへ置換する可能性は認められないから，置換容易性も認められない。\nまた，フレキシブルプローブの実施態様ⅠないしⅢが本件各発明の構成要件と異\nなるのは「部分走査レジスタ」の部分のみではない。また，「部分走査レジスタ」\nをＢタイプのレジスタに置換するのでさえ，「再構成可能なネットワーク」である\nマルチプレクサの信号入力線を増やしたり，当該マルチプレクサに走査クロックを\n印加する必要が生じたりするのであって，Ｂタイプのレジスタがフレキシブルプ\nローブの実施態様ⅠないしⅢの製造時に入手可能か否か，周知であるか否かを論じ\nるまでもなく，本件各発明の「部分走査レジスタ」を，並列入力－並列出力タイプ\nのレジスタに置き換える構成は，均等の第３要件を充足しない。\nエ  第４要件（公知技術との同一性又は容易推考性）\n控訴人が，本件各発明の「部分走査レジスタ」をＢタイプのレジスタに置換した\n構成であると主張する別紙１の図９に例示した構成は，後記(4)〔被控訴人の主張〕\nのとおり，本件特許の優先権主張日当時の公知技術に基づいて容易に推考できたも\nのである。したがって，かかる構成がフレキシブルプローブの実施態様ⅠないしⅢ\nに相当する構成であると控訴人が主張するのであれば，かかる控訴人の主張は失当\nであり，均等の第４要件も充足しない。\nオ  第５要件（特段の事情）\n控訴人の主張によれば，ＡタイプのレジスタもＢタイプのレジスタも本件特許の\n優先権主張日当時公知であったというのであるから，本件各発明の構成としてＡタ\nイプ及びＢタイプのいずれをも採用可能でかつ採用することが容易であったにもか\nかわらず，あえて本件各発明の構成要件として「部分走査レジスタ」と請求項に記\n載し，Ｂタイプのレジスタをも含む，単なる「レジスタ」とは記載しなかった以上，\nＢタイプのレジスタは意識的に除外したというほかない。\nまた，控訴人は，早期審査に関する事情説明書（乙６）においても，複数のフリッ\nプフロップが鎖状に連結された構成を開示した６件の文献（乙１，７～１１）のみ\nを「走査レジスタ」を開示した文献として挙げ，かかる構成が本件各発明の「走査\nレジスタ」に相当するとしていたのであるから，Ｂタイプのレジスタを意識的に除\n外したというほかない。\nしたがって，均等の第５要件を充足しない。\nカ  小括\n以上によれば，均等の第１要件から第５要件の全てにおいて，フレキシブルプロー\nブの実施態様ⅠないしⅢについて均等侵害が成立する余地はない。\n(4)  争点(4)オ（無効理由５〔乙６４公報を引用例とする新規性又は進歩性欠如〕）\nについて\n〔被控訴人の主張〕\n仮に控訴人が主張するように，別紙１の図９に例示された構成が本件発明１の技\n術的範囲に含まれるのであれば，以下のとおり，本件発明１は，乙６４発明と同一\nであるか，乙６４発明に基づいて当業者が容易に発明をすることができたものであ\nるから，特許法２９条１項又は２項の規定により特許を受けることができないもの\nである。\nア  別紙１の図９に例示された構成と（控訴人が主張する）本件発明１との関係\n別紙１の図９には，論理素子４０１～４０８と，これらの後段に配置されたマル\nチプレクサ３００と，その後段に配置されたＤフリップフロップ（レジスタ１００）\nを含み，マルチプレクサ３００とレジスタ１００は，論理素子４０１～４０８に供\n給されるクロック（エミュレーション・クロック１０）の周波数よりも早い周波数\nのクロック（走査クロック２０）で駆動される構成が開示されている。\n控訴人は，「論理素子４０１～４０８」が構成要件１Ａないし１Ｃの「複数の論\n理素子」に該当し，「レジスタ１００」が構成要件１Ｄの「部分走査レジスタ」に\n該当し，「マルチプレクサ３００」が構成要件１Ｅの「再構成可能なネットワーク」\nに該当し，結果として，別紙１の図９に例示された構成は，本件発明１の技術的範\n囲に含まれる旨主張している。\nイ  乙６４発明\n乙６４には，エミュレーションシステムにおいて，ＦＰＧＡチップ１２上に論理\n分割ブロック２２が構成されること，及び，２個のＦＰＧＡチップ１２を接続する\n相互接続１４によって，２個の論理分割ブロック２２を繋ぐ論理信号接続（グロー\nバルリンク）２４が構成されることが開示されている（図１ｂ，５欄１２行～１９\n行）。図２に示すとおり，従来は，ＦＰＧＡチップ１２上の論理分割ブロック２２\nに複数のグローバルリンク２４ａ～２４ｆがあるとき，各グローバルリンクに対し\nて物理的なワイヤ１５ａ～１５ｆがそれぞれ割り当てられていた（図２，５欄２０\n行～２９行）。これに対し，乙６４は，１本のワイヤ１５ｘを複数のグローバルリ\nンク２４ａ～２４ｄで共用するものであり，図７Ａ～図７Ｃに示すように，マルチ\nプレクサ４０５を用いて，複数のグローバルリンク２４ａ～２４ｄの中から選択さ\nれた１つをワイヤ１５ｘに割り当てて，時分割で順次信号を伝播させことが記載さ\nれている（７欄６６行～８欄４２行）。\n特に，図７Ｃには，複数のグローバルリンク２４ａ～２４ｄが入力されたマルチ\nプレクサ４０５の後段にフリップフロップｌ２０２が配置され，フリップフロップ\nｌ２０２の出力がワイヤ１５ｘに接続される構成が開示されている（８欄２６行～\n４２行）。ここで，マルチプレクサ４０５には選択信号Ｓｅｌが印加され，フリッ\nプフロップｌ２０２にはパイプラインクロック５６が印加されている。\nウ  本件発明１（別紙１の図９に例示された構成）と乙６４の対比\n乙６４において，論理分割ブロック２２は，ＦＰＧＡチップ１２内の論理素子に\nよってエミュレートされた回路素子を含み（図１Ｂ），各グローバルリンク２４ａ\n～２４ｄは，論理分割ブロック２２の複数の出力，すなわち，ＦＰＧＡチップ１２\n内の論理素子によってエミュレートされた回路素子の複数の出力である。したがっ\nて，図７Ｃには図示されていないが，グローバルリンク２４ａ～２４ｄの他端（マ\nルチプレクサ４０５に接続されていない方の端部）は，それぞれ論理素子に接続さ\nれている。よって，図７Ｃには，別紙１の図９に例示された構成の「論理素子４０\n１～４０８」に相当する構成が開示されている。\nまた，図７Ｃのフリップフロップｌ２０２は，マルチプレクサ４０５で選択され\nたグローバルリンク２４の出力値が入力され，ワイヤ１５ｘに出力される。フリッ\nプフロップｌ２０２は，選択信号Ｓｅｌとパイプラインクロック５６を調整するこ\nとによって，論理素子によってエミュレートされた回路素子の複数の出力のうち選\n択されたものを，エミュレーション・クロックの１クロック・サイクルにおいて捉\nえて出力するように構成可能である。したがって，図７Ｃの「フリップフロップｌ\n２０２」と「マルチプレクサ４０５」はそれぞれ，別紙１の図９に例示された構成\nの「レジスタ１００」と「マルチプレクサ３００」に相当する。\nさらに，図７Ｃの「ＦＰＧＡチップ１２」は，エミュレーションシステム５に使\n用される集積回路である。\nしたがって，乙６４の図７Ｃに開示された構成は，別紙１の図９に例示された構\n成と同等であるから，仮に控訴人の主張を前提とすれば，本件発明１の要旨は乙６\n４に全て開示されていることになる。したがって，本件発明１は新規性を欠くか，\n少なくとも進歩性を欠くものである。\n〔控訴人の主張〕\nア  構成要件１Ｄ及び１Ｅの「部分集合」について\n乙６４は，全ての「グローバルリンク」（論理信号）を，あるＦＰＧＡから別の\nＦＰＧＡに伝送する技術を開示するものであって，一方のＦＰＧＡ（ソースＦＰＧ\nＡ）から他方のＦＰＧＡ（デスティネーションＦＰＧＡ）には，これらのＦＰＧＡ\n間において共有される全ての信号が伝送されなければならない。\nさらに，乙６４は，コンパイルの際に，各グローバルリンクがパイプライン・ク\nロックの特定のサイクルにおいて相互配線１４を介して伝送されるように予め決め\nられているため，グローバルリンクの伝送に何らかの変更が必要とされる場合には，\n再コンパイルが必要とされる。したがって，パイプライン・クロックの特定のサイ\nクルにおいて，一方のＦＰＧＡから他方のＦＰＧＡに対して，複数のグローバルリ\nンクのうちの一部のみを再コンパイルせずに伝送することはできない。\nこのように，乙６４は，図７Ｃに関して，本件発明１の構成要件１Ｅに規定され\nている論理素子の部分集合との（再コンパイル不要な）選択的接続を開示するもの\nではないし，構成要件１Ｄに規定されている選択された論理素子の部分集合の信号\n状態値を捉えて出力する構成も開示していない。むしろ，乙６４は，本件各発明と\nは反対に，各グローバルリンク（図７Ｃの２４ａ～２４ｄ）が，エミュレーション・\nクロックの特定のサイクルの間に（図７Ｃのマルチプレクサ４０５の入力を切り替\nえて）全て伝送することを教示するものである。\nイ  構成要件１Ｄの「走査バスに出力する部分走査レジスタ」について\n(ア)  乙６４は，システムにおける複数のＦＰＧＡ間の信号を時分割多重するこ\nとに関するものであり，「デバッグ」ないし「内部状態」の検査に関するものでは\nない。したがって，これらの信号は，「走査」を必要とする「内部」信号ではなく，\n複数のＦＰＧＡを用いて論理設計を構成する間に発生する区画ステップ（図８のス\nテップ１２０）の結果として，ＦＰＧＡのピンに出力されるように既に意図された\n外部信号である。このように，乙６４は，「走査」を開示していないから，本件各\n発明の構成要件１Ｄに規定された「部分走査レジスタ」を開示するものではない。\nまた，乙６４は，図３，図７Ａ，図７Ｂに示されているように，グローバルリン\nク２４ａ，２４ｂ，２４ｃ，２４ｄは，各々に対応する目的地に向かって，相互に\n異なるパスを通ってルーティングされるようになっていることから（２欄３９行～\n４２行，１３欄３行～３８行），上記グローバルリンクに対して設けられた共用さ\nれる専用の「走査バス」を開示していない。\nしたがって，乙６４は，本件各発明の構成要件１Ｄに規定された「走査バスに出\n力する部分走査レジスタ」を開示するものではない。\n(イ)  乙６４は，図７Ｃに関して，単一のフリップフロップにしか言及していな\nい。このような単一のフリップフロップは，時間軸上の特定の時点において複数の\n「信号状態値」を捉えることができない。これに対して，本件各発明は，構成要件\n１Ｄに規定されているように，「複数の信号状態値」を捉えるために，複数のメモ\nリ要素を含む「部分走査レジスタ」を具備する。\nさらに，「走査バス」における「バス」という用語は，複数の信号を搬送するた\nめの複数の伝送路を意味するが，乙６４の図７Ｃのフリップフロップ（ｌ２０２）\nの出力線は，単一の線のみからなり，構成要件１Ｄの「走査バス」を開示するもの\nではない。\nウ  小括\n以上によれば，乙６４を根拠に本件発明１が新規性又は進歩性を欠くということ\nはできない。\n第４  当裁判所の判断\n当裁判所も，被告各製品については，本件発明１，３ないし７の技術的範囲に属\nしないものであり，また，本件発明５及び６の間接侵害も成立しないと判断する。\nその理由は，以下のとおりである。\n１  本件各発明について\n(1)  本件明細書等の記載\n本件明細書等には，発明の詳細な説明及び図面として，おおむね，以下の記載が\nある（下記記載中に引用する図１，２，８ａ，８ｂ，１１については，別紙２を参\n照。）。\nア  発明の背景\n(ア)  発明の分野\n【０００２】本発明は，全体的にはエミュレーションシステムの分野に関し，特に，\nエミュレーションシステムにおいて使用される統合デバッグ機能を備えた再構成可\n能な集積回路に関する。\n(イ)  背景情報\n【０００３】回路設計をエミュレートするエミュレーションシステムは，当分野\nでは周知である。通常，従来のエミュレーションシステムは，汎用の統合デバッ\nグ機能のないフィールド・プログラマブル・ゲートアレイ（ＦＰＧＡ）を用いて\n形成されている。エミュレートされる回路設計は，回路設計の「公式的」記述を\nコンパイルするとともに，回路設計をＦＰＧＡの論理素子（ＬＥ）（組合せ論理\nブロック（ＣＬＢ）としても知られる）上にマッピングすることによって，エミュ\nレーションシステム上に「実現」される。これら汎用フィールド・プログラマブ\nルゲートアレイは，そのエミュレーションシステムへの適用に関する限り，多く\nの不利な点を抱えている。第一に，ＦＰＧＡの内部にマップ化されている個々の\nノードにおける信号の状態が，直接的に観察できないということであり，これは，\n「隠された」ノードと呼ばれる。この「隠された」ノードにおける信号の状態を\n観察可能にするためには，信号をＦＰＧＡの外に出し，ロジック・アナライザに\n入れるＦＰＧＡの再構成が必要である。それには，膨大な時間を費やす再コンパ\nイルを必要とする。加えて，検査システム，例えばロジック・アナライザによっ\nて観察可能（追跡可能）なポート／ノードに信号を持込むために，通常，多数の\nＦＰＧＡのＩ／Ｏ が占有される。更に，経路選定すべき付加的信号により，信号\n経路選定の輻輳が増加される。最後に，時間に鋭敏なアプリケーションに関して\nは，読取りをトリガするイベントが検出される前に，信号をＦＰＧＡの外へ取出\nさなければならないので，あるイベントの発生に応答して信号が読取られるもの\nとすると，「隠された」ノード上の信号が，正しい時刻に読取られたか否かを知\nることは困難である。エミュレータが複雑化するにつれ，ＦＰＧＡのネットワー\nク及び相互接続した追跡も増加し，上記の問題は一層悪化する。監視追跡に要す\nる時間が複雑化を伴いどこまでも増えるにつれ，エミュレーションが実行できる\n頻度は，容認できないレベルにまで減少する。\n【０００４】従って，必要とされるものは，一旦隠されたノードに容易にアクセ\nスできるとともに，再構成の必要を減少させながら追跡することによって，許容\nできるエミュレーション頻度でエミュレーションすることを容易にする統合デ\nバッグ機能を備えた再構成集積回路である。…\nイ  発明の要旨\n【０００５】本発明の教示に基づき，エミュレーションシステムに使用される統\n合デバッグ機能を備えた再構成集積回路（ＩＣ）が説明される。特に，本発明の\n第１実施形態によれば，集積回路は，複数の出力及び部分走査レジスタを各々有\nする複数の論理素子（ＬＥ）を含むものとして説明される。複数のＬＥは，ＬＥ\nに対応して与えられる複数の入力信号に応答し複数の出力信号を生成するように\n作動する。部分走査レジスタは，ＬＥの選択された１つに再構成可能に結合され，\n使用可能とされた場合には，オペレーティング・クロックの特定クロック・サイ\nクルにおいて，選択されたＬＥによりエミュレートされた信号状態値回路素子の\n記録を捉えて走査バスに出力するよう作動し，そこにおいて，部分走査レジスタ\nは，オペレーティング・クロックに適切に比例した走査クロックの印加により使\n用可能とされる。…\nウ  発明の詳細な説明\n【０００７】図１を参照すると，本発明の教示を組み込んだ再構成集積回路１０\n０の例に関するブロック図が示されている。以下の説明から明らかになるように，\n再構成回路１００は，本発明の教示を除き，本技術分野において周知である多数\nの再構成回路のいずれをも意味するように意図されている。例えば一実施形態で\nは，再構成回路１００は，本発明の教示を組み込んで強化された再構成回路であ\nる。本発明の一実施形態によれば，再構成回路１００は，単一の集積回路に配置\nされ，機能強化されたＬＥ１０２のアレイを含む。機能強化されたＬＥ１０２は，\n種々の回路設計素子を「実現」するために使用され，革新的なデバッグ特性を含\nむ。\n【０００８】加えて，更に有利なことに再構成回路１００は，機能強化されたＬ\nＥ１０２に結合された，オンチップのコンテキスト・バス１０６，走査レジスタ\n１０８，及びトリガ回路素子１１０を含んでいる。以下に更に詳細に開示するよ\nうに，コンテキスト・バス１０６は，ＬＥに値を入力し，更に，そこから値を出\n力するために用いられ，これに対し，走査レジスタ１０８及びトリガ回路素子１\n１０は，各々，追跡データ履歴，及びトリガ入力を，再構成回路１００に対し出\n力するのに用いられる。本発明の教示に従い，以下により完全に説明するように，\n再構成回路１００は，動的再構成ネットワーク１３７及び部分走査レジスタ１３\n５を含むことが示されているが，これらは再構成回路１００の選択論理素子１０\n２の部分的追跡履歴を選択的に出力するのに用いられる。すなわち，回路中に静\n的に規定された「見える」ノードからの走査出力のみのために備えられた（又は，\n「隠された」ノードを見るために再コンパイルとＩ／Ｏリソースの割振りを必要\nとされる）従来技術のエミュレータ回路とは異なり，再構成回路１００は，動的\n再構成ネットワーク１３７及び機能強化された論理素子アレイ１０２内のどの追\n跡／ノードにも，再コンパイルを必要とせずに動的可視性を与える部分走査レジ\nスタ１３５を含んでいる。\n【０００９】本発明の一実施形態では，再構成回路１００は，メモリーを備えた\n回路設計をエミュレートするために再構成回路１００の使用を容易とするメモ\nリー１１２を含んでいる。…一実施形態では，再構成回路１００のピン１１３は，\n入力又は出力に用いることができる。…また，図示された一実施形態例によれば，\n再構成回路１００は，図示されるように，ＬＥ，メモリー１１２，及びＩ／Ｏピ\nン１１３を相互接続するためのＬＥ相互クロスバー（つまり，ｘ－バー）ネット\nワーク１０４を含んでいる。一実施形態では，再構成回路１００は，再構成回路\n１００を，他の再構成集積回路や「ホストシステム」（図示せず）のようなもの\nと相互接続するための，第１ステージ・クロスバー・ネットワーク１１４ａ―１\n１４ｂに「２つのコピー」を含んでいる。\n【００１１】更に動的再構成ネットワーク１３７のコンテキストで，動的再構成\n可能と言う用語は，回路素子のエミュレーションは，動的再構成ネットワーク１\n３７を動的再構成するために休止したり（しなかったり）する必要があるかもし\nれないが，エミュレーションは，その最初から再スタートさせる必要が無いとい\nう意味を意図している。更に具体的には，動的再構成ネットワーク１３７の再構\n成には，再コンパイルが不必要であるが，相互接続ネットワーク１０４は，再コ\nンパイルを必要とし，これは先に述べたように時間のかかるプロセスである。従っ\nて，動的再構成ネットワーク１３７が，ＬＥ１０２領域における，他の方法では\n隠されているノードが，エミュレータ及び／又はエミュレートされる回路の高速\nデバッグを容易にするために（部分走査レジスタ１３５を介して）アクセスする\nことにより，効率的な手段を提供することは，当業者であれば予測できるであろ\nう。\n【００１３】示されるように，図１１は，再構成回路１１００のブロック図を示\nす。当業者は，再構成回路１１００が，再構成回路１００のブロック図に非常に\n似ていることが認識できよう。すなわち，再構成回路１１００は，ＬＥ１０２の\nアレイ，メモリー１１２，動的再構成ネットワーク１３７，及びトリガ回路素子\n１１０を備え，図示されたように，各々が通信可能なように結合されている。し\nかし，再構成回路１１００が，全ての追跡／ノード活動，又は単に選択したその\nサブセットのみを徹底的に監視するために，マルチプレクサ１１０６と関連した\n１つの走査レジスタ１１０８しか必要としない点で再構成回路１００と識別可能\nである。すなわち，分離した部分走査レジスタ１３５と（徹底的）走査レジスタ\n１０８とを採用する代わりに，再構成回路１１００は，徹底的走査モードで全追\n跡／ノードの出力を，又は部分走査モードで，追跡／ノードの選択されたサブセッ\nトの出力を，走査レジスタ１１０８に選択的に供給するマルチプレクサ１１０６\nを使用する。換言すれば，走査レジスタ１１０８は，図１の走査レジスタ１０８\nとして全体を使用することも，図１の部分走査レジスタ１３５として部分的に使\n用することもできる。\n【００１５】ここで，図２に目を向けると，図１の再構成回路に用いるのに適し\nた機能強化されたＬＥのアレイの例のブロック図が，本発明の実施形態により示\nされている。図に示すように，ＬＥアレイ１０２は，本発明の機能強化された複\n数のＬＥ２００を含む。例えば，一実施形態では，ＬＥアレイ１０２は，１２８\nのＬＥ２００を含む。当業者であれば，以下により詳細に説明する関連読み出し\n／書き込み及び制御回路の増減に応じて，より大きな又はより小さいＬＥ２００\nのアレイを使用できることが理解できよう。…図２に示すように各ＬＥ２００は，\n多入力単出力真理表２０２，一対のマスター－スレーブ・ラッチ２０４－２０６，\n出力マルチプレクサ２０８，入力マルチプレクサ２１０（判決注：「２１２」は\n誤記），及び制御ロジック２１２（判決注：「２１４」は誤記）を含み，図のよ\nうに各々が互いに結合されている。\n【００１８】また，各ＬＥ２００も，多数のエミュレーション・クロック又はデ\nバッグ・クロック（ＬＤ）を，選択的にマスター－スレーブ・ラッチ２０４－２\n０６に提供するクロック選択マルチプレクサ２１６ａ－２１６ｃを含んでいる。\n好もしくは，このエミュレーション・クロックは，他の論理素子２００を使用し\nた構造化エミュレーション・クロックを含むものである。図示した実施形態では，\nこの「構造化」エミュレーション・クロックは，真理表２０２のＩ０を通じて利\n用可能になる。エミュレーション・クロックの１つは，正常作動時にマスター－\nスレーブ・ラッチ２０４－２０６に提供され，一方，デバッグ・クロック（ＬＤ）\nは，デバッグ時に供給される。クロック選択は，ＣＴＸ信号によって制御される。\n最後に，ＬＥ２００は，選択出力をＬＥ相互Ｘ－バー・ネットワーク１０４及び\nオンチップ・デバッグ機能体に出力するバッファー２１４ａ，及び選択出力を再\n構成回路１００の外で直接観察するために，コンテキスト・バス１０６に出力す\nるバッファー２１４ｂを含んでいる。\n【００２１】簡単に図４ａ－４ｂを参照するが，ここではＬＥを相互接続するた\nめのＬＥ相互クロスバー・ネットワーク１０４，メモリー及び入出力（Ｉ／Ｏ）\nピンの一実施形態を示す。特に，図４ａ及び４ｂは，１２８のＬＥ２００を相互\n接続するＬＥ相互クロスバー・ネットワーク１０４の一実施形態を図示する。当\n業者は本発明の精神と範囲を逸脱することなく，より大きいあるいはより小さい\nＬＥ相互クロスバー・ネットワークを採用し得ることが理解できよう。図示され\nた実施形態図に関して，４ａに示すように，ＬＥ相互クロスバー・ネットワーク\n１０４は，４つのサブネットワーク２２０を含む。最初の２つのサブネットワー\nクであるサブネット０とサブネット１とは，７２の信号経路として使用され，一\n方，残る２つのサブネットワークであるサブネット２とサブネット３とは，６４\nの信号経路として使用される。…\n【００２２】各サブネットワーク２２０は，第一ステージにおける，９又は８の\n８―８クロスバー２２０，第二ステージにおける，９－２０又は８－２０のクロ\nスバー２２４又は２２６，第三ステージにおける，２０の８－８クロスバー２２\n８のいずれかを含む３ステージのクラウス（Ｃｌａｕｓ）ネットワークである。\n各ステージは，周知の「バタフライ」方式で相互に結合される。\n【００２３】更に詳細にＬＥ相互クロスバー・ネットワーク１０４を説明するた\nめに，前に挙げた参照文献として援用した米国特許第５，５７４，３８８号を参\n照する。\nまた，簡単に図５を参照するが，ここでは再構成集積回路を，他の再構成集積\n回路及び「ホスト」コンピュータ（図示せず）に相互接続するための再構成回路\n相互クロスバー・ネットワーク１１４ａ－１１４ｂの一実施形態を示す。図に示\nすように，図の実施形態では，再構成回路相互クロスバー・ネットワーク・ステー\nジ０ １１４ａ－１１４ｂは，再構成集積回路の６４のＩ／Ｏ信号を，再構成集積\n回路を他の再構成集積回路及び「ホスト」コンピュータに相互接続するクラウス・\nネットワークの次のステージに結合するための４組の１６－１６クロスバー２３\n０を含む。…\n【００２６】図８ａは，全ＬＥ２００の追跡データの全走査を出力するための走\n査レジスタ１０８の一実施形態を示す。図８で示される一実施形態例によれば，\n走査レジスタ１０８には，８つのフリップフロップの１６セットと，８つのマル\nチプレクサ２４４（すなわち，１２８のＬＥ２００が設けられている）の１５セッ\nトがあり，マルチプレクサ２４４は，フリップフロップ２４２のセットの間に配\n置されている。フリップフロップ２４２第０セットは，８つのＬＥ２００の第１\n群に結合している。マルチプレクサ２４４第０セットは，フリップフロップ２４\n２第０セットと論理素子２００との第２群に結合している。フリップフロップ２\n４２第１セットは，マルチプレクサ第０セットと結合しており，以下同様である。\nフリップフロップ２４２第０セットは，ＬＥ２００の出力を順次受けては伝播す\nる。マルチプレクサ２４４（判決注：「２４２」は誤記）第０セットも，フリッ\nプフロップ２４２第０セットの出力又は８つのＬＥ２００の第２群の出力を連続\n的に提供する。フリップフロップ２４２第１セットは，マルチプレクサ２４４第\n０セットからの入力を，順次シーケンシャル的に伝搬する。フリップフロップ２\n４２のセットは，走査クロックに制御されるが，マルチプレクサ２４４のセット\nは，走査制御信号によって制御される。従って，（作動エミュレーション・クロッ\nクに比例して）適切に分割された周波数を持つ走査クロックを適用し，マルチプ\nレクサ２４４のセットに適切な走査制御信号を選択的に適用することにより，ク\nロック・サイクルにおける１２８全てのＬＥ２００のスナップショットを再構成\n可能回路１００から順次，走査して得ることができる。\n【００２７】図８ｂに目を向け，本発明の教示に基づき，部分走査レジスタ１３\n５及び動的再構成ネットワーク１３７の統合デバッグ機能体を更に詳細に説明す\nる。図８ｂに示すように，動的再構成ネットワーク１３７は，複数のＬＥ２００\nと結合した複数の４：１マルチプレクサ５０２を含む。図示した一実施形態例に\nよれば，動的再構成ネットワーク１３７は，１２８のＬＥ２００出力に結合した\n３２の４：１マルチプレクサを含む。従って，動的再構成ネットワーク１３７に\nよって，ユーザーは，最大３２までのＬＥ２００状態値の選択サブセットを部分\n走査レジスタ１３５に再構成可能に経路指定することができる。\n【００２８】本発明の一実施形態によれば，部分走査レジスタ１３５は，８つの\nフリップフロップ５６２の４セットと，フリップフロップ５６２のセットの間に\n８つのマルチプレクサ５６４の３セットを含む。図１の一実施形態例に示すよう\nに，部分走査レジスタ１３５は，動的再構成ネットワーク１３７からの入力を受\nけて走査バス１３９に出す。特に，全走査レジスタ１０８とは異なり，部分走査\nレジスタ１３５は，選択したＬＥ２００のサブセット（例えば４分の１）の状態\n値を走査バス１３９に出力する。全走査レジスタ１０８と部分走査レジスタ１３\n５とが出力として走査バス１３９を分かち合う範囲で，走査コントロール１４２\n及び走査クロック１４０が，どちらの走査レジスタを活動状態にするかを選択的\nに制御する。特に，図示した一実施形態例によれば，ＬＥアレイ１０２内のユー\nザー選択のＬＥ２００を部分走査できるようにするためには，ユーザーは，走査\nコントロール１４２及び走査クロック１４０で部分走査レジスタ１３５を活動状\n態にするが，ＬＥアレイ１０２内のＬＥ２００全てを全走査できるようにするに\nは，走査コントロール１４２及び走査クロック１４０信号で全走査レジスタ１０\n８を活動状態にする。しかし，当業者であれば，どちらの活動された走査レジス\nタを採用するかを決定する代替的な方法を認識できるであろう。例えば，本発明\nの代替的一実施形態において，走査レジスタ１０８と部分走査レジスタ１３５の\nどちらかは，単に走査クロック１４０の各々を希望のレジスタ，すなわち全走査\nレジスタ１０８又は部分走査レジスタ１３５に適用することで選択される。かく\nして本発明はその精神と範囲とを逸脱することなく，このような変形例を推測で\nきる。\n【００２９】このように，当業者は動的再構成ネットワーク１３７及び部分走査\nレジスタ１３５が再構成回路１００に新しいレベルの自由度を与え，ユーザーが\n負荷の多い再構成及び従来技術に固有の回路設計マッピングソフトの再コンパイ\nルを必要とせずに，所与のクロック・サイクルに選択したＬＥのサブセットを動\n的に再構成して観察することを可能にするのである。更に全てのＬＥの状態値に\nおける完全なセットを観察する必要があるときには，再構成回路１００は革新的\nな全走査レジスタを与えられるのである。本発明によれば，統合デバッグ機能を\n備えた再構成集積回路が得られるので，エミュレーションシステムのユーザーは，\nあるクロック・サイクルには，ＬＥアレイ１０２のＬＥのサブセットを観察する\nことを選択することもでき，他のクロック・サイクルには，ＬＥアレイ１０２を\n構成する全てのＬＥの状態値をも全走査して観察することも選択できる。\n【００３０】図９を参照すれば，トリガ入力を出力するためのトリガ回路素子１\n１０の一実施形態例のブロック図が示されている。示されるように図の実施形態\nでは，トリガ回路素子１１０は，各コンパレーター・レジスタ回路２６０から各々\n１つ，４つのトリガ出力を生成する４つのコンパレーター・レジスタ回路２６０\nを含んでいる。各コンパレーター・レジスタ回路２６０は，信号パターンを記憶\nするパターン・レジスタ２６２と，ＬＥからの出力とパターン・レジスタ２６２\nの記憶されている内容とを比較する相等性コンパレーター２６４とを含んでいる。\n一実施形態では，信号パターンは，ＬＥあたり２ビットから成り，ハイ，ロー，\n及びコード化不要の値を採ることができる。記憶パターンが検出されると，常に，\n再構成回路１００外のトリガへの入力が生成される。換言すれば，図示した一実\n施形態では，４つのＬＥ内部状態事象が同時にモニターできる。\n【００３１】図１０は，本発明の一実施形態による，本発明の教示を組み込んだ\nエミュレーションシステム１０００の例のブロック図である。図１１のエミュ\nレーションシステムの図示した例によれば，エミュレータ１０６０と結合して通\n信できるホストシステム１０２０を含むエミュレーションシステム１０００が示\nされる。図示されるように，エミュレータ１０６０は，エミュレーションアレイ・\n相互接続ネットワーク１０８０，構成回路１２２０，及びホストインターフェイ\nス１２４０を含んでおり，図のように通信できるように結合している。本発明の\n教示に従えば，エミュレーションアレイ・相互接続ネットワーク１０８０は，本\n発明の動的再構成集積回路１２００ａ（判決注：「１２２０ａ」は誤記）―１２\n００ｎを含んでおり，回路設計を組み立てる前に特定の回路設計をエミュレート\nして「実現する」ようプログラムできるように構成された複数のＬＥを含んでい\nる。更に詳細に説明すれば，革新的な動的再構成集積回路１２００ａ（判決注：\n「１２２０ａ」は誤記）―１２００ｎによって，選択ＬＥの状態値のサブセット，\n前述の時間のかかる再コンパイル法，もしくは従来技術に典型的な従来技術の走\n査レジスタからの全走査出力を選択的に出力する経路選定ネットワークを，エ\nミュレーションシステムのユーザーが，部分走査レジスタ経由で制御することが\n可能になる。従って，エミュレーションシステム１０００（判決注：「１００」\nは誤記）のように，本発明の革新的な特徴を組み込んだエミュレーションシステ\nムを使えば，設計マッピングプログラムのように，複雑な回路設計ではしばしば\n何日もかかる方法で回路を変えたり，再コンパイルする方法を使ったりせず，こ\nのエミュレーションシステムのユーザーは，エミュレータ内の可視点を動的に変\nえることが可能になる。\n(2)  乙１発明について\nア  乙１の１の記載\n乙１の１（米国特許５７７７４８９号）は，本件出願と同様に，控訴人により\n出願され，本件特許の優先権主張日（平成１１年９月２４日）前の平成１０年７\n月７日に公開された刊行物である。本件各発明は，乙１の１の継続出願である米\n国特許出願（０８／９８５３７２号）に対する一部継続出願である米国特許出願\n（０９／４０４９２５号。乙２４）を優先権主張の基礎とする国際特許出願（Ｐ\nＣＴ／ＵＳ００／０３１３８号。乙２５）が国内移行され，特許されたものであ\nる。そして，乙１の１には，おおむね，以下の内容の記載がある（下記記載中に引\n用する図１，２，８については，別紙３を参照。）。\n(ア)  本発明は，フィールド・プログラマブル・ゲート・アレイ（ＦＰＧＡ）及\nびエミュレーションシステムの分野に関する（１欄８，９行）\n(イ)  背景事情\n回路設計をエミュレートするエミュレーションシステムは，当分野では周知であ\nる。通常，従来のエミュレーションシステムは，汎用の統合デバッグ機能のないＦ\nＰＧＡを用いて形成されている。エミュレートされる回路設計は，回路設計の「公\n式的」記述をコンパイルするとともに，回路設計をＦＰＧＡの論理素子（ＬＥｓ）\n上にマッピングすることによって，エミュレーションシステム上に「実現」される。\nこれら汎用ＦＰＧＡは，そのエミュレーションシステムへの適用に関する限り，\n多くの不利な点を抱えている。第一に，ＦＰＧＡの内部にマップ化されている個々\nのノードにおける信号の状態が，直接的に観察できないということであり，これは，\n「隠された」ノードと呼ばれる。第二に，この「隠された」ノードにおける信号の\n状態を観察可能にするためには，再構成，そして，信号をＦＰＧＡの外に出し，ロ\nジック・アナライザに入れるために，膨大な時間を費やす再コンパイルを必要とす\nる。第三に，ロジック・アナライザにこれらの信号を持ち込むために，多数のＦＰ\nＧＡのＩ／Ｏが占有される。更に，経路選定すべき付加的信号により，信号経路選\n定の輻輳が増加される。最後に，時間に鋭敏なアプリケーションに関しては，読み\n取りをトリガするイベントが検出される前に，信号をＦＰＧＡの外へ取り出さなけ\nればならないので，あるイベントの発生に応答して信号が読み取られるものとする\nと，「隠された」ノード上の信号が，正しい時刻に読み取られたか否かを知ること\nは困難である。\nしたがって，必要とされるものは，エミュレーションシステムへの使用に，より\n適合する統合デバッグ機能を備えた改良ＦＰＧＡである。以下に更に詳細に説明す\nるように，本発明は，前記及び他の望ましい結果を達成する統合デバッグ機能を備\nえた改良ＦＰＧＡを提供し，このことは以下の説明により当業者に明白となろう（１\n欄１０～４４行）。\n(ウ)  図１を参照すると，本発明における改良されたＦＰＧＡ１００の主要な機\n能ブロックが図示されている。同図に示されているように，ＦＰＧＡ１００は，単\n一の集積回路（又はチップ）上に配置され，本発明の教示を具体化した拡張された\n論理素子のアレイ１０２を備える。従来のものと同様に，拡張された論理素子は回\n路設計の様々な素子を「実現」するために使用されるが，以下に詳細に示すように，\n従来のものとは異なり，拡張された論理素子は新しい革新的なデバック機能を備え\nる（２欄３８～４７行）。\n(エ)  論理素子２００はまた，選択された出力を論理回路相互クロスバー・ネッ\nトワーク１０４及びオンチップ・デバッグ機構に出力するバッファ２１４ａと，選\n択された出力をＦＰＧＡ１００の外で直接観察するためにコンテキスト・バス１０\n６に出力するバッファ２１４ｂとを含んでいる（４欄１１～１５行。判決注：図２\n参照。）。\n(オ)  それぞれのノードの状態は，従来のＦＰＧＡにおいて通常行われる回路設\n計マッピングの再構成及び時間のかかる再コンパイルすることなく，ＦＰＧＡの外\n部から直接観測できる（４欄２５～２９行）。\n(カ)  図８は，追跡データを出力するための走査レジスタ１０８の一実施形態を\n示す。同図に示される実施形態例によれば，走査レジスタ１０８には，８つのフリッ\nプフロップの１６セットと，８つのマルチプレクサ２４４の１５セットがあり，マ\nルチプレクサ２４４は，フリップフロップ２４２のセットの間に配置されている。\nフリップフロップ２４２第０セットは，８つの論理素子２００の第１群に結合して\nいる。マルチプレクサ２４４第０セットは，フリップフロップ２４２第０セットと\n論理素子２００との第２群に結合している。フリップフロップ２４２第１セットは，\nマルチプレクサ第０セットと結合しており，以下同様である。フリップフロップ２\n４２第０セットは，８つの論理素子２００の第１群の出力を順次受けては伝播する。\nマルチプレクサ２４２第０セットも，フリップフロップ２４２第０セットの出力又\nは８つの論理回路の第２群の出力を連続的に提供する。フリップフロップ２４２第\n１セットは，マルチプレクサ２４４第０セットからの入力を，順次シーケンシャル\n的に伝搬する。フリップフロップ２４２のセットは，走査クロックに制御されるが，\nマルチプレクサ２４４のセットは，走査制御信号によって制御される。したがって，\n（作動エミュレーション・クロックに比例して）適切に分割された周波数を持つ走\n査クロックを印加し，マルチプレクサ２４４のセットに適切な走査制御信号を選択\n的に印加することにより，ある特定のクロック・サイクルにおける１２８の論理素\n子のスナップショットを，ＦＰＧＡ１００から順次，走査して得ることができる（５\n欄６２行～６欄１５行）。\n(キ)  このように，特にエミュレーション・システムに好適な統合デバッグ機能\nを備えた改良ＦＰＧＡが記載されている（６欄３０～３２行）。\nイ  乙１発明の概要\n前記アによれば，乙１発明は，概要，以下のようなものであると認められる。\n乙１発明は，エミュレーション・システムにおいて使用される統合デバッグ機能\nを備えた改良ＦＰＧＡに関するものである。従来の集積回路では，①集積回路中の\n節々の点である各ノードの信号の状態が直接的に観察できず「隠された」ノード\nとなっており，その観察のためにはＦＰＧＡの再構成や再コンパイルが必要なこ\nと，②信号の取り出しのために多数の入出力ポート（Ｉ／Ｏ）が占有されること，\n③経路選定すべき付加的信号による信号経路選定の輻輳が増加すること，④イベン\nトの発生に応答した信号読み取りであることから，正しい時刻に読み取られたか否\nかを知ることが困難であった。そこで，改良されたＦＰＧＡを提供すべく，選択さ\nれた出力を走査レジスタ（乙１発明における「走査レジスタ」は，本件各発明に\nおける「全走査レジスタ」に相当する。以下同じ。）に出力するためにＬＥ内に\nバッファーを備え，当該バッファー（論理素子の数だけ存在する）を介して走査\nレジスタの入力線に接続することで，「隠された」ノードを全て，ＦＰＧＡの再\n構成や再コンパイルを必要とせずに，直接に観察可能にするものである。\n(3)  本件各発明の特徴\n本件各発明の特許請求の範囲及び前記(1)によれば，本件各発明は，概要，以下の\nようなものであると認められる。\nア  エミュレーションシステムにおいては，開発，設計した集積回路の動作を実\n証するため，当該回路と等価な回路を再構成可能な集積回路上に模擬的に再現（エ\nミュレート）し，外部から試験的な信号を入力して回路を動作させ，出力信号の\n状態を調べること等を通じて回路に不具合がないかの検証をすることが行われる\nが，本件各発明は，エミュレーションシステムにおいて使用される統合デバッグ\n機能を備えた再構成可能な集積回路に関する（【０００２】，【０００３】）。\n従来の集積回路では，①集積回路中の節々の点である各ノードの信号の状態が直\n接的に観察できず「隠された」ノードとなっており，その観察のためにはＦＰＧ\nＡの再構成や再コンパイルが必要なこと，②信号の取り出しのために多数の入出\n力ポート（Ｉ／Ｏ）が占有されること，③経路選定すべき付加的信号による信号経\n路選定の輻輳が増加すること，④イベントの発生に応答した信号読み取りであるこ\nとから，正しい時刻に読み取られたか否かを知ることが困難であること等の事情か\nら，本来の動作が適切に行われず，⑤エミュレータの複雑化に伴い監視追跡時間も\n増大し，それにつれてエミュレーションの実行頻度が減少するといった問題があ\nり，そのため，⑥一旦隠されたノードに容易にアクセスでき，再構成の必要を減少\nさせることによって，許容できるエミュレーション頻度でエミュレーションするこ\nとを容易にする統合デバッグ機能を備えた再構成可能な集積回路が必要とされて\nいた（【０００３】，【０００４】）。\nイ  そこで，本件各発明は，集積回路設計の回路素子をエミュレートするための\n複数の論理素子を備えるとともに，再構成可能なネットワーク及び部分走査レジ\nスタを設け，全走査レジスタが全ての論理素子の信号状態値を捉えることができ\nるのに対して（【００２６】），再構成可能なネットワークにより複数の論理素\n子の全部のうちの一部を部分集合として選択した上で，エミュレーション・クロッ\nクの１クロック・サイクルにおいて，当該部分集合を部分走査レジスタに再構成\n可能に接続するようにし，選択された論理素子の部分集合から出力されるエミュ\nレーション・クロックの１クロック・サイクルにおける信号状態値を捉えること\nができるように構成したものである（【０００５】，【００２９】）。\nウ  ところで，前記(2)アによれば，乙１の１の背景事情の記載（１欄１１～３\n５行）は，本件明細書等の【０００３】に記載された背景情報のうち，前記アの①\nないし④とほぼ同一の内容であることから，先行技術である乙１発明は，ＬＥア\nレイ及び走査レジスタの構成を採用することによって，本件明細書等の【０００\n３】に記載された背景情報のうち前記アの①ないし④の課題を解決するものであ\nり，また，前記アの⑤の課題は，「隠された」ノードが観察可能となっていない\nことに起因して発生している不具合であるから，同課題も解決するものというこ\nとができる。\nエ  これに対して，本件各発明は，前記イのうち，乙１発明に見られるＬＥア\nレイ及び走査レジスタの構成を除いた，その余の特有の構成である再構成可能な\nネットワーク及び部分走査レジスタの構成を採用することにより，「当業者は動\n的再構成ネットワーク１３７及び部分走査レジスタ１３５が再構成回路１００に\n新しいレベルの自由度を与え，ユーザーが負荷の多い再構成及び従来技術に固有\nの回路設計マッピングソフトの再コンパイルを必要とせずに，所与のクロック・\nサイクルに選択したＬＥのサブセットを動的に再構成して観察することを可能に\nする」（【００２９】），「動的再構成ネットワーク１３７が，ＬＥ１０２領域\nにおける，他の方法では隠されているノードが，エミュレータ及び／又はエミュ\nレートされる回路の高速デバッグを容易にするために（部分走査レジスタ１３５\nを介して）アクセスすることにより，効率的な手段を提供する」（【００１１】）\nと記載されているように，⑦再コンパイルを必要とせずに，所与のクロック・サ\nイクルにおいて，選択した論理素子の部分集合（サブセット）を動的に再構成し\nて観察することを可能にし，さらに⑧デバッグの高速化・効率化を図るものとい\nうことができる。\nオ  そうすると，本件各発明は，前記アの①ないし⑤を背景として，⑥の課題\nのみならず，上記エの⑦及び⑧をも解決する発明ということができる。したがっ\nて，本件各発明は，前記アの①ないし⑤を背景として，一旦隠されたノードに容易\nにアクセスでき，再構成の必要を減少させることによって，許容できるエミュレー\nション頻度でエミュレーションすることを容易にすること（前記アの⑥），再コン\nパイルを必要とせずに，所与のクロック・サイクルにおいて，選択した論理素子\nの部分集合（サブセット）を動的に再構成して観察することを可能にすること（前\n記エの⑦），及びデバッグの高速化・効率化を図ること（前記エの⑧）を課題な\nいし目的として，これらを解決する手段として，再構成可能なネットワーク及び\n部分走査レジスタの構成を採用したものと認められる。\n２  争点(1)ウ（「部分走査レジスタ」（構成要件１Ｄ，５Ｆ，７Ｅ及び７Ｆ）の\n充足性）について\n事案に鑑み，「部分走査レジスタ」（構成要件１Ｄ，５Ｆ，７Ｅ及び７Ｆ）の充\n足性（争点(1)ウ），「再構成可能なネットワーク」（構成要件１Ｅ，５Ｇ，５Ｈ\n及び７Ｇ）の充足性（争点(1)エ）について，まず，検討する。\n(1)  「部分走査レジスタ」の意義\nア  部分走査レジスタは，「選択された論理素子の部分集合によってエミュレー\nトされた回路素子の複数の信号状態値の記録をエミュレーション・クロックの１ク\nロック・サイクルにおいて捉え，そして走査バスに出力する」ものであり（構成要\n件１Ｄ），「選択された論理素子の部分集合のみに再構成可能に接続する」もので，\n再構成可能なネットワークに結合したものであるが（構成要件１Ｅ），本件明細書\n等にその定義は記載されていない。もっとも，本件明細書等の【００１３】，【０\n０２８】に，走査レジスタは，図１の走査レジスタとして全体を使用することも，\n図１の部分走査レジスタとして部分的に使用することもできることや，全走査レ\nジスタとは異なり，部分走査レジスタは，選択したＬＥのサブセット（例えば４\n分の１）の状態値を走査バスに出力すること，さらには，走査レジスタと部分走\n査レジスタのどちらかは，単に走査クロックの各々を希望のレジスタ，すなわち\n全走査レジスタ又は部分走査レジスタに適用することで選択されることが記載さ\nれていることに照らすと，部分走査レジスタは，全走査レジスタに対する概念と\nして規定されていることが分かる。\nイ  本件明細書等において，全走査レジスタ及び部分走査レジスタは，両者とも\nに，実施例で，【図８ａ】及び【図８ｂ】に示されるようなフリップフロップ（及\nびマルチプレクサ）が鎖状に連結されるという構成を採用し，共通の走査クロック\n及び走査制御信号を用いている点でも共通した構成であること，「特に，全走査レ\nジスタ１０８とは異なり，部分走査レジスタ１３５は，選択したＬＥ２００のサブ\nセット（例えば４分の１）の状態値を走査バス１３９に出力する。全走査レジスタ\n１０８と部分走査レジスタ１３５とが出力として走査バス１３９を分かち合う範囲\nで，走査コントロール１４２及び走査クロック１４０が，どちらの走査レジスタを\n活動状態にするかを選択的に制御する。」（【００２８】）との記載や，【００１\n３】及び【図１１】において全走査レジスタと部分走査レジスタとが共通の構成に\nよって実現されることが示唆されていることに照らせば，全走査レジスタと部分走\n査レジスタは，ともに，ＦＰＧＡの再構成や再コンパイルを必要とすることなく，\n論理素子を直接に観察可能にする構成として共通性を有することが認められる。\nそして，前記１(2)のとおり，本件出願と同様に控訴人出願に係る先行技術であ\nる乙１発明のＬＥアレイ及び走査レジスタによって，「隠された」ノードが全て，\nＦＰＧＡの再構成や再コンパイルを必要とすることなく，直接に観察可能となる。\nそうすると，本件各発明は，全走査レジスタと部分走査レジスタとが，ともに，\nＦＰＧＡの再構成や再コンパイルを必要とすることなく，論理素子を直接に観察可\n能にするとの前記１(3)アの①の課題を解決する構成であることを前提に，部分走\n査レジスタについては，特に，選択した論理素子の部分集合を動的に再構成して，\n上記論理素子を観察することを可能にするものである。その際に，全走査レジスタ\nは，全ての論理素子を観察対象とすることから，全ての論理素子と切替えを介する\nことなく直接接続されるのに対し，部分走査レジスタは，選択により観察対象とす\nる部分集合が切り替えられることから，全ての論理素子との接続において切替えの\nための構成を介在させる必要があり，当該切替えのための構成として「再構成可能\nなネットワーク」を必要とし，論理素子の部分集合と部分走査レジスタとの接続に\n係る期間として「エミュレーション・クロックの１クロック・サイクルにおいて…\n接続する」（構成要件１Ｅ）ことが定められ，この点が，全走査レジスタと部分走\n査レジスタとの相違であると認められる。\nウ  しかして，全走査レジスタと部分走査レジスタとの相違から，部分走査レジ\nスタの構成を採用するに当たって必要とされる「再構成可能なネットワーク」とは，\nエミュレーション・クロックの１クロック・サイクルにおいて，部分走査レジスタ\nに接続する論理素子の部分集合を，全ての論理素子から選択して切り替えるための\n構成であり，これに対して，選択された論理素子の部分集合から出力されるエミュ\nレーション・クロックの１クロック・サイクルにおける信号状態値を走査して捉え，\nそして出力するために，走査クロック又は走査制御信号を用いて処理することは，\n「部分走査レジスタ」が果たす役割として構成されている。\nこのことは，本件明細書等の「部分走査レジスタは，ＬＥの選択された１つに再\n構成可能に結合され，使用可能とされた場合には，オペレーティング・クロックの\n特定クロック・サイクルにおいて，選択されたＬＥによりエミュレートされた信号\n状態値回路素子の記録を捉えて走査バスに出力するよう作動し，そこにおいて，部\n分走査レジスタは，オペレーティング・クロックに適切に比例した走査クロックの\n印加により使用可能とされる。」（【０００５】），「特に，図示した一実施形態\n例によれば，ＬＥアレイ１０２内のユーザー選択のＬＥ２００を部分走査できるよ\nうにするためには，ユーザーは，走査コントロール１４２及び走査クロック１４０\nで部分走査レジスタ１３５を活動状態にするが，ＬＥアレイ１０２内のＬＥ２００\n全てを全走査できるようにするには，走査コントロール１４２及び走査クロック１\n４０信号で全走査レジスタ１０８を活動状態にする。」（【００２８】），「動的\n再構成ネットワーク１３７及び部分走査レジスタ１３５が…再コンパイルを必要と\nせずに，所与のクロック・サイクルに選択したＬＥのサブセットを動的に再構成し\nて観察することを可能にするのである。…本発明によれば，統合デバッグ機能を備\nえた再構成集積回路が得られるので，エミュレーションシステムのユーザーは，あ\nるクロック・サイクルには，ＬＥアレイ１０２のＬＥのサブセットを観察すること\nを選択することもでき，他のクロック・サイクルには，ＬＥアレイ１０２を構成す\nる全てのＬＥの状態値をも全走査して観察することも選択できる。」（【００２９】）\nとの記載から認められるところである。\nこのように，本件明細書等においては，「部分走査レジスタ」に走査クロック又\nは走査制御信号が印加されるものとされており，これに対して，「再構成可能なネッ\nトワーク」に走査クロック又は走査制御信号が印加される構成については，何らの\n記載も示唆もなく，また，「再構成可能なネットワーク」に対して走査クロック又\nは走査制御信号を印加することが，本件特許の優先権主張日当時の技術常識であっ\nたことを認めるに足りる証拠もない。また，控訴人が第２次補正と同日付けで提出\nした意見書（甲５８の４，乙１８）においても，本件各発明は，集積回路において，\n部分走査レジスタと再構成可能なネットワークを含むことが特徴の一つであると指\n摘した上で，「部分走査レジスタ」に走査クロックを印加することにより，エミュ\nレーション・クロックのそのクロック・サイクルにおいて，再構成可能なネットワー\nクにより選択された論理素子の部分集合の信号状態値を走査バスに出力するもので\nあるとして，部分走査レジスタに走査クロックを印加することについては言及して\nいるものの，「再構成可能なネットワーク」に走査クロックを印加することについ\nては何らの記載も示唆もない。\nそうすると，本件各発明においては，「再構成可能なネットワーク」は，エミュ\nレーション・クロックの１クロック・サイクル単位で，観察対象となる論理素子を\n選択して部分走査レジスタに出力する機能（エミュレーション・クロックの１クロッ\nク・サイクル単位で，部分走査レジスタを選択された論理素子の部分集合のみに再\n構成可能に接続する機能）を有し，「部分走査レジスタ」は，選択された論理素子\nの部分集合から出力されるエミュレーション・クロックの１クロック・サイクルに\nおける信号状態値を走査して捉え，そして出力するために，走査クロック及び走査\n制御信号を用いて処理するものとして構成されているものと認められる。\nそして，「部分走査レジスタ」は，構成要件１Ｄの構成要素とされているだけで\nなく，構成要件１Ｅにおいて「再構成可能なネットワーク」に結合したものである\nとされているところ，選択した論理素子の部分集合からの信号状態値を出力するた\nめの「再構成可能なネットワーク」の信号出力線に結合するためには，部分走査レ\nジスタの信号入力線の数は，少なくとも，「再構成可能なネットワーク」の信号出\n力線の数以上のものを備える必要があり，それによって，「再構成可能なネットワー\nク」の信号出力線と部分走査レジスタの信号入力線との結合が可能となり，かつ，\n「再構成可能なネットワーク」から出力される，選択した論理素子の部分集合から\nの信号状態値を，全て漏れなく部分走査レジスタによって捉えることが可能になる\nものと認められる。\nこれに対して，信号入力線の数が，観察対象となる選択された論理素子，すなわ\nち捉えるべき選択された論理素子の部分集合の信号状態値の数より少ないように構\n成されたレジスタは，「再構成可能なネットワーク」の信号出力線と結合すること\nができず，選択した論理素子の部分集合からの信号状態値を全て漏れなく捉えるこ\nとができないから，信号入力線の数が，捉えるべき選択された論理素子の部分集合\nの信号状態値の数以上になるように構成されたレジスタの場合における，「再構成\n可能なネットワーク」の信号出力線と部分走査レジスタの信号入力線との結合が可\n能となり，かつ，「再構成可能なネットワーク」から出力される，選択した論理素\n子の部分集合からの信号状態値を，全て漏れなく部分走査レジスタによって捉える\nことが可能になるとの上記効果を奏することができない。\nエ  したがって，本件各発明の１Ｄ，５Ｆ，７Ｅ及び７Ｆの「部分走査レジスタ」\nは，信号入力線の数が，観察対象となる選択された論理素子，すなわち捉えるべき\n選択された論理素子の部分集合の信号状態値の数以上になるように構成されたレジ\nスタ，に限定されるものというべきである。\n(2)  フレキシブルプローブの実施態様ⅠないしⅢの充足性について\nア  フレキシブルプローブの実施態様Ⅰについて\n●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●\n●●●●●●●●●●●●●●●●●●●●●●●●●\n●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●\n●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●\n●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●\n●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●\n●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●\n●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●\n●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●\n●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●\n●●●\n●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●\n●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●\n●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●\n●●●●●●●●●\nイ  フレキシブルプローブの実施態様Ⅱについて\n●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●\n●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●\n●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●\n●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●\n●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●\n●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●\n●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●\n●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●\n●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●\n●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●\n●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●\n●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●\n●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●\n●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●\n●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●\n●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●\n●●●●●●●●●●●●●●●●●●●●●\n●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●\n●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●\n●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●\n●●●●●●●\nウ  フレキシブルプローブの実施態様Ⅲについて\n●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●\n●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●\n●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●\n●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●\n●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●\n●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●\n●●●●●●●●●●●●●●●●●●●●●●●●●\nエ  小括\n以上によれば，被告各製品のフレキシブルプローブの実施態様ⅠないしⅢは，\nいずれも構成要件１Ｄ，５Ｆ，７Ｅ及び７Ｆの「部分走査レジスタ」に当たらない。\n(3)  控訴人の主張について\nア  控訴人は，別紙１の図９の，８個の論理素子（４０１～４０８）の出力が，\nマルチプレクサ３００を介して，レジスタ１００に供給される場合において，エミュ\nレーション・クロックの１クロック・サイクルにおける各論理素子（４０１～４０\n８）の信号状態値（Ａ１～Ａ８）のうち，２個以上の論理素子（例えば４０１～４\n０４の４個）の信号状態値（Ａ１～Ａ４）をレジスタ１００が捉えて出力する態様\nは，構成要件１Ｄの「部分走査レジスタ」を充足する旨主張する。\nしかし，上記の別紙１の図９の態様においては，レジスタ１００の信号入力線（Ｄ）\nは１つであるのに対し，捉えるべき選択された論理素子の部分集合の信号状態値の\n数は４（論理素子４０１～４０４の出力値）であって，信号入力線の数が，捉える\nべき選択された論理素子の部分集合の信号状態値の数以上になるように構成された\nレジスタではないから，構成要件１Ｄ，５Ｆ，７Ｅ及び７Ｆの「部分走査レジスタ」\nに当たらない。\nなお，別紙１の図９の態様においては，控訴人が「再構成可能なネットワーク」\nに相当する旨主張するマルチプレクサ３００に，走査クロックが印加されていると\nころ，前記(1)ウのとおり，本件明細書等には「再構成可能なネットワーク」に走査\nクロックが印加される構成については，何らの記載も示唆もなく，また，「再構成\n可能なネットワーク」に対して走査クロックを印加することが，本件特許の優先権\n主張日当時の技術常識であったことを認めるに足りる証拠もないのであるから，マ\nルチプレクサ３００は，構成要件１Ｅの「再構成可能なネットワーク」に当たらな\nいというべきである。\nイ  控訴人は，別紙１の図９については，走査クロックをカウンタに印加するこ\nと等の具体的構成を含めてそれ自体を侵害態様として主張したものではなく，マル\nチプレクサ３００につながれた「カウンタ」や，当該「カウンタ」に走査クロック\nを印加することは必須の要素ではなく，この点は，甲７８及び甲７９の説明におい\nて，「カウンタ」やこれに印加する走査クロックが特に用いられていないことから\nも裏付けられるところであって，別紙１の図９において重要な点は，エミュレーショ\nン・クロックの１クロック・サイクルの複数の信号状態値（Ａ１～Ａ４）がマルチ\nプレクサ３００を介して順次レジスタに供給される点である旨主張する。\nしかし，別紙１の図９において，エミュレーション・クロックのある１クロック・\nサイクルにおける複数の論理素子（例えば４０１～４０４）の信号状態値（例えば\nＡ１～Ａ４）の入力を受けたマルチプレクサ３００が，これをエミュレーション・\nクロックの１クロック・サイクルの期間内にレジスタ１００に出力し，レジスタ１\n００がこれを全て漏れなく捉え，さらに次のエミュレーション・クロックの１クロッ\nク・サイクルにおける複数の論理素子（例えば４０５～４０８）の信号状態値（例\nえばＡ５～Ａ８）の入力を受けたマルチプレクサ３００が，同様に，これをエミュ\nレーション・クロックの１クロック・サイクルの期間内にレジスタ１００に出力し，\nレジスタ１００がこれを全て漏れなく捉えるためには，エミュレーション・クロッ\nクの４倍の周波数の走査クロックをレジスタ１００に印加することはもちろん，マ\nルチプレクサ３００に対しても，少なくとも同じ周波数の走査クロックを印加する\n必要があることは明らかである。\nそして，甲７８（清水尚彦教授の鑑定意見書(3)）の１１頁の図５において，ＬＥ\n１ないし６から信号の入力を受け，レジスタに出力するマルチプレクサに対して，\n図面上は，制御信号が記載されていないものの，同号証の１２頁６ないし９行目に\nは「レジスタは，１つの走査クロックの間に，その入力端子に供給された高々１つ\nの信号状態値を出力することができる。したがって，レジスタに順次供給される上\n記４つの信号状態値（Ａ１～Ａ４）を捉えて出力するためには，走査クロックの４\nクロック・サイクルを必要とする。」と記載されている。この点，レジスタが４ク\nロック・サイクルの走査クロックごとに信号状態値をマルチプレクサから取り込む\nためには，マルチプレクサも４クロック・サイクルの走査クロックごとに出力を切\nり替えざるを得ず，そのためには，マルチプレクサに対して，走査クロックの印加\nと，走査クロックによりマルチプレクサを切り替えるための信号を出力するカウン\nタに相当する構成が必要となることは明らかである。したがって，甲７８には，実\n質的には，別紙１の図９と同様の構成が示されているといえるのであって，甲７８\nが，別紙１の図９において，「カウンタ」や，当該「カウンタ」に走査クロックを\n印加することが必須の要素ではないことの根拠となるものではない。\nまた，甲７９（藤田昌宏教授の鑑定意見書(4)）の５頁の図Ａにおいても，同様に，\nＬＥ１ないし４から信号の入力を受け，レジスタに出力するマルチプレクサに対し\nて，図面上は，制御信号が記載されていないものの，同号証の６頁７ないし１１行\n目には，「マルチプレクサは，走査クロックに同期した制御信号に従って，論理素\n子ＬＥ１～ＬＥ４のうちの複数（例えばＬＥ１～ＬＥ３）から出力された信号状態\n値を順次レジスタに供給する。レジスタは，マルチプレクサを介して順次供給され\nた複数の信号状態値を，走査クロックに同期して捉えて（内部メモリに書き込んで）\n出力する。」と記載されているように，マルチプレクサに対して，走査クロックに\n同期した制御信号が印加されていることが明らかである。したがって，甲７９も，\n別紙１の図９において，「カウンタ」や，当該「カウンタ」に走査クロックを印加\nすることが必須の要素ではないことの根拠となるものではない。\nそして，レジスタの前段に，マルチプレクサ（カウンタやカウンタに走査クロッ\nクを印加しないもの）が設けられ，マルチプレクサの入力の切替えによりマルチプ\nレクサへ入力される信号状態値が順次レジスタに供給される構成が，本件特許の優\n先権主張日当時公知であったとしても，それだけでは，本件各発明の「再構成可能\nなネットワーク」が同様の構成を備えるものと解することはできないし，本件明細\n書等にも「再構成ネットワーク」として上記構成を採用することについての何らの\n記載も示唆もない。加えて，レジスタの前段にマルチプレクサを設けて，エミュレー\nション・クロックの１クロック・サイクルにおける複数の信号状態値がマルチプレ\nクサを介して順次レジスタに供給されるという構成だけでは，エミュレーション・\nクロックのある１クロック・サイクルにおける複数の論理素子の信号状態値の入力\nを受けたマルチプレクサが，これをエミュレーション・クロックの１クロック・サ\nイクルの期間内にレジスタに出力し，レジスタがこれを全て漏れなく捉え，さらに\n次のエミュレーション・クロックの１クロック・サイクルにおける複数の論理素子\nの信号状態値の入力を受けたマルチプレクサが，同様に，これをエミュレーション・\nクロックの１クロック・サイクルの期間内にレジスタに出力し，レジスタがこれを\n全て漏れなく捉えることはできないのであって，これを可能とするためには，エミュ\nレーション・クロックに適切に比例した走査クロックをレジスタに印加することは\nもちろん，マルチプレクサに対しても，同様の走査クロックを印加する必要がある\nことは，上記において説示したとおりである。しかし，本件明細書等には，「再構\n成ネットワーク」に対して，走査クロックが印加されることについての記載も示唆\nもないことは，前記(1)ウのとおりである。\nウ  ●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●\n●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●\n●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●\n●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●\n●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●\n●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●\n●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●\n●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●\n●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●\n●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●\n●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●\n●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●\n●●●●●●●●●●●●●●●●●●●●●\nしかし，レジスタの前段にマルチプレクサが設けられ，マルチプレクサの入力の\n切替えによりマルチプレクサへ入力される信号状態値が順次レジスタに供給される\n構成が本件特許の優先権主張日当時公知であったとしても，それだけでは，本件各\n発明の「再構成可能なネットワーク」が同様の構成を備えるものと解することはで\nきないし，上記構成において本件各発明と同一の作用効果を奏するためには，エミュ\nレーション・クロックに適切に比例した走査クロックをレジスタに印加することは\nもちろん，マルチプレクサに対しても，同様の走査クロックを印加する必要がある\nところ，本件明細書等には，「再構成可能なネットワーク」に対して，走査クロッ\nクが印加されることについての記載も示唆もないことは，前記イのとおりである。\nまた，本件明細書等の図１１の再構成回路１１００におけるマルチプレクサ１１\n０６は，全走査モードのための論理素子からの直接の信号状態値と，部分走査モー\nドのための動的再構成ネットワーク１３７からの部分集合としての信号状態値とを\n切り替えるものであるところ，マルチプレクサ１１０６は，「再構成可能なネット\nワーク」に相当する動的再構成ネットワーク１３７を構成する要素ではない。\nまた，再構成回路１１００は，「分離した部分走査レジスタ１３５と（徹底的）\n走査レジスタ１０８とを採用する代わりに，…徹底的走査モードで全追跡／ノー\nドの出力を，又は部分走査モードで，追跡／ノードの選択されたサブセットの出\n力を，走査レジスタ１１０８に選択的に供給するマルチプレクサ１１０６を使用\nする。換言すれば，走査レジスタ１１０８は，図１の走査レジスタ１０８として\n全体を使用することも，図１の部分走査レジスタ１３５として部分的に使用する\nこともできる。」（【００１３】）というものである。したがって，再構成回路\n１１００におけるマルチプレクサ１１０６による切替えは，本件明細書等の図１の\n本件各発明の再構成集積回路１００について，「エミュレーションシステムのユー\nザーは，あるクロック・サイクルには，ＬＥアレイ１０２のＬＥのサブセットを\n観察することを選択することもでき，他のクロック・サイクルには，ＬＥアレイ\n１０２を構成する全てのＬＥの状態値をも全走査して観察することも選択でき\nる。」【００２９】と記載されているのと同様に，少なくともエミュレーション・\nクロック単位で行われるものと解され，走査クロックにより切替えが行われるもの\nとは認め難い。このことは，【図１１】において，走査レジスタ１１０８には走査\nクロック１４０が印加されることが図示されているのに対して，マルチプレクサ１\n１０６には走査クロック１４０が印加されることが図示されていないことからも裏\n付けられるところである。そうすると，本件明細書等の図１１は，「再構成可能な\nネットワーク」に走査クロックが印加されることを記載又は示唆するものでもない。\nエ  以上によれば，控訴人の前記主張は，いずれも採用することができない。\n３  争点(1)エ（「再構成可能なネットワーク」〔構成要件１Ｅ，５Ｇ，５Ｈ及び\n７Ｇ〕の充足性）について\n(1)  「再構成可能なネットワーク」の意義\nア  「再構成可能なネットワーク」は，「上記エミュレーション・クロックの１\nクロック・サイクルにおいて，上記部分走査レジスタを上記選択された論理素子の\n部分集合のみに再構成可能に接続する」もので，複数の論理素子と部分走査レジス\nタに結合したものである（構成要件１Ｅ，５Ｇ，，５Ｈ，７Ｇ）。\n本件各発明の構成要件１Ｅ，５Ｇ，５Ｈ及び７Ｇの「上記部分走査レジスタを上\n記選択された論理素子の部分集合のみに再構成可能に接続する」中の「接続」の意\n義については，前記１(3)オのとおり，本件各発明の課題が，選択した論理素子の\n部分集合（サブセット）を動的に再構成して観察することを可能にするものであ\nることからすれば，物理的な配線がつながっているというだけでは足りず，つながっ\nた配線を通して信号状態値の記録を捉えて出力することが可能な状態であることを\n意味すると解するのが相当である。\nそうすると，構成要件１Ｅ，５Ｇ，５Ｈ及び７Ｇの「エミュレーション・クロッ\nクの１クロック・サイクルにおいて，上記部分走査レジスタを上記選択された論理\n素子の部分集合のみに再構成可能に接続する」に当たるというためには，エミュレー\nション・クロックの１クロック・サイクルの間に，選択された論理素子の部分集合\nと部分走査レジスタとが，つながった配線を通して信号状態値の記録を捉えて出力\nすることが可能な状態にあることが必要である。\nイ  また，前記２(1)ウのとおり，本件各発明において，「再構成可能なネット\nワーク」とは，エミュレーション・クロックの１クロック・サイクルにおいて，部\n分走査レジスタに接続する論理素子の部分集合を，全ての論理素子から選択して切\nり替えるための構成であり，本件明細書等には「再構成可能なネットワーク」に走\n査クロック又は走査制御信号が印加される構成については，何らの記載も示唆もな\nく，これが本件特許の優先権主張日当時の技術常識であったことを認めるに足りる\n証拠もないこと，これに対して，選択された論理素子の部分集合から出力されるエ\nミュレーション・クロックの１クロック・サイクルにおける信号状態値を走査して\n捉え，そして出力するために，走査クロック又は走査制御信号を用いて処理するこ\nとは，「部分走査レジスタ」が果たす役割として構成されていることが認められる。\nそうすると，本件各発明においては，「再構成可能なネットワーク」は，エミュ\nレーション・クロックの１クロック・サイクル単位で，観察対象となる論理素子を\n選択し，選択された論理素子の部分集合のエミュレーション・クロックの１クロッ\nク・サイクルにおける信号状態値を，部分走査レジスタに出力する機能（エミュレー\nション・クロックの１クロック・サイクル単位で，部分走査レジスタを，選択され\nた論理素子の部分集合のみに再構成可能に接続する機能）を有するものである。こ\nれに対し，「再構成可能なネットワーク」に対して走査クロックを印加することに\nより，エミュレーション・クロックの１クロック・サイクルよりも細分化した走査\nクロック単位で，選択された論理素子の部分集合のエミュレーション・クロックの\n１クロック・サイクルにおける信号状態値を，さらに小さな部分集合の信号状態値\nごとに選択して切り替える構成（エミュレーション・クロックの１クロック・サイ\nクルよりも細分化された走査クロック単位で，部分走査レジスタを，選択された論\n理素子の部分集合よりもさらに小さな部分集合ごとに再構成可能に接続する構成）\nは，「部分走査レジスタ」が果たすべき役割を，「再構成可能なネットワーク」に\nおいて実現するものであって，本件各発明の作用効果の観点からも異なる手段を開\n示するものであり，本件明細書等において，そのような構成ないし手段を採用し得\nるとする記載又は示唆を見出すことはできない。\nしたがって，本件各発明の１Ｅ，５Ｇ，５Ｈ及び７Ｇの「再構成可能なネットワー\nク」は，エミュレーション・クロックの１クロック・サイクル単位で，部分走査レ\nジスタに接続する論理素子の部分集合を，全ての論理素子から選択して切り替える\n構成であって，印加された走査クロックによって，エミュレーション・クロックの\n１クロック・サイクルよりも細分化された走査クロック単位で，選択された論理素\n子の部分集合をさらに小さな部分集合ごとに選択して切り替える態様を含まないも\nのに限定されると解するのが相当である。言い換えるならば，構成要件１Ｅ，５Ｇ，\n５Ｈ及び７Ｇの「上記エミュレーション・クロックの１クロック・サイクルにおい\nて，上記部分走査レジスタを上記選択された論理素子の部分集合のみに再構成可能\nに接続する」とは，エミュレーション・クロックの１クロック・サイクル単位で，\n部分走査レジスタを選択された論理素子の部分集合のみに接続することを意味する\nものであって，論理素子の部分集合と部分走査レジスタとが，エミュレーション・\nクロックに適切に比例した走査クロック単位でさらに小さな部分集合ごとに接続が\n変更されるものは，エミュレーション・クロックの１クロック・サイクル単位で，\n部分走査レジスタを選択された論理素子の部分集合のみに接続するものということ\nはできないから，上記要件を充足しないというべきである。\nこの点，本件明細書等に「再構成可能なネットワーク」に走査クロック又は走査\n制御信号が印加される構成については，何らの記載も示唆もなく，これが本件特許\nの優先権主張日当時の技術常識であったことを認めるに足りる証拠もない。また，\n本件明細書等の【００２７】，【００２８】及び【図８ｂ】において，本件各発明\nにおける一実施形態ではあるものの，「再構成可能なネットワーク」として，１２\n８の論理素子から３２の選択サブセット（部分集合）の信号状態値を部分走査レジ\nスタに対し出力し，部分走査レジスタが，「再構成可能なネットワーク」からの出\n力を受け入れる３２の信号入力線を備えることが記載され，部分走査レジスタと「再\n構成可能なネットワーク」とが，３２の信号入力線と信号出力線により結合され，\n「再構成可能なネットワーク」に走査クロック又は走査制御信号を印加することに\nよってさらに小さな部分集合ごとに切り替えることのない態様が示されている。こ\nれらのことをも踏まえると，印加された走査クロックによって，エミュレーション・\nクロックの１クロック・サイクルよりも細分化された走査クロック単位で，選択さ\nれた論理素子の部分集合をさらに小さな部分集合ごとに選択して切り替える態様の\n再構成可能なネットワークを採用することは，本件明細書等には何らの記載も示唆\nもなく，また，本件明細書等に記載された上記実施形態とは明らかに異なる構成及\nび動作を示すネットワークを採用するものである。かかる態様の再構成可能なネッ\nトワークは，前記２(1)ウのとおり，「再構成可能なネットワーク」が，エミュレー\nション・クロックの１クロック・サイクル単位で，部分走査レジスタを選択された\n論理素子の部分集合のみに再構成可能に接続する機能を有し，「部分走査レジスタ」\nが，選択された論理素子の部分集合から出力されるエミュレーション・クロックの\n１クロック・サイクルにおける信号状態値を走査して捉え，そして出力するために，\n走査クロック及び走査制御信号を用いて処理するものとして構成されている本件各\n発明の技術的思想とは異なる発明を開示するものというほかない。\n(2)  ダイナミックプローブの充足性について\n前記(1)アのとおり，構成要件１Ｅ，５Ｇ，５Ｈ及び７Ｇの「エミュレーション・\nクロックの１クロック・サイクルにおいて，上記部分走査レジスタを上記選択され\nた論理素子の部分集合のみに再構成可能に接続する…再構成可能なネットワーク」\nに当たるというためには，エミュレーション・クロックの１クロック・サイクルの\n間に，選択された論理素子の部分集合と部分走査レジスタとが，つながった配線を\n通して信号状態値の記録を捉えて出力することが可能な状態にあることが必要であ\nる。\n被告各製品におけるダイナミックプローブは，リードバックキャプチャを実行す\nることにより，全ての論理素子の信号状態値がまずコンフィギュレーションメモリ\nに格納され，その後，ＦＡＲレジスタにおいてコンフィギュレーションメモリから\n読み出すべき論理素子の信号状態値が格納されたフレームのアドレスを指定するこ\nとで，コンフィギュレーションメモリに格納されたデータのうち，指定されたフレー\nムに格納されたデータのみがＦＤＲＯレジスタに取り込まれ，バスへと出力される\nものである。すなわち，全ての論理素子の信号状態値をコンフィギュレーションメ\nモリに格納するために，論理素子とコンフィギュレーションメモリが一旦接続され\n（つながった配線を通して信号状態値の記録を捉えて出力することが可能な状態と\nされ），その後，コンフィギュレーションメモリからＦＤＲＯレジスタにデータを\n取り込むために，コンフィギュレーションメモリとＦＤＲＯレジスタとを接続する\n（つながった配線を通して信号状態値の記録を捉えて出力することが可能な状態と\nされる）ものといえる。\nそうすると，エミュレーション・クロックの１クロック・サイクルの間に，ＦＤ\nＲＯレジスタ（控訴人の主張によれば「部分走査レジスタ」に相当する。）と接続\nされるのは，コンフィギュレーションメモリ（控訴人の主張によれば「再構成可能\nなネットワーク」の一部に相当する。）の部分集合であって，論理素子の集合ない\nし部分集合ではなく，論理素子の部分集合とＦＤＲＯレジスタとが，つながった配\n線を通して信号状態値の記録を捉えて出力することが可能な状態は一度として生じ\nておらず，ＦＤＲＯレジスタは，単に，論理素子の信号状態値全てが格納されたコ\nンフィギュレーションメモリから，選択した論理素子の信号状態値のデータを取得\nしているにすぎない。このように被告各製品のダイナミックプローブにおけるリー\nドバックキャプチャによるコンフィギュレーションメモリへの論理素子の信号状態\n値の格納及びＦＡＲレジスタによるＦＤＲＯレジスタに対する信号状態値のデータ\nの出力の構成は，本件明細書等の【図１】及び【図８ｂ】にあるような，論理素子\nアレイ（１０２）から入力された信号状態値のうち，動的再構成ネットワーク（１\n３７）（マルチプレクサ（５０２））によって選択されたものをそのまま部分走査\nレンジスタ（１３５）に出力する構成とは，明らかに異なるものというべきである。\nしたがって，被告各製品におけるダイナミックプローブは，本件各発明の構成要\n件１Ｅ，５Ｇ，５Ｈ及び７Ｇの「上記エミュレーション・クロックの１クロック・\nサイクルにおいて，上記部分走査レジスタを上記選択された論理素子の部分集合の\nみに再構成可能に接続する，…再構成可能なネットワーク」を充足しないというべ\nきである。\n(3)  フレキシブルプローブの実施態様ⅠないしⅢの充足性について\n前記(1)イのとおり，構成要件１Ｅ，５Ｇ，５Ｈ及び７Ｇの「上記エミュレーショ\nン・クロックの１クロック・サイクルにおいて，上記部分走査レジスタを上記選択\nされた論理素子の部分集合のみに再構成可能に接続する…再構成可能なネットワー\nク」とは，エミュレーション・クロックの１クロック・サイクル単位で，部分走査\nレジスタを選択された論理素子の部分集合のみに接続することを意味するもので\nあって，論理素子の部分集合と部分走査レジスタとが，エミュレーション・クロッ\nクに適切に比例した走査クロック単位でさらに小さな部分集合ごとに接続が変更さ\nれるものは，エミュレーション・クロックの１クロック・サイクル単位で，部分走\n査レジスタを選択された論理素子の部分集合のみに接続するものということはでき\nないから，上記要件を充足しないというべきである。\nア  フレキシブルプローブの実施態様Ⅰについて\n●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●\n●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●\n●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●\n●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●\n●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●\n●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●\n●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●\n●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●\n●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●\n●●●●●●●●●●●●●●●●●●●●●●●●●●●\n●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●\n●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●\n●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●\n●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●\n●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●\n●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●\n●●●●●●●●●●●●●●●●●●●●●●●●●●●\nイ  フレキシブルプローブの実施態様Ⅱについて\n●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●\n●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●\n●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●\n●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●\n●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●\n●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●\n●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●\n●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●\n●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●\n●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●\n●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●\n●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●\n●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●\n●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●\n●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●\n●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●\n●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●\n●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●\n●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●\n●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●\n●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●\n●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●\n●●●●●●\nウ  フレキシブルプローブの実施態様Ⅲについて\n●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●\n●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●\n●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●\n●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●\n●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●\n●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●\n●●●●●●●●●●●●●●●●●●\nエ  小括\n以上によれば，被告各製品のフレキシブルプローブの実施態様ⅠないしⅢは，い\nずれも構成要件１Ｅ，５Ｇ，５Ｈ及び７Ｇの「再構成可能なネットワーク」に当た\nらない。\n４  争点(2)（均等侵害の成否）について\n(1)  均等侵害について\n●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●\n●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●\n●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●\n●●●●●●●●●●●●●●\nしかし，前記３のとおり，被告各製品のフレキシブルプローブの実施態様Ⅰない\nしⅢは，「部分走査レジスタ」（構成要件１Ｄ，５Ｆ，７Ｅ及び７Ｆ）のみならず，\n「再構成可能なネットワーク」（構成要件１Ｅ，５Ｇ，５Ｈ及び７Ｇ）の要件を充\n足しない。そうすると，均等侵害の成否について検討するまでもなく，被告各製品\nのフレキシブルプローブの実施態様ⅠないしⅢは，本件発明１，３ないし７の技術\n的範囲に属しないこととなるが，事案に鑑み，念のため，以下において，均等侵害\nが成立するか否かを検討することとする。\n(2)  均等侵害の要件\n特許請求の範囲に記載された構成中に，相手方が製造等をする製品又は用いる\n方法（以下「対象製品等」という。）と異なる部分が存する場合であっても，①\n同部分が特許発明の本質的部分ではなく，②同部分を対象製品等におけるものと\n置き換えても，特許発明の目的を達することができ，同一の作用効果を奏するも\nのであって，③上記のように置き換えることに，当該発明の属する技術の分野に\nおける通常の知識を有する者（当業者）が，対象製品等の製造等の時点において\n容易に想到することができたものであり，④対象製品等が，特許発明の特許出願\n時における公知技術と同一又は当業者がこれから当該出願時に容易に推考できた\nものではなく，かつ，⑤対象製品等が特許発明の特許出願手続において特許請求\nの範囲から意識的に除外されたものに当たるなどの特段の事情もないときは，同\n対象製品等は，特許請求の範囲に記載された構成と均等なものとして，特許発明\nの技術的範囲に属するものと解するのが相当である（最高裁判所平成６年（オ）\n第１０８３号平成１０年２月２４日第三小法廷判決・民集５２巻１号１１３頁参\n照）。\nところで，特許法が保護しようとする発明の実質的価値は，従来技術では達成\nし得なかった技術的課題の解決を実現するための，従来技術に見られない特有の\n技術的思想に基づく解決手段を，具体的な構成をもって社会に開示した点にある。\nしたがって，特許発明における本質的部分とは，当該特許発明の特許請求の範囲\nの記載のうち，従来技術に見られない特有の技術的思想を構成する特徴的部分で\nあると解すべきである。\nそして，特許発明における本質的部分は，特許請求の範囲及び明細書の記載に\n基づいて認定されるべきであるが，明細書に従来技術が解決できなかった課題と\nして記載されているところが，優先権主張日の従来技術に照らして客観的に見て\n不十分な場合には，明細書に記載されていない従来技術も参酌して認定されるべ\nきである（当庁平成２７年（ネ）第１００１４号平成２８年３月２５日判決参照）。\n(3)  本件各発明の本質的部分\nア  前記１(3)のとおり，本件明細書等に従来技術が解決できなかった課題として\n記載されているところは，乙１発明の課題と重複するものであるところ，本件明細\n書等には乙１発明の記載がなく，従来技術に照らして客観的に見て不十分であるか\nら，本件各発明の本質的部分は，特許請求の範囲及び本件明細書等の記載に加えて，\n優先権主張日の従来技術たる乙１発明との比較から認定されるべきである。そして，\n特許請求の範囲，本件明細書等の記載及び従来技術（乙１発明）によれば，前記１\n(3)オのとおり，本件各発明は，一旦隠されたノードに容易にアクセスでき，再構成\nの必要を減少させることによって，許容できるエミュレーション頻度でエミュレー\nションすることを容易にすること，再コンパイルを必要とせずに，所与のクロッ\nク・サイクルにおいて，選択した論理素子の部分集合（サブセット）を動的に再構\n成して観察することを可能にすること，及びデバッグの高速化・効率化を図るこ\nとを課題ないし目的とするものである。そして，本件各発明は，上記課題ないし\n目的を解決する手段として，前記２(1)ウのとおり，エミュレーション・クロック\nの１クロック・サイクル単位で，観察対象となる選択された論理素子の部分集合を\n部分走査レジスタに再構成可能に接続する「再構成可能なネットワーク」と，選択\nされた論理素子の部分集合から出力されるエミュレーション・クロックの１クロッ\nク・サイクルにおける信号状態値を走査して捉え，そして出力する「部分走査レジ\nスタ」という構成要件１Ｄ及び１Ｅに記載された特徴的な構成を採用したものであ\nる。\nそうすると，「選択された論理素子の部分集合によってエミュレートされた回路\n素子の複数の信号状態値の記録をエミュレーション・クロックの１クロック・サイ\nクルにおいて捉え，そして走査バスに出力する部分走査レジスタ」（構成要件１Ｄ）\n及び「上記エミュレーション・クロックの１クロック・サイクルにおいて，上記部\n分走査レジスタを上記選択された論理素子の部分集合のみに再構成可能に接続する\n…再構成可能なネットワーク」（構成要件１Ｅ）は，いずれも，本件各発明の課題\nの解決を実現するために不可欠な構成である。\nそして，前記３(1)イのとおり，「再構成可能なネットワーク」は，エミュレーショ\nン・クロックの１クロック・サイクル単位で，部分走査レジスタに接続する論理素\n子の部分集合を，全ての論理素子から選択して切り替える構成であって，印加され\nた走査クロックによって，エミュレーション・クロックの１クロック・サイクルよ\nりも細分化された走査クロック単位で，選択された論理素子の部分集合をさらに小\nさな部分集合ごとに選択して切り替える態様を含まないものに限定されることから，\n前記２(1)ウのとおり，「選択された論理素子の部分集合によってエミュレートされ\nた回路素子の複数の信号状態値の記録をエミュレーション・クロックの１クロッ\nク・サイクルにおいて捉え，そして走査バスに出力する部分走査レジスタ」である\nためには，「部分走査レジスタ」の具体的な構成として，選択された論理素子の部\n分集合からの信号状態値を出力するための「再構成可能なネットワーク」の信号出\n力線に結合するために，その信号入力線の数が，観察対象となる選択された論理素\n子，すなわち捉えるべき選択された論理素子の部分集合の信号状態値の数以上にな\nるように構成されたレジスタであることが必要とされ，これによって，「再構成可\n能なネットワーク」の信号出力線と部分走査レジスタの信号入力線との結合が可能\nとなり，かつ，「再構成可能なネットワーク」から出力される，選択した論理素子\nの部分集合からの信号状態値を，全て漏れなく部分走査レジスタによって捉えるこ\nとが可能になるとの効果があるものである。これに対して，信号入力線の数が，捉\nえるべき選択された論理素子の部分集合の信号状態値の数より少ないように構成さ\nれたレジスタは，「再構成可能なネットワーク」の信号出力線と結合することがで\nきず，選択した論理素子の部分集合からの信号状態値を全て漏れなく捉えることが\nできないから，捉えるべき選択された論理素子の部分集合の信号状態値の数以上に\nなるように構成されたレジスタの場合における上記の効果を奏することができない。\nイ  前記アによれば，本件各発明は，一旦隠されたノードに容易にアクセスでき，\n再構成の必要を減少させることによって，許容できるエミュレーション頻度でエ\nミュレーションすることを容易にすること，再コンパイルを必要とせずに，所与の\nクロック・サイクルにおいて，選択した論理素子の部分集合（サブセット）を動的\nに再構成して観察することを可能にすること，及びデバッグの高速化・効率化を\n図ることを課題ないし目的とし，これを解決する手段として，「再構成可能なネッ\nトワーク」とあいまって，信号入力線の数が，捉えるべき選択された論理素子の部\n分集合の信号状態値の数以上になるように構成された「部分走査レジスタ」を採用\nすることによって，「再構成可能なネットワーク」の信号出力線と部分走査レジス\nタの信号入力線との結合が可能となり，かつ，「再構成可能なネットワーク」から\n出力される，選択した論理素子の部分集合からの信号状態値を，全て漏れなく捉え，\nそして出力することが可能になるとの作用効果を有するものであって，かかる「部\n分走査レジスタ」の構成は，本件各発明の課題を解決するために不可欠の部分であっ\nて，従来技術に見られない特有の技術的思想を構成する特徴的部分というべきで\nある。\nウ  控訴人の主張について\n控訴人は，「部分走査レジスタ」に関して本件各発明に特徴的なのは，レジスタ\nをして，論理素子の全部ではなく，「部分」集合の信号状態値をエミュレーション・\nクロックの１クロック・サイクル単位で選択的に捉えて出力させるように構成した\n点，すなわち，「選択された論理素子の部分集合によってエミュレートされた回路\n素子の複数の信号状態値の記録をエミュレーション・クロックの１クロック・サイ\nクルにおいて捉え，そして走査バスに出力する」（構成要件１Ｄ）ように部分走査\nレジスタを動作させる点が，本件各発明の特徴的部分である旨主張する。\nしかし，選択された論理素子の部分集合によってエミュレートされた回路素子の\n複数の信号状態値の記録をエミュレーション・クロックの１クロック・サイクルに\nおいて捉え，そして走査バスに出力すること，すなわち，所与のクロック・サイク\nルにおいて，選択した論理素子の部分集合（サブセット）を動的に再構成して観\n察することを可能にすることは，本件各発明の解決手段であると同時に，課題な\nいし目的であって，本件各発明は，かかる課題ないし目的を解決するために，そ\nの具体的構成として，前記イのとおり，「再構成可能なネットワーク」とあいまっ\nて，信号入力線の数が，捉えるべき選択された論理素子の部分集合の信号状態値の\n数以上になるように構成された「部分走査レジスタ」を採用しているのであって，\nこの点は，本件各発明における本質的部分であるというべきである。\nしたがって，控訴人の上記主張は，採用することができない。\n(4)  フレキシブルプローブの実施態様ⅠないしⅢについて\n●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●\n●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●\n●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●\n●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●\n●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●\n●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●\n●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●\n●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●\n●●●●●●●●●●●●●●●●●●●●●●●●●●●●\n５  争点(3)（被告各製品は本件発明３，４及び６の技術的範囲に属するか）に\nついて\n本件発明３，４及び６は，いずれも本件発明１及び５に所定の構成要件を付加し\nたものであるが，被告各製品は，前記２ないし４のとおり，本件発明１及び５の構\n成要件を充足せず，また，これらと均等なものでもないから，本件発明３，４及び\n６の技術的範囲にも属しない。\n６  争点(5)（間接侵害の成否）について\n控訴人は，本件発明５及び６に関し，被告各製品は，少なくとも本件発明５又は\n６に係るエミュレーションシステムの「生産にのみ用いる物」に当たるから，被告\n各製品を譲渡等する行為については特許法１０１条１号の間接侵害が成立する旨主\n張する。\n控訴人の主張は必ずしも判然とはしないが，本件発明５及び６はいずれも物であ\nる「エミュレーションシステム」（構成要件５Ｉ，６Ｂ）に関する発明であるとこ\nろ，エミュレータ（エミュレーションに使用される集積回路であるＦＰＧＡを含む\n物）である被告各製品は，エミュレーションシステムの生産にのみ用いられる物と\nなる場合があるものとして，その譲渡等は間接侵害に当たる旨主張するものと善解\nできる。\nしかし，前記２ないし５のとおり，被告各製品は，本件各発明の「部分走査レジ\nスタ」及び「再構成可能なネットワーク」を備えていないのであって，構成要件５\nＦないしＨを充足せず，構成要件１Ｄ（「部分走査レジスタ」につき）に関しての\n均等侵害も成立しないことから，構成要件６Ｂを充足することもない。そうすると，\n被告各製品につき本件発明５及び６の間接侵害が成立する余地はない。\nしたがって，控訴人の間接侵害の主張は，採用することができない。\n７  結論\n以上のとおりであるから，その余の点について判断するまでもなく，控訴人の請\n求はいずれも理由がなく，控訴人の請求を全部棄却した原判決は，結論において正\n当である。\nよって，主文のとおり判決する。\n知的財産高等裁判所第４部\n裁判長裁判官      髙    部    眞  規  子\n裁判官      田    中    芳    樹\n裁判官      柵    木    澄    子\n別紙１\n図３－１\n図３－２\n図４\n図８\n図９\n別紙２\n【図１】\n【図２】\n【図８ａ】\n【図８ｂ】\n【図１１】\n別紙３\n図１\n図２\n図８\n"
}