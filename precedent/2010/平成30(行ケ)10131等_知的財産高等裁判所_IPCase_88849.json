{
  "trial_type": "IPCase",
  "date": {
    "era": "Reiwa",
    "year": 1,
    "month": 7,
    "day": 22
  },
  "case_number": "平成30(行ケ)10131等",
  "case_name": "審決取消請求事件",
  "court_name": "知的財産高等裁判所",
  "right_type": "特許権",
  "lawsuit_type": "行政訴訟",
  "lawsuit_id": "88849",
  "detail_page_link": "https://www.courts.go.jp/app/hanrei_jp/detail7?id=88849",
  "full_pdf_link": "https://www.courts.go.jp/app/files/hanrei_jp/849/088849_hanrei.pdf",
  "contents": "令和元年７月２２日判決言渡\n平成３０年（行ケ）第１０１３１号  審決取消請求事件（第１事件）\n平成３０年（行ケ）第１０１２６号  審決取消請求事件（第２事件）\n口頭弁論終結日  平成３１年４月１５日\n判           決\n第１事件原告・第２事件被告  株 式 会 社 ア イ シ ー エ ム\n（以下「原告」という。）\n同訴訟代理人弁護士        長    沢      幸      男\n笹    本              摂\n同訴訟代理人弁理士        辻󠄀    田    朋    子\n南    山      知      広\n河    合              章\n第１事件被告・第２事件原告  株 式 会 社 湯 山 製 作 所\n第１事件被告・第２事件原告  株 式 会 社 シ ス テ ム ヨ シ イ\n（以下，上記両名を併せて「被告ら」という。）\n上記両名訴訟代理人弁護士    飯    島              歩\n藤     田    知     美\n真     鍋     怜     子\n町     野         静\n松     下         外\n村     上     友     紀\n溝     上     武     尊\n上記両名訴訟代理人弁理士    横    井      知      理\n主        文\n１  原告の請求を棄却する。\n２  特許庁が無効２０１７－８０００３２号事件について平成３０\n年７月３０日にした審決のうち，「特許第４５３７５２７号の請\n求項１ないし４，６，８に係る発明についての特許を無効とする。」\nとの部分を取り消す。\n３  訴訟費用は，原告の負担とする。\n事実及び理 由\n第１  請求\n１  第１事件\n特許庁が無効２０１７－８０００３２号事件について平成３０年７月３０日\nにした審決のうち，「特許第４５３７５２７号の請求項５，７，９に係る発明\nについての審判請求は，成り立たない。」との部分を取り消す。\n２  第２事件\n特許庁が無効２０１７－８０００３２号事件について平成３０年７月３０日\nにした審決のうち，「特許第４５３７５２７号の請求項１ないし４，６，８に\n係る発明についての特許を無効とする。」との部分を取り消す。\n第２  事案の概要\n１  特許庁における手続の経緯等\n(1)  被告らは，名称を「医薬品相互作用チェック装置」とする発明に係る特許\n権（特許第４５３７５２７号。出願日  平成１２年３月２８日，設定登録日\n平成２２年６月２５日。請求項の数９。以下，「本件特許権」といい，同特\n許権に係る特許を「本件特許」という。）の特許権者である（甲４３）。\n被告らは，平成２６年１月２２日，本件特許につき訂正審判請求をし，同\n年３月５日付けで請求成立の審決がされた（以下，この訂正を「本件訂正」\nという。）（乙１４）。\n(2)  原告は，平成２９年３月９日，本件特許につき特許庁に無効審判請求をし，\n特許庁は上記請求を無効２０１７－８０００３２号事件として審理した。\n(3)  特許庁は，平成３０年７月３０日，「特許第４５３７５２７号の請求項１\nないし４，６，８に係る発明についての特許を無効とする。特許第４５３７\n５２７号の請求項５，７，９に係る発明についての審判請求は，成り立たな\nい。」との審決（以下「審決」という。）をし，その謄本は，同年８月９日，\n原告及び被告らに送達された。\n(4)  被告らは平成３０年９月５日に，原告は同月１０日に，審決の取消しを求\nめてそれぞれ第２事件及び第１事件の訴えを提起した。\n２  特許請求の範囲の記載\n本件訂正後の本件特許の特許請求の範囲の請求項１～９の記載は，次のとお\nりである。以下，各請求項に係る発明を請求項の番号に従い「本件発明１」，\n「本件発明２」などといい，「本件発明」と総称する。本件訂正後の本件特許\nの明細書を，図面を含めて「本件明細書」という。また，本件明細書の図面の\n一部は，別紙本件明細書図面目録記載のとおりである。\n【請求項１】  一の医薬品から見た他の一の医薬品の場合と，前記他の一の医薬\n品から見た前記一の医薬品の場合の２通りの主従関係で，相互作用が発生する\n組み合わせを個別に格納する相互作用マスタを記憶する記憶手段と，\n入力された新規処方データの各医薬品を自己医薬品及び相手医薬品とし，自\n己医薬品と相手医薬品の組み合わせが，前記相互作用マスタに登録した医薬品\nの組み合わせと合致するか否かを判断することにより，相互作用チェック処理\nを実行する制御手段と，\n対象となる自己医薬品の名称と，相互作用チェック処理の対象となる相手医\n薬品の名称とをマトリックス形式の行又は列にそれぞれ表示し，前記制御手段\nによる自己医薬品と相手医薬品の間の相互作用チェック処理の結果を，前記マ\nトリックス形式の該当する各セルに表示する表示手段と，\nを備えたことを特徴とする医薬品相互作用チェック装置。\n【請求項２】  前記記憶手段に記憶する相互作用マスタは，相互作用が発生する\n組み合わせを，各医薬品の効能を定めた薬効コードの組み合わせとして格納す\nることを特徴とする請求項１に記載の医薬品相互作用チェック装置。\n【請求項３】  前記記憶手段は，相互作用が発生する医薬品の各組み合わせに対\nして，作用・機序を含む詳細情報を関連付けた作用マスタをさらに記憶し，\n前記制御手段は，前記相互作用チェック処理の結果が表示された各セルが指\n定されると，前記記憶手段に記憶した作用マスタに基づいて，相互作用につい\nての詳細情報を前記表示手段に表示させることを特徴とする請求項１又は２に\n記載の医薬品相互作用チェック装置。\n【請求項４】  前記記憶手段は，患者データを含む過去の処方データを蓄積した\n蓄積処方データをさらに記憶し，\n前記相手医薬品は，蓄積処方データの各医薬品を含むことを特徴とする請求\n項１から３のいずれか１項に記載の医薬品相互作用チェック装置。\n【請求項５】  前記表示手段は，自己医薬品の名称と相手医薬品の名称をマトリ\nックス形式の行又は列にそれぞれ表示し，相手医薬品が新規処方データの各医\n薬品である場合と，相手医薬品が蓄積処方データの各医薬品である場合とで切\n替可能に表示することを特徴とする請求項１から４のいずれか１項に記載の医\n薬品相互作用チェック装置。\n【請求項６】  前記表示手段に表示されたマトリックス形式の各セルに表示され\nる相互作用チェックの結果には，識別可能な記号で表示される併用注意と併用\n禁忌を含むことを特徴とする請求項１から５のいずれか１項に記載の医薬品相\n互作用チェック装置。\n【請求項７】  前記表示手段は，表示するマトリックス形式の画面中，新規処方\nデータの各医薬品に加えて，新たに医薬品を追加表示可能とする薬品追加ボタ\nンを備え，\n前記制御手段は，前記薬品追加ボタンが操作されることにより，前記表示手\n段に表示したマトリックス形式の画面中，新規処方データの各医薬品の名称が\n表示された行又は列に，新たな医薬品の名称を追加し，追加表示した自己医薬\n品と，相手医薬品との相互作用を再チェックすることを特徴とする請求項１か\nら６のいずれか１項に記載の医薬品相互作用チェック装置。\n【請求項８】  前記記憶手段は，相互作用マスタに登録された相互作用が発生す\nる医薬品の組み合わせのうち，相互作用チェック処理を除外した薬効コードの\n組み合わせについて格納する相互作用除外マスタを記憶し，\n前記制御手段は，前記相互作用マスタに基づいて相互作用チェック処理を実\n行した後，前記相互作用除外マスタを検索して該当する薬効コードの組み合わ\nせを除外することを特徴とする請求項１から６のずれか１項に記載の医薬品相\n互作用チェック装置。\n【請求項９】  前記記憶手段は，相互作用が発生する医薬品の組み合わせについ\nてのデータを薬効コードの組み合わせとして格納する相互作用共通マスタとは\n別に，各医療施設に応じて作成した相互作用個別マスタを記憶し，\n前記制御手段は，前記相互作用共通マスタに優先して，前記相互作用個別マ\nスタに基づく相互作用チェック処理を実行することを特徴とする請求項１から\n８のいずれか１項に記載の医薬品相互作用チェック装置。\n３  審決の理由の要旨\n(1)  原告は，①無効理由１として，本件発明１，６及び７について，本件出願\n日前に市販されていた医療用添付文書情報サービス「ＥＤＩＳ」（以下「Ｅ\nＤＩＳ」という。）により公然実施された発明（以下「引用発明１」という。）\nに基づく新規性欠如，②無効理由２として，本件発明１～９について，引用\n発明１，甲４，９，１３～２０，２２文献に記載された発明（周知技術を含\nむ。）及び技術常識に基づく進歩性欠如，③無効理由３として，本件発明１\n～９について，甲７文献に記載された発明（以下「引用発明２」という。），\n甲３，４，８，９，１３～２０，２２文献に記載された発明（周知技術を含\nむ。）及び技術常識に基づく進歩性欠如，④無効理由４として，本件発明１\n～９について，甲１４文献に記載された発明（以下「引用発明３」という。），\n甲３，６～１０，１８，１９，２２文献に記載された発明（周知技術を含む）\n及び技術常識に基づく進歩性欠如，⑤無効理由５として，本件発明１～９に\nついて，サポート要件違反を主張した。\n審決の理由は，別紙審決書（写し）記載のとおりであり，要するに，①無\n効理由１につき，下記(2)アの相違点が存在するから，特許法２９条１項２号\nに該当しない，②無効理由２，３につき，下記(2)ア，イの相違点に係る構成\nを当業者が容易に想到することができたとはいえないから，同条２項に該当\nしない，③無効理由４につき，本件発明１～４，６，８は下記(2)ウの相違点\n４－１，４－２，４－４，４－６に係る構成を当業者が容易に想到すること\nができたといえるから同項に該当し，本件発明５，７，９は下記(2)ウのその\n余の相違点に係る構成を当業者が容易に想到することができたとはいえない\nから同項に該当しない，④無効理由５につき，同法３６条６項１号に違反す\nる点はないというものである。なお，文献中の図面の一部は，文献の番号に\n応じた別紙図面目録記載のとおりである。\n甲３：「相互作用チェック機能を有する市販ソフト（システム）の紹介」\n薬局第49巻第1号258～270頁（１９９８年１月５日発行）\n甲４：「大学病院における医薬品情報提供(2)-金沢大学医学部付属病院」\n薬局第49巻第1号(1998)160～168頁\n甲６：「薬物間相互作用に関する入院患者への服薬指導の問題点と解決策」\n月刊薬事第38巻第3号(1997)441(861)～450(870)頁\n甲７：「FINE DI Weekly」第10巻30号「EDIS」の広告頁（１９９７年８月\n７日発行）\n甲８：１９９８年６月１３日当時の株式会社シュペールのウェブサイト\n甲９：「開局薬局での薬物間相互作用に関する服薬指導の問題点と解決策」\n月刊薬事第38巻第3号(2月臨時増刊号)(1996)451(871)～463(883)頁\n甲１０：「刊行物提出書 (特許2000-089076 刊行物3)」\n甲１３：特開平９－９９０３９号公報\n甲１４：特開平１１－１９５０７８号公報\n甲１５：「月刊薬事」Vol.8, No.2(1996)79(289)～86(296)頁\n甲１６：特開平４－２６０１７３号公報\n甲１７：「病院薬学」Vol.24No.5(1998),584-589頁\n甲１８：特開平９－９４２８７号公報\n甲１９：特開平１１－２８２９３４号公報\n甲２０：特開平８－５７０２１号公報\n甲２２：特開平１１－３０８５３９号公報\n(2)  審決が認定した引用発明，本件発明と引用発明１～３との一致点及び相違\n点は，以下のとおりである（審決が認定する相違点１－１と相違点２－１，\n相違点１－２と相違点２－２，相違点１－３と相違点２－３，相違点１－４\nと相違点２－４は同じであるので，以下においては，これらを区別せずに相\n違点１－１～１－４と表記する。）。\nア  引用発明１について\n(ｱ)  引用発明１\n「添付文書の情報をデータベース化した添付文書データベースを備え，\nＡ薬品とＢ薬品との間で，それぞれ添付文書に相互作用の記載がある\nかどうかを検索して，双方向でのチェックを行い，\n対象となる医薬品名とアルファベットを行に表示し，列にはアルファ\nベットのみを表示したマトリックス表示において，相互作用チェック結\n果を該当するセルに表示する\n相互作用チェックのシステム」\n(ｲ)  本件発明１と引用発明１の一致点\n「相互作用が発生する医薬品の情報を格納する相互作用マスタを記憶する\n記憶手段と，\n入力された各医薬品を自己医薬品及び相手医薬品とし，相互作用チェ\nック処理を実行する制御手段と，\n対象となる自己医薬品と，相互作用チェック処理の対象となる相手医\n薬品とをマトリックス形式の行又は列にそれぞれ表示し，前記制御手段\nによる自己医薬品と相手医薬品の間の相互作用チェック処理の結果を，\n前記マトリックス形式の該当する各セルに表示する表示手段と，\nを備えたことを特徴とする医薬品相互作用チェック装置」\n(ｳ)  本件発明１と引用発明１の相違点\n〔相違点１－１〕  本件発明１に係る「相互作用マスタ」は，「一の医薬\n品から見た他の一の医薬品の場合と，前記他の一の医薬品から見た前記\n一の医薬品の場合の２通りの主従関係で，相互作用が発生する組み合わ\nせを個別に格納」しているのに対し，引用発明１では，本件発明１に係\nる「相互作用マスタ」に対応する構成である「添付文書データベース」\n内のデータ格納構成が明らかでない点。\n〔相違点１－２〕  本件発明１では，入力された各医薬品が「新規処方デ\nータ」であるのに対し，引用発明１では，入力された各医薬品が「新規\n処方データ」であるのか否か明らかでない点。\n〔相違点１－３〕  本件発明１では，「自己医薬品と相手医薬品の組み合\nわせが，前記相互作用マスタに登録した医薬品の組み合わせと合致する\nか否かを判断」しているのに対し，引用発明１では，Ａ薬品とＢ薬品と\nの間で，それぞれ添付文書に相互作用の記載があるかどうかを検索して\nいるものの，それが本件発明１でいう「相互作用マスタ」と同様の構成\nを備えるものに対して実行されていない点。\n〔相違点１－４〕  本件発明１では，マトリックス形式の行又は列のそれ\nぞれに，医薬品の「名称」を表示しているのに対し，引用発明１では，\n医薬品の名称は，行にしか表示していない点。\nイ  引用発明２について\n(ｱ)  引用発明２\n「添付文書の情報をデータベース化した添付文書データベースを備え，\n相互作用チェックシステムは，医薬品間でそれぞれ添付文書に相互作\n用の記載があるかどうかを検索して，対象となる医薬品名とアルファベ\nットを行に表示し，列にはアルファベットのみを表示したマトリックス\n表示において，相互作用チェック結果を該当するセルに表示する\n医療用医薬品添付文書情報サービスを提供する装置」\n(ｲ)  本件発明１と引用発明２の一致点\n「相互作用が発生する医薬品の情報を格納する相互作用マスタを記憶する\n記憶手段と，\n入力された各医薬品を自己医薬品及び相手医薬品とし，相互作用チェ\nック処理を実行する制御手段と，\n対象となる自己医薬品と，相互作用チェック処理の対象となる相手医\n薬品とをマトリックス形式の行又は列にそれぞれ表示し，前記制御手段\nによる自己医薬品と相手医薬品の間の相互作用チェック処理の結果を，\n前記マトリックス形式の該当する各セルに表示する表示手段と，\nを備えたことを特徴とする医薬品相互作用チェック装置」\n(ｳ)  本件発明１と引用発明２の相違点\n〔相違点３－１〕  本件発明１に係る「相互作用マスタ」は，「一の医薬\n品から見た他の一の医薬品の場合と，前記他の一の医薬品から見た前記\n一の医薬品の場合の２通りの主従関係で，相互作用が発生する組み合わ\nせを個別に格納」しているのに対し，引用発明２では，相互作用マスタ\nに対応する構成である添付文書データベース内のデータ格納構成が明ら\nかでない点。\n〔相違点３－２〕  本件発明１では，入力された各医薬品が「新規処方デ\nータ」であるのに対し，引用発明２では，入力された各医薬品が「新規\n処方データ」であるのか否か明らかでない点。\n〔相違点３－３〕  本件発明１では，「自己医薬品と相手医薬品の組み合\nわせが，前記相互作用マスタに登録した医薬品の組み合わせと合致する\nか否かを判断」しているのに対し，引用発明２では，Ａ薬品とＢ薬品と\nの間で，それぞれ添付文書に相互作用の記載があるかどうかを検索して\nいるものの，それが本件発明１でいう「相互作用マスタ」と同様の構成\nを備えるものに対して実行されていない点。\n〔相違点３－４〕  本件発明１では，マトリックス形式の行又は列のそれ\nぞれに，医薬品の「名称」を表示しているのに対し，引用発明２では，\n医薬品の名称は，行にしか表示していない点。\nウ  引用発明３について\n(ｱ)  引用発明３\n「医薬品相互作用チェック装置であって，\n医薬品相互作用チェック装置は医薬品相互作用チェック結果を表示す\nるための表示装置１０と，チェックする医薬品を入力するための入力装\n置１１と，ＣＰＵ及びメモリ等の処理部１２と，あらかじめ用意された\n全ての医薬品に関するデータが作成記憶されているディスク１３と出力\n装置１６とから構成され，\n自己医薬品テーブル１０２には，予め医薬品入力１０１の過程により\n入力された処方される医薬品（自己医薬品）の医薬品マスターコードが\n記憶され，相手医薬品テーブル１０３には，処方履歴を基に抽出した患\n者が服用している医薬品（相手医薬品）及び処方される医薬品の医薬品\nマスターコードが記憶され，\n各医薬品に付される添付文書から抽出された医薬品に関する情報はコ\nード化されており，\n医薬品相互作用チェックマスタ１０４には，予め医薬品固有の情報が\n全て記憶され，医薬品相互作用チェックテーブル１０５には，医薬品間\nの相互作用の有無をチェックする情報が記憶されており，自己医薬品に\n対する自己テーブル部４０１と相手医薬品に対する相手テーブル部４０\n２（図４を参照）とを含み，\n医薬品相互作用コメントファイル１０６には，医薬品の相互作用の結\n果をコメントとして提供するための文字情報がコメントコードと共に記\n憶され，\n医薬品相互作用機序ファイル１０７には，医薬品相互作用の機序が文\n字情報として相互作用機序コードと共に記憶され，\n検索前処理８０１では，\n処方される医薬品として入力装置１１に入力された自己医薬品の医薬\n品マスターコードを基に，一般名コード，薬効分類コード，ＢＯＸコー\nドを医薬品相互作用チェックマスタ１０４から検索して自己医薬品のそ\nれぞれのコードを確定し，\n処方履歴等を基に抽出された相手医薬品の医薬品マスターコードを基\nに一般名コード，薬効分類コード，ＢＯＸコードを医薬品相互作用チェ\nックマスタ１０４から検索して相手医薬品のそれぞれのコードを確定し，\n相互作用チェックテーブルの検索処理８０２では，\n医薬品相互作用チェックテーブル１０５から自己テーブル部４０１の\n検索が行われ，\n検索前処理８０１で検索した自己医薬品の一般名コードが，医薬品相\n互作用チェックテーブル１０５の自己テーブル部４０１に存在するか否\nかの検索が行われ，同様にして，薬効分類コードとＢＯＸコードについ\nても検索が行われ，\nそれぞれの検索で存在したコードに関するデータは処方医薬品相互作\n用チェックテーブルＴの形態で一時記憶テーブル１１０に記憶され，\n一時記憶テーブル１１０に記憶したデータから相手テーブル部４０２\nの検索が行われ，\n検索前処理８０１で検索した相手医薬品の一般名コードが前記一時記\n憶テーブル１１０の相手テーブル部４０２に存在しているかの検索が行\nわれ，同様にして薬効分類コードとＢＯＸコードについても検索が行わ\nれ，\nそれぞれの検索でコードが存在する場合には，処方する自己医薬品に\nは患者が服用している医薬品あるいは処方する医薬品（相手医薬品）と\nの間に相互作用を有する組み合わせが存在することになり，\n検索後処理８０３では，\n前記相互作用チェックテーブルの検索処理８０２で相互作用を有する\n医薬品の組み合わせが存在した場合のコメントテーブル部４０３の作成\nが行われ，\n検索された医薬品相互作用チェック結果は，表示装置１０に画面表示\nされ，\n表示欄には，入力された自己医薬品名と，患者の処方履歴に記載され\nた調剤日と医療機関名，及び，相手医薬品名と，相互作用コメントファ\nイルから抽出された相互作用コメントと，医薬品相互作用機序ファイル\nから抽出された相互作用機序が表示される\n医薬品相互作用チェック装置」\n(ｲ)  本件発明１と引用発明３の一致点\n「一の医薬品から見た他の一の医薬品の場合と，前記他の一の医薬品から\n見た前記一の医薬品の場合の２通りの主従関係で，相互作用が発生する\n組み合わせを個別に格納する相互作用マスタを記憶する記憶手段と，\n入力された新規処方データの各医薬品を自己医薬品及び相手医薬品と\nし，自己医薬品と相手医薬品の組み合わせが，前記相互作用マスタに登\n録した医薬品の組み合わせと合致するか否かを判断することにより，相\n互作用チェック処理を実行する制御手段と，\n前記制御手段による自己医薬品と相手医薬品の間の相互作用チェック\n処理の結果を，表示する表示手段と，\nを備えたことを特徴とする医薬品相互作用チェック装置」\n(ｳ)  相違点\n本件発明１～９との相違点は次の相違点４－１であり，これに加え，\n本件発明３との相違点は次の相違点４－２，本件発明５との相違点は次\nの相違点４－３，本件発明６との相違点は次の相違点４－４，本件発明\n７との相違点は次の相違点４－５，本件発明８との相違点は次の相違点\n４－６，本件発明９との相違点は次の相違点４－７である。\n〔相違点４－１〕  本件発明１では，「対象となる自己医薬品の名称と，\n相互作用チェック処理の対象となる相手医薬品の名称とをマトリックス\n形式の行又は列にそれぞれ表示し」，相互作用チェック処理の結果を，\n「前記マトリックス形式の該当する各セルに表示」しているのに対し，\n引用発明３では，マトリックス形式で表示していない点。\n〔相違点４－２〕  本件発明３では，「前記制御手段は，前記相互作用チ\nェック処理の結果が表示された各セルが指定されると，前記記憶手段に\n記憶した作用マスタに基づいて，相互作用についての詳細情報を前記表\n示手段に表示させる」のに対し，引用発明３では，セルの指定なしに「検\n索された医薬品相互作用チェック結果」として「医薬品相互作用機序フ\nァイルから抽出された相互作用機序が表示」している点。\n〔相違点４－３〕  本件発明５では，「前記表示手段は，自己医薬品の名\n称と相手医薬品の名称をマトリックス形式の行又は列にそれぞれ表示し，\n相手医薬品が新規処方データの各医薬品である場合と，相手医薬品が蓄\n積処方データの各医薬品である場合とで切替可能に表示する」のに対し，\n引用発明３では，相互作用のある医薬品の組み合わせについてその相互\n作用機序を文章で表示している点。\n〔相違点４－４〕  本件発明６では，「表示手段に表示されたマトリック\nス形式の各セルに表示される相互作用チェックの結果には，識別可能な\n記号で表示される併用注意と併用禁忌を含む」のに対し，引用発明３で\nは，相互作用のある医薬品の組み合わせについてその相互作用機序を文\n章で表示している点。\n〔相違点４－５〕  本件発明７では，「前記表示手段は，表示するマトリ\nックス形式の画面中，新規処方データの各医薬品に加えて，新たに医薬\n品を追加表示可能とする薬品追加ボタンを備え，前記制御手段は，前記\n薬品追加ボタンが操作されることにより，前記表示手段に表示したマト\nリックス形式の画面中，新規処方データの各医薬品の名称が表示された\n行又は列に，新たな医薬品の名称を追加し，追加表示した自己医薬品と，\n相手医薬品との相互作用を再チェックする」のに対し，引用発明３では，\n相互作用のある医薬品の組み合わせについてその相互作用機序を文章で\n表示している点。\n〔相違点４－６〕  本件発明８では，「前記記憶手段は，相互作用マスタ\nに登録された相互作用が発生する医薬品の組み合わせのうち，相互作用\nチェック処理を除外した薬効コードの組み合わせについて格納する相互\n作用除外マスタを記憶し，前記制御手段は，前記相互作用マスタに基づ\nいて相互作用チェック処理を実行した後，前記相互作用除外マスタを検\n索して該当する薬効コードの組み合わせを除外する」のに対し，引用発\n明３では，相互作用が発生する医薬品の組み合わせを除外する処理を行\nっていない点。\n〔相違点４－７〕  本件発明９では，「前記記憶手段は，相互作用が発生\nする医薬品の組み合わせについてのデータを薬効コードの組み合わせと\nして格納する相互作用共通マスタとは別に，各医療施設に応じて作成し\nた相互作用個別マスタを記憶し，前記制御手段は，前記相互作用共通マ\nスタに優先して，前記相互作用個別マスタに基づく相互作用チェック処\n理を実行する」のに対し，引用発明３では，相互作用共通マスタとは別\nの各医療施設に応じて作成した相互作用個別マスタを備えていない点。\n４  取消事由\n（第２事件）\n被告取消事由１：本件発明１に関する進歩性判断の誤り（無効理由４）\n被告取消事由２：本件発明２に関する進歩性判断の誤り（無効理由４）\n被告取消事由３：本件発明３に関する進歩性判断の誤り（無効理由４）\n被告取消事由４：本件発明４に関する進歩性判断の誤り（無効理由４）\n被告取消事由５：本件発明６に関する進歩性判断の誤り（無効理由４）\n被告取消事由６：本件発明８に関する進歩性判断の誤り（無効理由４）\n（第１事件）\n原告取消事由１：本件発明５，７，９に関する引用発明１に基づく新規性，進\n歩性判断の誤り（無効理由１，２）\n原告取消事由２：本件発明５，７，９に関する引用発明２に基づく進歩性判断\nの誤り（無効理由３）\n原告取消事由３：本件発明５，７，９に関する引用発明３に基づく進歩性判断\nの誤り（無効理由４）\n第３  被告ら主張の取消事由\n１  被告取消事由１（本件発明１に関する進歩性判断の誤り）について\n(1)  相違点の認定について\nア  本件発明１について\n(ｱ)  「相互作用マスタ」の構成\nａ  本件発明１の「相互作用マスタ」の「一の医薬品」は，商品名で特\n定される場合や一般名で特定される場合もあり，また，本件発明２の\nように薬効コードで特定される場合もあるため，ある程度の幅を許容\nする概念であるが，「一の医薬品」は，クレーム上「他の一の医薬品」\nを相手医薬品として「個別に」，すなわち，「１対１」の関係で格納\nされる以上，自己医薬品と相手医薬品とは，同じ基準ないし粒度で特\n定されるものであることが必要である。\nさらに，「２通りの主従関係」が成立するためには，その前提として，\n「一の医薬品」と「他の一の医薬品」の対応関係がデータ構造上維持さ\nれていることが必要になる。相互作用が発生する組み合わせが「１対\n１」であることが明記されているのだから，「個別に格納」とは，やは\nり，相互作用が発生する医薬品の「１対１」の組み合わせを格納するデ\nータ格納構成を意味する。\n以上によれば，本件発明１の「個別に格納」は，①一の医薬品と他の\n一の医薬品を「１対１」の組み合わせ，すなわち，同一の基準又は粒度\nで格納し（以下「同一粒度」という。），かつ，②他の組み合わせと分\n離して格納すること（以下「分離格納」という。）を意味し，「１対多」\nとなる場合を含まない。\nｂ  医薬品の添付文書の記載には統一されたフォーマットがあるわけで\nはなく，相互作用を生じる可能性のある医薬品の特定方法として，医\n薬品の商品名，一般名（主成分），効能など区々に分かれており，相\n互作用を生じる医薬品として，例えば，「降圧剤」等薬効に着目した\n記載や，化合物の名称のみを記載することは少なくない。そのため，\n相互作用の有無を判断するに当たっては，必然的に添付文書等の薬学\n的な解釈が求められ，「相互作用マスタ」には，相互作用に関する情\n報として，薬学的判断を経た相互作用の有無や内容に関する情報（以\n下，二重括弧で『相互作用情報』という。）が保有される。つまり，\n「相互作用マスタ」は，単なる添付文書情報ではなく，「一の医薬品」\nと「他の一の医薬品」との間で，薬学的判断を経た「相互作用が発生\nする組み合わせ」を，その『相互作用情報』と共に記録するものであ\nる。\n例えば，医薬品Ａが降圧剤との併用禁忌であって，降圧剤が，医薬品\nＢ，Ｃ及びＤと３種類存在する場合，上記のテーブルには，自己医薬品\nに医薬品Ａが記憶され，相互作用に「併用禁忌」と記載されたレコード\nが，医薬品Ｂ，医薬品Ｃ，医薬品Ｄとの間で「個別に」作成される。\n自己医薬品  相手医薬品  相互作用\n1  医薬品A  医薬品B（降圧剤）  併用禁忌\n2  医薬品A  医薬品C（降圧剤）  併用禁忌\n3  医薬品A  医薬品D（降圧剤）  併用禁忌\nｃ  原告の主張について\n(a)  原告は，被告らが主張する同一粒度及び分離格納について，審判\n手続で審理の俎上に上っておらず，審決取消訴訟において審理の対\n象とされるべきではないと主張するが，同一粒度及び分離格納は，\n本件発明１の「個別に格納」の解釈論に他ならず，審判手続におい\nて審理されている。\n(b)  原告は，本件発明１は，「個別に格納」という構成によってデー\nタ格納方式まで特定していると解することはできず，リレーショナ\nルデータベースの形式による格納方式もツリー構造での格納方式も\n取り得ると主張するが，本件発明１においては，相互作用が発生す\nる組み合わせが単数対単数，つまり「１対１」である必要があるの\nであるから，「個別に格納」とは，相互作用が発生する医薬品の「１\n対１」の組み合わせを格納するデータ格納構成を意味するのであり，\n「相互作用マスタ」においてデータ格納構成が特定されておらず，\nツリー構造の格納方式も採用し得ると解することはできない。\n(c)  原告は，平成２１年１２月２５日付意見書（甲２４）の記載を根\n拠に「個別に格納」とは，医薬品を区別する意味にすぎないと主張\nするが，原告が指摘する記載は，「２通りの主従関係」に関するも\nのであり，「個別に格納」の解釈に影響を与えない。原告の指摘す\nる平成２２年１月２０日付け拒絶理由通知書（甲３４）の記載は，\n検索過程に関するものであるから「相互作用マスタ」の構成が問題\nとされたものではない。また，被告らは，拒絶理由通知書の認定を\n争っている。\n(ｲ)  「相互作用チェック処理」の構成\n本件発明１の「相互作用チェック処理」は，「入力された新規処方デ\nータの各医薬品を自己医薬品及び相手医薬品とし，自己医薬品と相手医\n薬品の組み合わせが，前記相互作用マスタに登録した医薬品の組み合わ\nせと合致するか否かを判断する」ものであるから，相互作用を確認する\n２つの医薬品をそれぞれ自己医薬品及び相手医薬品として，つまり，主\n従を入れ替えた２つの検索条件で，「相互作用マスタ」の検索を行うも\nのである。前記(ｱ)のとおり，「相互作用マスタ」には，「一の医薬品」\nと「他の一の医薬品」に関する『相互作用情報』が「２通りの主従関係」\nで，「個別に格納」されているから，実際の検索は，「（自己医薬品＝\n医薬品Ａ かつ 相手医薬品＝医薬品Ｂ）又は（「自己医薬品＝医薬品Ｂ\nかつ 相手医薬品＝医薬品Ａ」）」というひとつの検索条件で簡易，迅速\nに行うことができる。\nイ  引用発明３について\n(ｱ)  「医薬品相互作用チェックテーブル１０５」の構成\nａ  「医薬品相互作用チェックテーブル１０５」には，添付文書から抽\n出された医薬品に関する情報をコード化した情報が保有される（甲１\n４文献の【０００８】）。\n前記ア(ｱ)ｂのとおり，医薬品の添付文書には，その医薬品との関係\nで相互作用を生じる医薬品が包括的に記載されているから「医薬品相\n互作用チェックテーブル１０５」が保有するのは，自己医薬品に対し，\n相手医薬品が広い範囲で特定され，「１対多」の関係で構成された，相\n互作用の有無や内容を判断するための基礎情報（以下，二重括弧で『相\n互作用の基礎情報』という。）である。\nｂ  甲１４文献の【００１７】【００１９】及び【図４】によれば，引\n用発明３の「医薬品相互作用チェックテーブル１０５」の「自己テー\nブル部４０１」や「相手テーブル部４０２」は，『相互作用の基礎情\n報』としての添付文書の内容を，一般名コード（一般名すなわち薬効\n成分となる化合物のコード），薬効分類コード（医薬品の効能効果を\n分類したコード），ＢＯＸコード（発明者が独自に体系化し，コード\n化したものではあるが，内容は，添付文書に記載された医薬品の構造\n式・薬理作用・剤型等からなるもの）という観点から整理・コード化\nした情報を記録するためのフィールドによって構成されているといえ\nる。\nｃ  さらに，「医薬品相互作用チェックテーブル１０５」に保有される\nのは，添付文書の生の記載情報をコード化した情報であるから，適切\nなコード化が技術的に困難である事項及び添付文書にそもそも記載の\nない事項については，フィールドに記憶すべきデータが存在しない。\n「医薬品相互作用チェックテーブル１０５」において，自己医薬品\nについては，添付文書の記載によってこれらの全部が特定可能である\nから，「自己テーブル部４０１」の一般名，薬効分類，ＢＯＸの全部\nの組み合わせによって特定される。これに対し，「相手テーブル部４\n０２」には，一般名，薬効分類，ＢＯＸの少なくともいずれかひとつ\nに情報が記録された状態になるため，相手医薬品は，添付文書の記載\n態様により，一般名，薬効分類，ＢＯＸのいずれか又はそれらの組み\n合わせによって特定されることとなる。\n以上から，「医薬品相互作用チェックテーブル１０５」は，個々の\n添付文書の記載態様に応じて，「自己テーブル部４０１」にある一の\n自己医薬品が記録されるのに対して，「相手テーブル部４０２」には，\n自己医薬品との間で相互作用が生じる可能性のある相手医薬品が包括\n的に記録される構造となっている。\nｄ  なお，甲１４文献の【図２】のとおり，「自己医薬品テーブル１０\n２」と「相手医薬品テーブル１０３」は，相互作用チェックを行う際\nに入力される医薬品を記憶するための構成であるのに対して，「医薬\n品相互作用チェックテーブル１０５」は，予め添付文書の情報をコー\nド化して記憶するものであるから，両者は全く機能を異にしており，\n前２者と後１者を一体として取り扱う理由はない。\n(ｲ)  引用発明３の検索過程の構成\nａ  引用発明３の検索処理のうち，「検索前処理８０１」は，「医薬品\n相互作用チェックマスタ１０４」から一般名コード等を取得するプロ\nセスであり，実際の検索処理は「相互作用チェックテーブルの検索処\n理８０２」において行われるところ，その処理過程を単純化すると，\n次のとおりである（別紙「被告ら主張の引用発明３の構成」参照）。\n①  自己医薬品の一般名コード，薬効分類コード，ＢＯＸコードのそ\nれぞれに基づき，「医薬品相互作用チェックテーブル１０５」の\n「自己テーブル部４０１」を検索し，自己医薬品に関する情報が\n記録されたレコードを抽出し，これを「一時記憶テーブル１１０」\nに書き出す。\n②  相手医薬品の一般名コード，薬効分類コード，ＢＯＸコードのそ\nれぞれに基づいて，「一時記憶テーブル１１０」内の「相手テー\nブル部４０２」を検索し，相手医薬品に関する情報が記録された\nレコードを抽出する。\nｂ  上記①の過程（以下「自己テーブル検索過程」という。）\n相互作用を確認する自己医薬品と同一の一般名コード，薬効分類コ\nード，ＢＯＸコードが「自己テーブル部４０１」に登録されたデータ\nを「医薬品相互作用チェックテーブル１０５」から抽出する作業であ\nる。前記(ｱ)ａのとおり，「医薬品相互作用チェックテーブル１０５」\nには，添付文書の内容をコード化した情報が格納されているから，自\n己テーブル検索過程で抽出されるのは自己医薬品に関する添付文書の\n内容であり，抽出結果が書き出された「一時記憶テーブル１１０」に\nは，コード化された添付文書の内容が列挙されることとなる。\nそして，「医薬品相互作用チェックテーブル１０５」には商品レベ\nルでの医薬品情報は格納されておらず，一般名（薬効成分）で情報が\n格納されているため，一般名で特定されるある医薬品に，先発薬のほ\nか，薬効成分を同じくするいわゆるジェネリック医薬品が存在する場\n合には，複数のデータが抽出されることになる。\nまた，相互作用が問題になる相手医薬品の薬効分類コードが複数あ\nる場合にも，複数のレコードが作成されることになると考えられるか\nら，この場合にも自己テーブル検索過程で複数のデータが抽出される。\nさらに，自己テーブル検索過程では，一般名コード，薬効分類コー\nド，ＢＯＸコードの「それぞれ」の検索結果が全て抽出されるため，\n入力された自己医薬品と同一の一般名，同一の薬効又は同一のＢＯＸ\nコードを有する医薬品の添付文書情報が全て抽出される。\nしたがって，自己テーブル検索過程では，自己医薬品及びそのジェ\nネリック医薬品又は同一薬効若しくは同一ＢＯＸコードを有する医薬\n品に関する添付文書のデータが網羅的に抽出され，「一時記憶テーブ\nル１１０」に書き出される。\nｃ  上記②の過程（以下「相手テーブル検索過程」という。）\n相手医薬品の一般名コード，薬効分類コード，ＢＯＸコードのそれ\nぞれに基づいて「一時記憶テーブル１１０」の「相手テーブル部４０\n２」を検索し，相手医薬品に関連する情報の絞り込みが行われる。\n相手テーブル検索過程においても，自己テーブル検索過程と同様，\n一般名コード，薬効分類コード，ＢＯＸコードのそれぞれについて検\n索が行われる。そのため，相手テーブル検索過程を経て得られたデー\nタは，入力された相手医薬品又はそのジェネリック医薬品若しくは同\n一薬効，同一ＢＯＸコードの医薬品等に関するデータとなる。\nｄ  このように，引用発明３における検索過程において，相手医薬品を\n自己医薬品とする双方向の検索過程，すなわち，「相手テーブル部４\n０２」で絞り込まれた相手医薬品を自己医薬品として「一時記憶テー\nブル１１０」を構築し，「自己テーブル部４０１」から抽出された情\n報に基づき再検索する過程は一切開示されておらず，また，その示唆\nもない。\nｅ  以上によれば，引用発明３における検索過程は，以下のとおり特定\nすることができる。\ni.  入力された新規処方データの各医薬品の一方を自己医薬品と\nし，\nii.  自己医薬品，そのジェネリック医薬品，自己医薬品と同一薬効\nコード又はＢＯＸコードを有する医薬品を自己医薬品群とし，\niii.  相手医薬品，そのジェネリック医薬品，相手医薬品と同一薬効\nコード又はＢＯＸコードを有する医薬品を相手医薬品群とし，\niv.  自己医薬品群のいずれかの医薬品と，相手医薬品群のいずれか\nの医薬品との組み合わせが，医薬品相互作用チェックテーブル\n１０５に登録されているか否かを判断する\nv.  相互作用の検索過程\nｆ  審決は引用発明３の検索過程が本件発明１の「相互作用チェック処\n理」に該当するとしたが，甲１４文献には，引用発明３で記載された\n検索を，医薬品の主従を入れ替えて繰り返すという記載も示唆もない。\n本件特許の出願時において，医薬品の相互作用の確認を目的とするシ\nステムを提供する当業者の間に，「医薬品相互作用チェックを行うと\nの観点からすると，医薬品の主従を入れ替えてチェックを繰り返すこ\nとは当然のことである」との技術常識はなく，現に，そのような検索\n機能を実装したシステムは存在していない。２つの医薬品がある場合\nに，薬剤師が双方の添付文書を確認することの重要性は，本件特許の\n出願時においてようやく一部の専門家の間で認識され始めた状況であ\nったし，ましてや，双方向からの添付文書の確認をシステムによって\n実現することが技術常識と呼びうる環境にはおよそなかった。審決の\n認定は，典型的な後知恵である。\nウ  本件発明１と引用発明３の対比\n(ｱ)  引用発明３の「医薬品相互作用チェックテーブル１０５」は，自己医\n薬品を一般名，薬効分類，ＢＯＸの全部の組み合わせによって特定する\nものである一方，相手医薬品は，一般名，薬効分類，ＢＯＸのいずれか\nによって特定されるため，一般名，薬効分類，ＢＯＸの組み合わせで特\n定される自己医薬品に対し，相互作用を生じる可能性のある医薬品を包\n括的に記録するものである。したがって，「医薬品相互作用チェックテ\nーブル１０５」は，「１対１」ではなく「１対多」，「多対多」の相互\n作用情報を格納するものであるから，本件発明１の「個別に格納」の構\n成を有するものではない。\nまた，引用発明３の「医薬品相互作用チェックテーブル１０５」は，\n特定の自己医薬品（「一の医薬品」）から見た特定の相手医薬品（「他\nの一の医薬品」）の組み合わせを観念することはできない。このように，\n「一の医薬品から見た他の一の医薬品」の組み合わせを観念できないか\nら，「前記他の一の医薬品から見た前記一の医薬品」という組み合わせ\nも観念することはできず，「２通りの主従関係」が成立することは，「医\n薬品相互作用チェックテーブル１０５」のデータ構造上論理的にあり得\nない。\nよって，引用発明３の「医薬品相互作用チェックテーブル１０５」は\n本件発明１の「相互作用マスタ」に相当するものではない。\n(ｲ)  本件発明１と引用発明３の検索過程は次の点で相違する。\nａ  相違点１\n引用発明３の検索過程は，「入力された新規処方の一方を自己医薬\n品と（する）」ものであるのに対し，本件発明１は，「入力された新\n規処方データの各医薬品を自己医薬品及び相手医薬品と（する）」も\nのであるから，この点において両者は相違する。\nｂ  相違点２\n本件発明１は，「自己医薬品と相手医薬品の組み合わせ」を検索す\nるものであるのに対し，引用発明３は，「自己医薬品群のいずれかの\n医薬品と，相手医薬品群のいずれかの医薬品との組み合わせ」を検索\nするものであるから，この点において両者は相違する。なお，「自己\n医薬品」や「相手医薬品」は，一定の幅を持ちうる概念であり，その\n限りで一般名や薬効分類で抽象化することが不可能ではないが，本件\n発明１が入力された新規処方データの各医薬品の主従を入れ替えて検\n索を行うものであることを考えると，「自己医薬品と相手医薬品の組\nみ合わせ」を検索する上では，両者の抽象化の基準を同一にし，抽象\n化された限りでは１対１の対応関係が維持されていなければならない。\n引用発明３においては，自己医薬品群にも相手医薬品群にも，自己テ\nーブル検索過程で抽出された複数のデータが含まれるから，多対多の\n関係が生じることとなる。そのため，引用発明３は，「自己医薬品と\n相手医薬品の組み合わせ」について検索を行うものとはいえない。\nｃ  相違点３\n本件発明１は，「前記相互作用マスタに登録した医薬品の組み合わ\nせと合致するか否かを判断する」ものであるところ，上述のとおり，\n引用発明３の「医薬品相互作用チェックテーブル１０５」は，添付文\n書情報をコード化したものであって，同一の基準で抽象化された医薬\n品の組み合わせが登録されているわけではなく，検索の過程において\nも，一般名コード，薬効分類コード，ＢＯＸコードのそれぞれについ\nての検索が，自己医薬品及び相手医薬品について順次行われており，\n「相互作用マスタに登録した医薬品の組み合わせと合致するか否かを\n判断」する過程は存在しない。したがって，引用発明３の検索過程は，\n「前記相互作用マスタに登録した医薬品の組み合わせと合致するか否\nかを判断する」ものとはいえない。\nエ  小括\n以上のとおり，審決は本件発明１と引用発明３の相違点を看過したもの\nであり，この誤りは，本件発明１の進歩性を否定した審決の結論に影響を\n及ぼすことは明らかであるから，審決の上記部分は取り消されるべきであ\nる。\n(2)  容易想到性の判断について\nア  審決は，引用発明３に甲６～１０文献により認定された技術事項を適用\nすることにより，相違点４－１に係る構成に容易に想到することができる\nと判断したが，誤りである。\nイ  技術事項の認定\n審決は，甲６～１０文献から，「薬物間の相互作用をマトリックス形式\nで表示する」技術事項（以下「技術事項甲６－１０」という。）を，また，\n特に甲７～１０文献から次の技術事項（以下「技術事項甲７－１０」とい\nう。）を認定できるとする。\nm. 相互作用をチェックするシステムにおいて，\nn. 医薬品の対象となる自己医薬品の名称と，相互作用チェック処理の対\n象となる相手医薬品の名称とをマトリックス形式の行又は列にそれぞ\nれ表示し，\no. 自己医薬品と相手医薬品の間の相互作用チェック処理の結果を，前記\nマトリックス形式の該当する各セルに表示する\nしかし，甲６～１０文献には，相互作用チェックとは無関係な発明や，\n双方向の相互作用のチェックを行うもの，あるいは，一方向の「相互作用\nの確認」を行うものが含まれており，その技術思想はそれぞれ異なり，ひ\nとくくりに技術事項を読み取ることはできない。\nウ  相違点４－１の容易想到性\n(ｱ)  甲６～１０文献で用いられる「相互作用チェック」の意味内容はそれ\nぞれ異なり，これらから，「相互作用のチェックの結果をユーザに提供\nする」という共通の課題を認定したり，「各薬品間の関係を一覧表示で\nき，ユーザの視認性を高める」との共通の一般的効果を認定したりする\nことはできない。また，引用発明３の「医薬品相互作用チェックテーブ\nル１０５」には，「併用注意」，「併用禁忌」といった情報が記憶され\nるフィールドは存在せず，そもそもマトリックス表示する意味がない。\n(ｲ)  相互作用チェックの結果をどのように表示するかは，相互作用の確認\n結果としてどのような情報を提供するかを前提問題とするものであると\nころ，引用発明３においては，本件発明に見られるような詳細かつ適切\nな情報を提供するという技術思想は開示されていない。相互作用の確認\n結果は，文字情報のみで表示する構成も考えうるところであり，それが\n特に見にくいというわけでもない（甲１４文献の【図７】【図８】）。\nそもそも，引用発明３のように，一方向からの「相互作用の確認」を\n行う場合には，マトリックス表示を行う必要がなく，むしろ，マトリッ\nクス表示は有害である。\nすなわち，一方向からの相互作用チェックの結果をマトリックス表示\nした場合，その表示内容は，常に対角線を軸として線対称となるから，\n相互作用情報を一次元で表示する場合と比較して，なんら付加的な情報\nを提供しないばかりか，むしろ，データ量が増えたり，表示のためによ\nり多くの画面上の面積が必要になったりするとのデメリットのみが残る。\nそのため，一方向からの相互作用チェックを行う発明に接した当業者に\nは，マトリックス表示を選択する動機付けが生じることがないのである。\nマトリックス表示が意味を持つのは，相互作用確認結果の表示一般で\nはなく，「相互作用マスタ」による双方向の相互作用確認の結果を表示\nする場合に限定されるのであるから，引用発明３とマトリックス表示を\n開示した副引例を組み合わせることに容易性はなく，この点を看過した\n審決には，容易性判断の誤りがあるものというべきである。\n(ｳ)  引用発明３における相互作用情報の検索に際しては，自己医薬品が，\n一般名コード，薬効分類コード，ＢＯＸコードのそれぞれについて，自\n己テーブル部と相手テーブル部が，一時ファイルを通じて順次検索され\nるため，自己医薬品群と相手医薬品群という「多対多」の検索結果が抽\n出される。つまり，引用発明３の検索結果は，１対１の対応関係を維持\nしたものではなく，特定の自己医薬品と相手医薬品との組み合わせに関\n係する可能性のある添付文書情報が，当該自己医薬品や相手医薬品に関\nするものに限らず，自己医薬品「群」を「主」として片端から羅列され\nる，というものである。このような状態を表示するには，添付文書情報\nを単純に縦１列に列挙するか，あるいは，添付文書情報ごとに相手医薬\n品の候補となり得る医薬品を列挙したツリー構造のような表示方法が適\n切であり，医薬品を縦横に並べたマトリックス表示を生成することはで\nきない。さらに，仮に，この検索を双方向で行った場合には，「多対多」\nの組み合わせが２つ生じることとなるから，その表示手段としてマトリ\nックス表示を用いることなど不可能になるし，何らかの工夫をして無理\nやりマトリックス表示をしたとしても，利用に耐えるものとはならない。\nしたがって，引用発明３にマトリックス表示を組み合わせることには阻\n害事由がある。\nエ  小括\n以上のとおり，審決の相違点４－１の容易想到性の判断には誤りがある\nから，審決のうち本件発明１を無効とした部分は取り消されるべきである。\n(3)  結論\nよって，審決のうち本件発明１を無効とした部分は取り消されるべきであ\nる。\n２  被告取消事由２（本件発明２に関する進歩性判断の誤り）について\n審決において，本件発明１と引用発明３の相違点を看過し，その誤りが本件\n発明１を無効とする審決の判断に影響するものであること，相違点４－１の容\n易想到性の判断にも誤りがあることは，前記１記載のとおりである。\nこれらの点は，本件発明１を引用する本件発明２にも妥当するから，審決の\nうち本件発明２を無効とした部分は取り消されるべきものである。\n３  被告取消事由３（本件発明３に関する進歩性判断の誤り）について\n(1)  本件発明１について\n審決において，本件発明１と引用発明３の相違点を看過し，その誤りが本\n件発明１を無効とする審決の判断に影響するものであること，相違点４－１\nの容易想到性の判断にも誤りがあることは，前記１記載のとおりである。\nこれらの点は，本件発明１を引用する本件発明３にも妥当する。\n(2)  本件発明３の付加的構成について\nア  審決は，本件発明３における本件発明１の付加的構成に係る相違点４－\n２の構成は容易に想到することができると判断したが，誤りである。\nすなわち，引用発明３は，相互作用表示の結果をマトリックス表示する\n構成を開示していないことから，マトリックス表示をまずは採用しなけれ\nば，詳細表示にまでたどり着くことができず，本件発明３の構成に想到す\nることは一層困難である。\nまた，引用発明３と，甲９文献から明らかになるのは，相互作用チェッ\nクの結果をマトリックス表示し，かつ，必要に応じてその詳細情報を表示\nするとの構成にすぎず，どのようにして，詳細表示画面を呼び出すかにつ\nいては何ら開示していないのであり，甲９文献に接した当業者は，マトリ\nックス表示上のセルをクリックすることにより，詳細情報を表示する構成\nには想い到らない。\nイ  審決は，表示対象を指定する必要性から，マトリックス表示上のセルを\nクリックすることが当然に導かれるとするが，論理の飛躍がある。例えば，\nタッチパネルが普及した平成３０年現在であれば，マトリックス表示の内\n容の詳細を表示するために，画面をクリックするという構成は容易に想到\nであるといえるとも思われるが，本件発明４が出願された平成１２年当時\nは，むしろ，画面外に「詳細表示」ボタン等のインターフェースを設ける\nことが主流であったと考えられる。審決の判示は現在の技術水準により，\n当時の技術水準を置き換えるものであり，正に後知恵である。\n(3)  結論\n以上のとおりであるから，審決のうち本件発明３を無効とした部分は取り\n消されるべきである。\n４  被告取消事由４（本件発明４に関する進歩性判断の誤り）について\n(1)  本件発明１について\n審決において，本件発明１と引用発明３の相違点を看過し，その誤りが本\n件発明１を無効とする審決の判断に影響するものであること，相違点４－１\nの容易想到性の判断にも誤りがあることは，前記１記載のとおりである。\nこれらの点は，本件発明１を引用する本件発明４にも妥当する。\n(2)  本件発明４の付加的構成について\n前記１(1)のとおり，引用発明３の「医薬品相互作用チェックテーブル１０\n５」は，本件発明１の「相互作用マスタ」に相当せず，また，引用発明３の\n検索過程は，本件発明１の「相互作用チェック処理」にも相当しないにもか\nかわらず，審決はこの点を誤り，そのため，本件発明４における本件発明１\nの付加的構成について新たな相違点がないとしているが，誤りである。\nすなわち，本件発明４における「蓄積処方データ」は「患者の全ての処方\nデータを蓄積して記憶するデータ」であり，「相互作用マスタ」を構築する\n際に「相手医薬品」として用いられるのに対し，引用発明３は，「医薬品マ\nスターコード」を記憶装置に記録することまでは開示しているものの，これ\nを「医薬品相互作用チェックテーブル１０５」の「相手テーブル部４０２」\nに格納することについて，何ら開示していない。\n引用発明３の「処方履歴を基に抽出した患者が服用している医薬品（相手\n医薬品）」の「医薬品マスターコード」は，本件発明４の検索処理における\n「相手医薬品」に相当しない。\n以上のとおり，審決には相違点の判断に誤りがあり，これは，本件発明４\nを無効とした審決の結論に影響を及ぼすものである。\n(3)  結論\n以上のとおりであるから，審決のうち本件発明４を無効とした部分は取り\n消されるべきである。\n５  被告取消事由５（本件発明６に関する進歩性判断の誤り）について\n(1)  本件発明１について\n審決において，本件発明１と引用発明３の相違点を看過し，その誤りが本\n件発明１を無効とする審決の判断に影響するものであること，相違点４－１\nの容易想到性の判断にも誤りがあることは，前記１記載のとおりである。\nこれらの点は，本件発明１を引用する本件発明６にも妥当する。\n(2)  本件発明６の付加的構成について\nア  前記１(1)のとおり，引用発明３の「医薬品相互作用チェックテーブル１\n０５」は，本件発明１の「相互作用マスタ」に相当せず，また，引用発明\n３の検索過程は，本件発明１の「相互作用チェック処理」にも相当しない\nにもかかわらず，審決はこの点を誤っている。そのため，審決が本件発明\n６における本件発明１の付加的構成について認定した相違点（相違点４－\n４）の認定にも誤りがある。\nイ  また，審決は，相違点４－４の構成は容易に想到することができると判\n断したが，誤りである。\n審決は，表示される情報量を更に高めるために，引用発明３と甲８文献\n記載の技術事項を組み合わせることが容易想到であるとするが，「併用禁\n忌」，「併用注意」の文字を記号に置き換えたからといって，表示される\n情報量に変化はない。また，甲８文献記載のマトリックス表示は煩雑かつ\n識別性が低いから，引用発明３にこのようなマトリックス表示を組み合わ\nせても本件発明６の構成に想到することはない。\nウ  以上のとおり，審決における，本件発明６の付加的構成に係る構成につ\nいての相違点の認定及び相違点４－４の構成の容易想到性の判断には誤り\nがある。\n(3)  結論\n以上のとおりであるから，審決のうち本件発明６を無効とした部分は取り\n消されるべきである。\n６  被告取消事由６（本件発明８に関する進歩性判断の誤り）について\n(1)  本件発明１について\n審決において，本件発明１と引用発明３の相違点を看過し，その誤りが本\n件発明１を無効とする審決の判断に影響するものであること，相違点４－１\nの容易想到性の判断にも誤りがあることは，前記１記載のとおりである。\nこれらの点は，本件発明１を引用する本件発明８にも妥当する。\n(2)  本件発明６の付加的構成について\nア  前記１(1)のとおり，引用発明３の「医薬品相互作用チェックテーブル１\n０５」は，本件発明１の「相互作用マスタ」に相当せず，また，引用発明\n３の検索過程は，本件発明１の「相互作用チェック処理」にも相当しない\nにもかかわらず，審決はこの点を誤っている。そのため，審決が本件発明\n８における本件発明１の付加的構成について認定した相違点（相違点４－\n６）の認定にも誤りがある。\nイ  また，審決は，相違点４－６の構成は容易に想到することができると判\n断したが，誤りである。\n(ｱ)  甲１８文献に記載の発明（以下「甲１８発明」という。）の認定の誤\nり\n甲１８文献の「処方監査」（構成a）は，処方された各医薬品について，\n「薬品ファイルの薬物相互作用の欄を参照し，相互作用を起こす薬品が\n処方されているかを判別し（Ｓ２８），相互作用を起こす薬品が処方さ\nれている場合には警告を発する（Ｓ２９）」（甲１８文献【００５２】）\nものである。審決は，「処方監査」が，本件発明の「相互作用チェック」\nに相当することを前提として，「例外ファイル」のみについて言及して\nいるが，「処方監査」が「相互作用チェック」に相当することを論じな\nい点で既に理由不備の違法がある。\nまた，「処方監査」により行われている薬品ファイルの薬物相互作用\n欄の確認（甲１８文献【００５２】）は，あくまでも，自己医薬品から\n見た場合に，相手医薬品に相互作用があるか否かを判断する一方向の「相\n互作用の確認」に留まり，双方向の確認作業である「相互作用チェック」\nではない。このように甲１８発明における一方向の「処方監査」と本件\n発明における双方向の「相互作用チェック」は別個の概念である。\n審決は，甲１８発明において，「相互作用除外マスタ」を論じる前提\nとして「相互作用マスタ」に相当する構成について論じておらず，理由\n不備の違法がある。仮に，「薬品ファイル」が「相互作用マスタ」に相\n当するとするものであるとしても，「薬品ファイル」は個別の医薬品に\n作成され，「薬物相互作用」欄を有するものであるが（甲１８文献【図\n６】【図７】），そこに格納される医薬品の数を１つに限定する旨の記\n載はないから，「個別に格納」の構成は開示されていない。また，甲１\n８発明は，一方向の「相互作用の確認」を行うものにすぎないことから，\n「薬品ファイル」において，医薬品の相互作用情報を各医薬品の「２通\nりの主従関係」について「個別に格納」する必要はない。そのため，甲\n１８発明の「薬品ファイル」は「相互作用マスタ」に相当する構成を開\n示し，又は示唆するものではない。\n審決は，甲１８発明における「例外ファイル」が「相互作用除外マス\nタ」に対応し得るとしている。しかし，本件発明の「相互作用除外マス\nタ」は「相互作用マスタ」と同一の構成を有するところ（本件明細書【０\n０３３】），上述のとおり，甲１８発明には「相互作用マスタ」に相当\nする構成がなく，かつ，甲１８文献には「例外ファイル」の具体的な構\n成が開示されていないから，甲１８発明が「相互作用除外マスタ」を開\n示ないし示唆するものとはいえない。\nまた，本件発明８において「相互作用除外マスタ」を採用したのは，\n「相互作用マスタ」を保持することによって従来技術と比較して詳細な\n情報が提供されることを前提に，「重要度の高い相互作用だけを表示す\nることができ，情報過多による弊害を阻止する」（本件明細書【００４\n５】）ためであるところ，甲１８発明では，警告の除外を行う理由を「処\n方監査が行われ，警告の対象となった場合，担当医師に確認するのが原\n則である。しかし，医師が承知の上で処方している場合はその必要はな\nく，毎回照会を行うと医師側及び薬局側の作業が停滞してしまう。この\n発明によれば，同一の警告が繰り返して発行される事態を防止でき，調\n剤作業を効率化することができる。」（甲１８文献【００２１】）とし\nており，その主眼はあくまでも，既に確認済みの情報について警告の表\n示が頻回にわたることを防止し，医師や薬剤師による確認作業を簡易効\n率化することにある。\nこのように，甲１８発明の「例外ファイル」は，本件発明の「相互作\n用除外マスタ」とは異なる課題を解決するために設けられており，かつ，\n構成にも同一性が認められないから，「相互作用除外マスタ」を開示す\nるものではない。\n(ｲ)  審決は，引用発明３と甲１８発明とを組み合わせることについて，特\nに理由なく，容易想到であったと判示しているが，明らかに判断に遺漏\nがある。\nウ  以上のとおり，審決における，本件発明８の付加的構成に係る構成につ\nいての相違点の認定及び相違点４－６の構成の容易想到性の判断には誤り\nがある。\n(3)  以上のとおりであるから，審決のうち本件発明８を無効とした部分は取り\n消されるべきである。\n第４  原告の反論\n１  被告取消事由１（本件発明１に関する進歩性判断の誤り）について\n(1)  相違点の認定について\nア  本件発明１について\n(ｱ)  被告らは，「個別に格納」が①同一粒度，かつ，②分離格納を意味す\nると主張するが，このような主張は，審判手続において現実に争われた\nものではないから，審決取消訴訟である本件訴訟において，審理の対象\nとされるべきでない。\n(ｲ)  本件発明１の「個別に格納」とは，「一の医薬品」から見た「他の一\nの医薬品」と，「前記他の一の医薬品」から見た「前記一の医薬品」の\n２通りの組み合わせを，別々に格納したことを意味するものであり，そ\nれ以上のデータ格納構成を意味するものではない。\nすなわち，特許請求の範囲の記載によれば，「個別に格納」されるの\nは，「一の医薬品」から見た「他の一の医薬品」と，「前記他の一の医\n薬品」から見た「前記一の医薬品」の２通りの組み合わせであることが\n文理上明らかであり，また，本件明細書にはこれらの用語について特段\nの説明はない。\nしたがって，「個別に格納」とは，①Ａ薬品からみたＢ薬品に関する\n相互作用情報と②Ｂ薬品からみたＡ薬品に関する相互作用情報を個別に\n格納することであり，①Ａ薬品からみたＢ薬品に関する相互作用情報と\n③Ａ薬品からみたＣ薬品に関する相互作用情報とを個別に格納すること\nは意味しない。\n(ｳ)  本件発明の課題は，「医薬品の相互作用のチェック結果を，実用的に\n分かりやすく表示できる医薬品相互作用チェック装置を提供すること」\n（本件明細書【００１１】）であるから，課題の解決手段である本件発\n明の技術的特徴はマトリックス形式による表示にある。そして，本件発\n明は，ある２つの医薬品間の相互作用チェックの結果を，２通りの主従\n関係を区別して表示することを目的とするものであるから，ある２つの\n医薬品同士の相互作用が主従を区別して定義されていれば足り，その定\n義が同じレベルの概念（基準ないし粒度）同士の組み合わせでされてい\nることは必要ではない。仮に異なるレベルの概念同士の組み合わせで相\n互作用が定義されていたとしても，それぞれの概念に当てはまる具体的\nな医薬品が定義されていれば，ある２つの医薬品同士の相互作用は，前\n記概念同士の組み合わせとしてチェックできるのであり，結果として，\n具体的な医薬品同士の相互作用として主従を区別して表示することがで\nきる。現に，引用発明３は，具体的な医薬品同士の相互作用が，主従を\n区別して表示される（甲１４文献図７，８）。\nそうすると，「個別に格納」とは，その表示の前提として，「一の医\n薬品」から見た「他の一の医薬品」と，「前記他の一の医薬品」から見\nた「前記一の医薬品」の２通りの組み合わせを別々に格納することを意\n味することは明らかである。そして，一の医薬品（薬品Ａ）から見た他\nの一の医薬品（薬品Ｂ）の相互作用情報と，他の一の医薬品（薬品Ｂ）\nから見た一の医薬品（薬品Ａ）の相互作用情報を格納する方式としては，\nリレーショナルデータベースの格納方式も取り得るし，ツリー構造での\n格納方式も取り得るのであり，本件明細書の実施例がリレーショナルデ\nータベースの格納方式であるからといって，「個別に格納」がデータ格\n納方式まで特定しているものと解釈することはできない。\n(ｴ)  本件発明２は，薬効コード同士の組み合わせで相互作用が発生する組\nみ合わせを定義する態様であるところ，その場合，各コードに該当する\n具体的な医薬品の数に応じて，「１対１」の場合もあれば，「１対多」\nの場合もあれば，「多対多」の場合もあれば，「多対１」の場合もあり\nうるのであり，本件発明が「１対１」であるということもできない。\n(ｵ)  本件特許の出願経過からも，同様の理解ができる。\nａ  すなわち，被告らは，１回目の拒絶理由通知に対応して，平成２１\n年１２月２５日付手続補正書（甲２３）により「一の医薬品から見た\n他の一の医薬品の場合と，前記他の一の医薬品から見た前記一の医薬\n品の場合の２通りの主従関係で，相互作用が発生する組み合わせを個\n別に格納する相互作用マスタを記憶する記憶手段と，」という構成を\n追加し，同日提出の意見書（甲２４）において，従来技術について「引\n用文献１から４では，処方された医薬品同士の組み合わせで相互作用\nが発生するものがあるか否かをチェックできるようにした点が開示さ\nれているに過ぎません。」「これに対し，本発明では，相互作用マス\nタに，一の医薬品から見た他の一の医薬品の場合と，前記他の一の医\n薬品から見た前記一の医薬品の場合の２通りの主従関係で，相互作用\nが発生する組み合わせを個別に格納するようにしています。これは，\n相互作用の判断根拠となる作用発現の仕組み（作用機序）を記載した\n添付文書が医薬品毎に存在し，又，その内容が相違する場合があるた\nめです。例えば，一の医薬品（Ａ薬）と，他の一の医薬品（Ｂ薬）と\nの関係で，Ａ薬の相互作用情報にはＢ薬との服用には注意が必要とな\nることが含まれている場合であっても，Ｂ薬の相互作用情報にはＡ薬\nとの関係が触れられていない場合があります。」と述べている。\nこのように，「個別に格納」とは，Ａ薬の相互作用情報にはＢ薬と\nの服用には注意が必要となることが含まれている場合であっても，Ｂ\n薬の相互作用情報にはＡ薬との関係が触れられていない場合があるか\nら，Ａ薬とＢ薬の両方の相互作用情報を確認すべく，一の医薬品（Ａ\n薬）から見た場合と，他の一の医薬品（Ｂ薬）から見た場合とを区別\nして格納するという意味であることを被告ら自らが明らかにしている。\nｂ  さらに，平成２２年１月２０日起案の拒絶理由通知書（甲３４）で\n引用された主引例である引用文献１（甲１３文献）の段落００１２等\nには ， 生成されたすべての薬品名の組み合わせ（ medn(i),\nmedn(j)(i≠j)）のチェックについて，medn(i), medn(j)を入れ替えて\n行うことが記載されており，この点が，上記通知書で指摘されている。\n同時点の請求項１において，記憶手段，制御手段の構成は，本件発明\n１と同じであった。\n上記通知書に係る拒絶理由通知において，本件発明のマトリックス\n表示に関する構成を除いた，２通りの主従関係で個別に格納する相互\n作用マスタ，双方向チェックでチェックは引用文献１（甲１３文献）\nにより公知とされ，被告らは，これに対し，マトリックス表示する旨\nの特定事項を加えた補正を行い（平成２２年３月２９日付手続補正書。\n甲３５），同日付けの意見書（甲５５）を提出し，被告らが主張する\n本件発明の作用効果は，マトリックス表示によりＡ薬品→Ｂ薬品と，\nＢ薬品→Ａ薬品のチェックの結果を区別して表示できる点であること\nを述べた。このような作用効果を考えれば，相互作用が発生する組み\n合わせの定義にあたり，相互作用マスタに定義される相互作用が発生\nする医薬品の組み合わせの定義において，用いられる概念の大きさは，\n医薬品名でもよく，医薬品群（薬効コード等）同士でもよく，さらに\n概念が同じ大きさであっても異なる大きさであっても構わない，すな\nわち，Ａ薬品→Ｂ薬品と，Ｂ薬品→Ａ薬品とのチェックの結果を区別\nして表示できるという作用効果が得られるのであって，それが同一粒\n度であるか否か，また，リレーショナルデータベース方式なのかある\nいは他の方式なのかは，前記作用効果と無関係である。\n以上より，本件発明の「個別に格納」について，被告らの主張する\n「同一粒度」かつ「分離格納」を意味するとすることは失当である。\nイ  引用発明３について\n(ｱ)  「医薬品相互作用チェックテーブル１０５」の構成\nａ  引用発明３の「医薬品相互作用チェックテーブル１０５」は，添付\n文書から抽出された「医薬品間の相互作用の有無をチェックする情報」\nが記載されている（甲１４文献【００１７】１３～１４行）。\n各医薬品には該当する一般名コード，薬効分類コードが必ず存在す\nること，特定の医薬品の添付文書には，相互作用が発生する相手方医\n薬品が，商品名，一般名，薬効，その他の概念で記載されていること\nから，「医薬品相互作用チェックテーブル１０５」に記憶される情報\nは，添付文書の記載から抽出されるこれらの情報の全てをコード化し\nたものであって，添付文書から抽出される一般名コード，薬効分類コ\nード，ＢＯＸコードから選ばれるコード同士の任意の組み合わせを含\nみうる。薬品Ａの添付文書に，薬品Ｂ（あるいはこれが属する医薬群）\nと相互作用を有することが記載され，一方，薬品Ｂの添付文書に薬品\nＡ（あるいはこれが属する医薬群）と相互作用を有することが記載さ\nれている場合を想定すると，薬品Ａの添付文書に基づく情報である薬\n品Ａから見た薬品Ｂ（あるいはこれが属する医薬群）との相互作用と，\n薬品Ｂの添付文書に基づく情報である薬品Ｂから見た薬品Ａ（あるい\nはこれが属する医薬群）との相互作用の情報は，必然的に別の情報と\nして記憶される。\nｂ  また，薬品Ａの添付文書に，薬品Ｂの医薬品名でなくても，薬品Ｂ\nが属する医薬群（例えば，薬品Ｂの一般名，薬品Ｂの薬効+剤のような\n標記）との相互作用が記載されていれば，当該添付文書に基づいて，\n薬品Ａの一般名コード及び薬効分類コード（これらは医薬品ごとに必\nず存在する）並びにＢＯＸコードを「自己テーブル部４０１」に，相\n手方医薬群の概念から特定される（薬品Ｂの）一般名コード，薬効分\n類コード及びＢＯＸコードを「相手テーブル部４０２」に，これらの\n間の相互作用に関する情報を「コメントテーブル部４０３」に記憶す\nることになる。そして，薬品Ｂの添付文書に基づく情報についても，\n同じように各コードの組み合わせとして，「医薬品相互作用チェック\nテーブル１０５」の各テーブル部に記憶することになる。\nこれによれば，「医薬品相互作用チェックテーブル１０５」には，\n薬品Ａから見た薬品Ｂの場合と薬品Ｂから見た薬品Ａの場合とが，別\nの情報として記憶されることが明らかである。\n(ｲ)  引用発明３における検索処理の構成\n引用発明３の「医薬品相互作用チェックテーブル１０５」は各コード\nの組み合わせによって，相互作用が発生する医薬品群の組み合わせを定\n義するものであり（甲１４文献の図４），これらの各コードと具体的な\n医薬品の紐づけは，「医薬品相互作用チェックマスタ１０４」でされて\nいるから，検索においては，処方された自己医薬品と相手医薬品の各コ\nードを「医薬品相互作用チェックマスタ１０４」から抽出し，抽出した\n各コードの組み合わせが「医薬品相互作用チェックテーブル１０５」に\n存在するか否かを検索する。したがって，結果として処方された自己医\n薬品と相手医薬品との関係が，「医薬品相互作用チェックマスタ１０５」\nに登録されている相互作用が発生する医薬群の組み合わせに合致するか\n否かを判断していることになることも明らかである（甲１４文献の図７，\n８。図８のトリルダン，クラリシッドは，いずれも具体的な医薬品の商\n品名である）。したがって，検索の結果出力されるのは，当然に，「自\n己医薬品テーブル１０２」と「相手医薬品テーブル１０３」に処方医薬\n品として入力した具体的な医薬品間の相互作用である。\nウ  本件発明１と引用発明３の対比\n(ｱ)  「医薬品相互作用チェックテーブル１０５」に登録されている各コー\nドの組み合わせに着目すれば，一般名コード同士，薬効分類コード同士\nといった同じ概念同士のコードの組み合わせを含むことが当然に予定さ\nれている。一方，組み合わせに該当する医薬品の数という点でいえば，\n同じ概念同士か違う概念同士かにかかわらず，各コードに該当する具体\n的な医薬品の数に応じて，「１対１」の場合もあれば，「１対多」の場\n合もあれば，「多対多」の場合もあれば，「多対１」の場合もありうる。\n以上のように，引用発明３において，各コードに該当する具体的な医薬\n品の数が，「１対多」であるとの被告らの主張の根拠が不明である。\nしたがって，具体的な医薬品の数が１対１に限られるか，１対多を含\nむのか，という点で，本件発明と引用発明３は区別し得ず，かえって，\n引用発明３の医薬品相互作用チェックテーブル１０５は，具体的な医薬\n品間の相互作用を上位概念である各コード同士の関係によって定義して\nいる点で何ら相違はない。\n仮に，被告ら主張のように解釈したとしても，引用発明３も本件発明\nと同じく，同じ概念のコード同士で相互作用が発生する組み合わせを記\n憶する構成を含んでいるものであって，両発明に相違はない。\n(ｲ)  本件発明２や本件明細書記載の実施例と引用発明３から明らかなとお\nり，「相互作用マスタ」に記憶される情報は，相互作用が発生する医薬\nの分類に関するコード同士の組み合わせであり，データベースで定義さ\nれる相互作用の情報は添付文書から抽出される医薬品（医薬品群）同士\nの相互作用情報であるから，その情報に違いはない。これは，本件発明\nも引用発明３も添付文書の情報に基づいて処方監査業務を行うことを大\n前提とするシステムである以上，当然である。\n被告らは，「相互作用マスタ」と「相互作用チェックテーブル１０５」\nに記憶される情報が，効能や薬効成分といった上位概念と医薬品名であ\nる下位概念とを紐づける作業（薬学的判断）を経たものであるか否かに\nおいて異なると主張するが，このような作業を経た情報を入力すること\nは本件発明の特定事項とはなっておらず，このような基準によって両発\n明を区別することはできない。\nまた，引用発明３は，「医薬品相互作用チェックマスタ１０４」にお\nいて，下位概念である個々の医薬品と，上位概念である一般名コード，\n薬効分類コード，ＢＯＸコードとの関係が定義され，「医薬品相互作用\nチェックテーブル１０５」における各コードが，具体的な医薬品と紐づ\nけられている。「医薬品相互作用チェックマスタ１０４」における紐づ\nけの際には，薬剤師等の専門知識を持った者による添付文書に記載され\nた情報に基づく判断，すなわち，薬学的判断がされていることは明らか\nである。\nなお，被告らの主張する薬学的判断が添付文書に記載された情報に基\nづかない判断という意味だとしても，そのような判断を経ることは，本\n件発明の特許請求の範囲，明細書のどこにも記載されておらず，何ら根\n拠のない解釈であって，失当であるし，データベースに入力するデータ\nをどのような基準で用意するかは本件発明に含まれないから，特許請求\nの範囲に基づかない無意味な主張である。\n(ｳ)  被告ら主張の相違点１について，引用発明３は，処方された医薬品を\n自己医薬品のみとするものではなく，自己医薬品及び相手医薬品とする\nものであるから，被告らの主張は失当である。\n相違点２について，本件発明２における「薬効コード」同士の組み合\nわせで相互作用を記憶する限り，多対多の関係が生じるし，一方で，引\n用発明３においても各コードと具体的な医薬品の紐づけが行われること\nにより具体的な医薬品間の相互作用をチェックできるのであって，この\n点で本件発明と引用発明３との間に相違はない。\n相違点３について，引用発明３の検索においては，入力された処方医\n薬品である自己医薬品が「医薬品相互作用チェックテーブル１０５」の\n「自己テーブル部４０１」に存在するか否かを検索し，検索結果として\n得られたデータの範囲において同時に入力された処方医薬品である相手\n医薬品が「医薬品相互作用チェックテーブル１０５」の「相手テーブル\n部４０２」に存在するか否かを検索しているので，結果として，入力さ\nれた処方医薬品を自己医薬品及び相手医薬品とし，その組み合わせが「医\n薬品相互作用チェックテーブル１０５」に記憶された医薬品群の組み合\nわせと合致するか否かを判断していることになるので，まさに本件発明\nと同一である。\n(ｴ)  甲１４文献の【００１７】によれば，処方される医薬品は，「自己医\n薬品テーブル１０２」にも「相手医薬品テーブル１０３」にも記憶され\nる。そして，「自己医薬品テーブル１０２」及び「相手医薬品テーブル\n１０３」に登録された医薬品の各コードを「医薬品相互作用チェックマ\nスタ１０４」から読み出し，「自己医薬品テーブル１０２」に登録され\nた医薬品の各コードが「医薬品相互作用チェックテーブル１０５」の「自\n己テーブル部４０１」に存在するか否かを検索し該当するデータを「一\n時記憶テーブル１１０」に記憶し，続いて「一時記憶テーブル１１０」\nに記憶されたデータを対象として「相手医薬品テーブル１０３」に登録\nされた医薬品の各コードが「相手テーブル部４０２」に存在するか否か\nを検索している。\nしたがって，引用発明３は，処方された医薬品を自己医薬品及び相手\n医薬品とし（図２の１０１，１０２，１０３），それぞれの各コードを\n確定し（図６の８０１），それらの各コードの組み合わせが「医薬品相\n互作用チェックテーブル１０５」内に存在するか否かを，自己テーブル\n部，相手テーブル部の順に検索することで判断しているのであるから，\n主従が入れ替わった双方向の検索を行っている。\n(2)  容易想到性の判断について\nア  甲６～１０文献の記載事項に鑑みれば，技術事項甲６－１０が「薬物間\nの相互作用をチェックする」ことを目的としたものであり，技術事項甲７\n－１０が「相互作用チェックシステム」を提供するものであることは明ら\nかであり，これらの技術事項についての審決の認定に誤りはない。\nイ  本件発明は，本件明細書【００１１】に記載のとおり，「医薬品の相互\n作用のチェック結果を，実用的に分かりやすく表示できる医薬品相互作用\nチェック装置を提供すること」を課題とするものであって，その背景には，\n従来の相互作用チェックシステムにおける表示が実用的で分かりやすいと\nはいえないという問題があったとされている（【０００８】～【００１１】）。\nまた，医薬品相互作用チェックシステムは，医療機関において，医師や\n薬剤師が処方箋の発行や処方監査業務を行う際に利用されるものであり（甲\n３文献２５８～２５９頁『医薬分業と医薬品情報』，甲１４文献【０００\n１】等参照），相互作用チェックの結果を医師や薬剤師に正確に知らせる\nことが目的であることはいうまでもない。したがって，相互作用チェック\nシステムにおいて，チェック結果をユーザに分かり易く表示することは，\n当業者が当然に認識している普遍的，一般的な課題である。\nそして，本件発明と引用発明３の対比の結果導かれる，引用発明３にお\nいて未解決であった本件発明の課題は，相互作用チェックの結果を分かり\n易く一覧表示することにあることであり，これは，本件明細書の【００１\n１】の記載とも一致する。\nウ  引用発明３から出発した当業者にとって，相互作用チェックの結果を分\nかり易く表示するという本件発明の属する分野における一般的・普遍的な\n課題を解決するために，その課題に対する解決手段が具体的に示唆された\n甲６～１０文献を参照し，甲６～１０文献のマトリックス表示についての\n技術事項を引用発明３に適用することは，容易に想到できたことである。\n薬品Ａと薬品Ｂの間の相互作用について，いずれの添付文書から見るか\nによって，結果が異なる場合があることは出願時の技術常識であり（甲２，\n５，６文献），双方向チェックを行うシステムは出願時に周知であった（甲\n３文献表参照）。\nエ  甲７，８文献の記載に裏付けられる公知発明（公然実施発明）は，「医\n薬品間でそれぞれ添付文書に相互作用の記載があるかどうかを検索してマ\nトリックスで表示」するものであって，薬品Ａと薬品Ｂのいずれの添付文\n書から見るかによって，相互作用チェックの結果が異なる場合は，結果と\nしてマトリックス表示が非対称となることは，甲８文献の別紙６－２から\nも明らかであるから，「主従を入れ替えた場合に結果が相違する場合に，\nその違いを含めてマトリックス表示する」という効果も既存のものであっ\nた。このように，双方向チェックにおいてマトリックス表示を採用した場\n合の効果についても，甲７，８文献から直ちに認識されるものであり，本\n件発明が従来技術から予測できない顕著な効果を有しているともいえない。\nオ  引用発明３で出力される相互作用についての情報は，具体的な２つの医\n薬品間の相互作用である（甲１４文献図７，８）。そして，引用発明３の\n出力に含まれる情報は，自己医薬品名，相手医薬品名，それらの間の相互\n作用コメント（禁忌等の情報を含む），機序であり，マトリックス表示を\nするのに必要な項目を含む。被告らが主張する「多対多」が何を意味して\nいるのか判然としないが，仮に，「医薬品相互作用チェックテーブル１０\n５」における各コード同士の組み合わせにおいて，各コードが示す医薬品\n群に属する医薬品が複数あるという意味だとしても，そのことがマトリッ\nクス表示することの阻害事由となる理由は不明である。現に，甲７，８文\n献に裏付けられる公知発明（公然実施発明）は，添付文書情報に基づいて\n相互作用をチェックするシステムであり，添付文書には相互作用を発生す\nる相手医薬品が薬効群などの医薬品群で特定される場合があるが，その場\n合でも，特定の医薬品同士の相互作用についてのチェック結果を，マトリ\nックスで表示している。したがって，引用発明３のテキスト表示に代えて，\nマトリックス表示を採用することに阻害事由は存在しない。\n２  被告取消事由２（本件発明２に関する進歩性判断の誤り）について\n本件発明２についての被告らの主張は本件発明１と同じものであるから，被\n告取消事由２についても理由はない。\n３  被告取消事由３（本件発明３に関する進歩性判断の誤り）について\n被告らは，平成１２年当時は，むしろ，画面外に「詳細表示」ボタン等のイ\nンターフェースを設けることが主流であったと考えられると主張するが，これ\nを裏付ける証拠を提出していない。そもそも，セルを指定させずに，画面外に\n「詳細表示」ボタン等のインターフェースを設ける方法によって，どのように\n詳細表示が可能となるのか不明である。セルを指定しない限り，セルに紐づい\nた詳細表示を表示することはできないと考えるのが普通である。\n４  被告取消事由４（本件発明４に関する進歩性判断の誤り）について\n「相手医薬品テーブル１０３」に格納された「処方履歴を基に抽出した患者\nが服用している医薬品（相手医薬品）」の「医薬品マスターコード」が，本件\n発明４にいう「患者データを含む過去の処方データを蓄積した蓄積処方データ」\nに相当し，「相手医薬品テーブル１０３」に格納されている以上，検索処理に\nおいては，相手医薬品として扱われる旨の審決の認定に誤りはない。\n５  被告取消事由５（本件発明６に関する進歩性判断の誤り）について\n甲８文献の別紙６－２に示されるとおり，禁忌，注意の文字に代えて，◎，\n〇の記号を用いることは公知であり，引用発明３に甲８文献に基づいてマトリ\nックス表示を適用する際に，記号の採用を行うことは設計事項に過ぎない。\n６  被告取消事由６（本件発明８に関する進歩性判断の誤り）について\n甲１８発明の「例外ファイル」は，相互作用チェックを除外する処方（医薬\n品の組み合わせ）を除外するものである点で，本件発明８の「相互作用除外マ\nスタ」と一致する。甲１８発明では「例外ファイル」が薬効コードの組み合わ\nせで定義されていることは特定されていないが，医薬品同士の相互作用が発生\nする組み合わせを，薬効コード等の上位概念で定義することは，引用発明３に\n記載されているとおりであり，例外ファイルにもこれを適用することは設計事\n項に過ぎない。\n第５  原告主張の取消事由\n１  原告取消事由１（本件発明５，７，９に関する引用発明１に基づく新規性，\n進歩性判断の誤り）について\n(1)  引用発明１の認定について\n甲８文献別紙６－２によれば，引用発明１は以下のとおりである（以下「原\n告主張引用発明１」という。）。\n「添付文書の情報をデータベース化した添付文書データベースを備え，\nＡ薬品とＢ薬品との間で，それぞれ添付文書に相互作用の記載があるかど\nうかを検索して，双方向でのチェックを行い，\n対象となる医薬品名とアルファベットを行に表示し，列にはアルファベッ\nトのみを表示したマトリックス表示において，相互作用チェック結果を該当\nするセルに表示し，\nさらに，相互作用チェック結果の表示画面には，医薬品名を入力可能な「テ\nキストボックス」及び「チェック開始」ボタンが配置され，\n「テキストボックス」に医薬品名を追加入力し，「チェック開始」ボタン\nを押下することでテキストボックス入力された医薬品名が，チェック対象と\nして設定され，チェック結果を表示すべきチェック対象としてマトリックス\nに表示され，相互作チェックが行われる，\n相互作用チェックのシステム」\n(2)  相違点の認定について\nア  相違点１－１について\n(ｱ)  本件発明１の「相互作用マスタ」\n前記第４の１(1)アのとおり，本件発明１の「個別に格納」とは，①Ａ\n薬品からみたＢ薬品に関する相互作用情報と②Ｂ薬品からみたＡ薬品に\n関する相互作用情報を個別に格納することであり，①Ａ薬品からみたＢ\n薬品に関する相互作用情報と③Ａ薬品からみたＣ薬品に関する相互作用\n情報とを個別に格納することは意味しない。\n(ｲ)  引用発明１の「添付文書データベース」\nａ  添付文書において，１つの医薬品に対して，相互作用が発生する医\n薬品が複数記載される場合であっても，これに含まれる「相互作用が\n発生する組み合わせ」の情報は，１つの医薬品から見た他の１つの医\n薬品についての相互作用の情報であることに変わりない。例えば，Ａ\n薬品の添付文書の情報に，Ａ薬品に対して相互作用が発生する医薬品\nの情報として，Ｂ薬品のみならず，他の薬効の医薬品，例えばＣ薬品\nの情報が含まれていたとしても，添付文書に含まれる「相互作用が発\n生する組み合わせ」の情報は，①Ａ薬品からみたＢ薬品に関する相互\n作用情報と，③Ａ薬品からみたＣ薬品に関する相互作用情報である。\nｂ  このように，添付文書情報の一般常識に鑑みれば，引用発明１でも\n①Ａ薬品からみたＢ薬品に関する相互作用情報と，③Ａ薬品からみた\nＣ薬品に関する相互作用情報は別のものとして記憶されていることが\n明らかであるから，仮に，本件発明１の「個別に格納」が，①Ａ薬品\nからみたＢ薬品に関する相互作用情報と③Ａ薬品からみたＣ薬品に関\nする相互作用情報とを個別に格納することをも意味するとしても，引\n用発明１は「個別に格納」を満たしている。\nｃ  したがって，引用発明１の「添付文書データベース」も「一の医薬\n品」から見た「他の一の医薬品」との相互作用データを含む添付文書\nデータと，「前記他の一の医薬品」から見た「前記一の医薬品」との\n相互作用データを含む添付文書データに表される２通りの組み合わせ\nを，別々に格納している。\n(ｳ)  このように，引用発明１の「添付文書データベース」は，本件発明１\nにいう「相互作用マスタ」に該当するから，相違点１－１は存在しない。\nイ  相違点１－２について\n甲８文献別紙６－１，６－２によれば，引用発明１は，当然に新規処方\nデータ（複数の医薬品を含むもの）が入力されることを想定したものであ\nる。一つの新規処方薬と過去の処方薬のチェックを想定しているのであれ\nば，新規処方薬の入力欄は一つで良いし，過去の処方薬については都度入\n力させることは考えにくく，患者ごとに蓄積された過去の処方データを利\n用してチェックするのが出願時の技術水準に鑑みれば自然である。\nまた，甲３文献において，「病院，市中の薬局においては，患者に処方\nされた薬剤の監査を怠る訳にはいかないのが現状である。このようなこと\nから，人手，コンピュータにかかわらず相互作用のチェックシステムの必\n要性が要求されている」（２５９頁左欄６～１１行）との記載があり，市\n販の相互作用のチェックシステムの紹介がされていることに鑑みても，相\n互作用のチェックシステムは処方における監査を目的としているものであ\nることが技術常識であるから，引用発明１において入力される医薬品は「新\n規処方データ」を含むものである。\nしたがって，相違点１－２は存在しない。\nウ  相違点１－３について\n上記アのとおり，引用発明１の「添付文書データベース」は，本件発明\nにいう「相互作用マスタ」に該当し，Ａ薬品の添付文書データにＢ薬品と\nの相互作用の記載があるか，Ｂ薬品の添付文書データにＡ薬品との相互作\n用の記載があるか，を判断しているのであるから，本件発明の構成と同様\nの構成を有している。\nしたがって，相違点１－３は存在しない。\nエ  相違点１－４について\n引用発明１の列には，行に表示された医薬品の名称の横にアルファベッ\nトが表示され，列には対応するアルファベットが表示されている。列に表\n示されたアルファベットは，行に表示された対応するアルファベットの横\nに表示された医薬品の名称の代替記号であることは明らかであり，実質的\nに当該記号は医薬品の名称と同義であるから，列にも医薬品の名称が表示\nされているといえる。\nしたがって，相違点１－４は存在しない。\nオ  結論\n以上のとおり，本件発明と引用発明１について，相違点１－１～１－４\nは存在しない。\nしたがって，無効理由１（新規性欠如）の判断には誤りがあるから，本\n件発明５，７，９についての審判請求は成り立たないとした部分は取り消\nされるべきである。\nまた，無効理由２（進歩性欠如）について，審決は，相違点１－１，１\n－３を根拠として本件発明５，７，９についての審判請求は成り立たない\nとしたものであり，上記相違点の認定の誤りが審決の結論に影響を及ぼす\nことは明らかであるから，審決の上記部分は取り消されるべきである。\n(3)  容易想到性の判断について\nア  相違点１－１の容易想到性\n(ｱ)  甲１４文献の記載\n甲１４文献記載の技術常識に照らし，テキスト検索をリレーショナル\nデータベースに変更することは，当業者における設計事項であったこと\nは審決の述べるとおりである。\n(ｲ)  そして，前記(2)アのとおり，引用発明１においても，一の医薬品（薬\n品Ａ）から見た他の一の医薬品（薬品Ｂ）の相互作用情報と，他の一の\n医薬品（薬品Ｂ）から見た一の医薬品（薬品Ａ）の相互作用情報とが，\n別々に格納されているのであるから，引用発明１にリレーショナルデー\nタベースの格納方式を採用すれば本件発明１の構成に至ることは明白で\nある。\n上記(ｱ)のとおり，引用発明１の添付文書に含まれる医薬品の相互作用\n情報の格納方式としてリレーショナルデータベース格納方式を採用する\nことは単なる設計事項であるから，相違点１－１に係る構成は容易に想\n到できたものといえる。\n(ｳ)  審決は，特に相違点１－１の構成についての容易想到性が否定される\nことを根拠として本件発明５，７，９についての審判請求は成り立たな\nいとしたものであり，上記相違点１－１の容易想到性の判断の誤りが審\n決の結論に影響を及ぼすことは明らかであるから，審決の上記部分は取\nり消されるべきである。\nイ  本件発明５の追加の構成について\n(ｱ)  本件発明５は，本件発明１に加えて，「前記表示手段は，自己医薬品\nの名称と相手医薬品の名称をマトリックス形式の行又は列にそれぞれ表\n示し，相手医薬品が新規処方データの医薬品である場合と，相手医薬品\nが蓄積処方データの各医薬品である場合とで切り替え可能に表示する」\nという限定を付加した発明である。\n本件発明５と引用発明１はこの点において相違する。\n(ｲ)  そして，甲２２文献，甲４６（特開平１１－６５８０４号公報）（【０\n００２】，【０００３】），甲４７（特開平８－１４７３１６号公報）\n（【０００１】等）の記載によれば，複数の項目（カテゴリー）に分類\nされた情報の中から必要な項目に関連する情報を操作者が選択して表示\nさせたい場合が存在することは，アプリケーションソフトウエアなどの\nソフトウエアによる表示における普遍的な課題であった。そして，当該\n課題の解決手段としてタブによる切り替えが周知であったことも明白で\nある。このような周知技術ないし技術水準に照らせば，相互作用チェッ\nク結果を表示する上でも，必要な項目に関連する情報を表示させる方法\nとして，甲２２文献等に記載されるようなタブでの画面切り替えという\n周知技術を採用することには十分な動機付けがある。また，相互作用チ\nェックシステムが処方監査の一つの機能であることを考慮すると，情報\nの分類を新規処方データと蓄積処方データとで区分けすることも当業者\nが適宜設計可能な事項に過ぎない。\nウ  本件発明７の追加の構成について\n本件発明７は，本件発明１に加えて，「前記表示手段は，表示するマト\nリックス形式の画面中，新規処方データの各医薬品に加えて，新たに医薬\n品を追加表示可能とする薬品追加ボタンを備え，前記制御手段は，前記薬\n品追加ボタンが操作されることにより，前記表示手段に表示したマトリッ\nクス形式の画面中，新規処方データの各医薬品の名称が表示された行又は\n列に，新たな医薬品の名称を追加し，追加表示した自己医薬品と，相手医\n薬品との相互作用を再チェックする」という限定を付加した発明である。\n引用発明１の「「チェック開始」ボタン」は，本件発明７における「新\nたに医薬品を追加表示可能とする薬品追加ボタン」に該当するし，引用発\n明１の「「テキストボックス」に医薬品名を追加入力し，「チェック開始」\nボタンを押下することでテキストボックス入力された医薬品名が，チェッ\nク対象として設定され，チェック結果を表示すべきチェック対象としてマ\nトリックスに表示され，相互作用チェックが行われる」構成は，本件発明\n７における「前記制御手段は，前記薬品追加ボタンが操作されることによ\nり，前記表示手段に表示したマトリックス形式の画面中，新規処方データ\nの各医薬品の名称が表示された行又は列に，新たな医薬品の名称を追加し，\n追加表示した自己医薬品と，相手医薬品との相互作用を再チェックする」\nに該当する。\nしたがって，本件発明７と引用発明１との間には相違点は存在しない。\nエ  本件発明９の追加の構成について\n(ｱ)  本件発明９は，本件発明１に加えて「前記記憶手段は，相互作用が発\n生する医薬品の組み合わせについてのデータを薬効コードの組み合わせ\nとして格納する相互作用共通マスタとは別に，各医療施設に応じて作成\nした相互作用個別マスタを記憶し，前記制御手段は，前記相互作用共通\nマスタに優先して，前記相互作用個別マスタに基づく相互作用チェック\n処理を実行する」という限定を付加した発明である。\n本件発明９と引用発明１とは，この点において相違する。\n(ｲ)  甲１５文献（８６（２９６）頁）の記載によれば，添付文書上には「併\n用禁忌」と記載されていなくても，適正使用の観点から「併用禁忌」と\n扱うべき組み合わせがあること，それが相互作用チェックシステムを導\n入する場合の，一般的な課題であることが指摘されている。\n(ｳ)  出願日当時の周知技術と技術水準\n相互作用チェックシステムにおいて，独自の相互作用データを搭載で\nきる機能（ユーザ登録機能）を有する相互作用チェックシステムは多数\n市販されており，実際に，相互作用データを搭載する共通マスタと別に\n個別マスタを利用するシステムが市販されていた（甲３文献）。\nしたがって，出願日当時の技術水準に照らせば，ユーザ登録機能を有\nする相互作用チェックシステムにおいて共通に搭載される共通マスタと\nは別に，ユーザが独自に登録するための個別マスタをもつことは当然の\nことであった。\n処方監査や医薬品処方管理という，本件特許の属する技術分野におい\nて，患者データ，薬品データといった，処方監査に必要なデータを，病\n院や薬局といった医療機関ごとに作成したマスタ（個別マスタ）と，複\n数の医療機関で共通して用いることができるマスタ（共通マスタ）とで\n別に管理することは周知であった（甲１８，１９文献）し，その場合に，\n個別マスタを優先して用い，ここにデータがない場合に共通マスタを用\nいることも公知であった（甲１８文献）。\n甲４８（特開平１－１４５７８９号公報），甲４９（特開平３－２９\n６１６３号公報）が本件の出願日より約１０年前に発行された特許文献\nであることも考慮すると，システムが事前に備えている標準データ（「標\n準辞書」，「一般辞書」）より，ユーザーが登録した個別データ（「ユ\nーザ辞書」，「ユーザー辞書に登録したもの」）を優先してデータ処理\nに用いることは，本件特許の出願日において周知技術であった。\nユーザ登録機能を設ける意義は，いうまでもなく当該登録した情報を\n提供することにあるから，データベースの分野全般の技術水準に照らせ\nば，ユーザ登録された内容を優先的に処理，出力することは当然のこと\nであった（甲４８～５０）。\n(ｴ)  容易想到性\n上記(ｳ)のとおりの出願時の周知技術，技術水準に照らせば，甲３文献\nの記載に接した当業者は，ユーザ登録機能を有する商品は，共通マスタ\nとは別に個別マスタをもつと理解するのが自然である。そして，ユーザ\n登録機能は，ユーザが独自に登録したデータを利用させることが当然の\n目的であるのであるから，甲３文献のユーザ登録機能についての記載に\n基づけば，共通マスタに対して個別マスタを優先させることも当業者に\n自明である。\n仮に，甲３文献から，そこまで理解できなかったとしても，甲１８，\n１９文献に記載されるとおり，相互作用チェックシステムを含む薬品の\n情報検索システムにおいて，全病院に共通のデータベースと，院内独自\nのデータベースを分け，院内独自のデータベースを優先的に利用するシ\nステムは公知であったのであるから，そのような公知技術をさらに適用\nして，本件発明９の構成に至ることは，当業者が容易になし得ることで\nある。\nオ  結論\n以上のとおり，審決の相違点１－１，１－３についての容易想到性の判\n断には誤りがあり，その誤りは，本件発明５，７，９についての審判請求\nは成り立たないとした審決の結論に影響を及ぼすことは明らかであるから，\n審決の上記部分は取り消されるべきである。\n２  原告取消事由２（本件発明５，７，９に関する引用発明２に基づく進歩性判\n断の誤り）について\n(1)  相違点の認定について\nア  相違点３－１について\n前記１(2)アのとおり，「個別に格納」とは，「一の医薬品」から見た「他\nの一の医薬品」と，「前記他の一の医薬品」から見た「前記一の医薬品」\nの２通りの組み合わせを，別々に格納したことを意味するものであり，そ\nれ以上のデータ格納構成（例えば，リレーショナルデータベースの格納方\n式で記憶していること）を意味するものであると解する根拠はない。\nそして，添付文書において，１つの医薬品に対して，相互作用が発生す\nる医薬品が複数記載される場合であったとしても，これに含まれる「相互\n作用が発生する組み合わせ」の情報は，１つの医薬品から見た他の１つの\n医薬品についての相互作用の情報であることに変わりない。\nそうすると，引用発明２の「添付文書データベース」も「一の医薬品」\nから見た「他の一の医薬品」との相互作用データを含む添付文書データと，\n「前記他の一の医薬品」から見た「前記一の医薬品」との相互作用データ\nを含む添付文書データに表される２通りの組み合わせを，別々に格納して\nいることに変わりはない。\nしたがって，引用発明２の「添付文書データベース」は，本件発明１に\nいう「相互作用マスタ」に該当するものであって，審決が認定する相違点\n３－１は存在しない。\nイ  相違点３－２について\n前記１(2)イと同様に，引用発明２も，当然に新規処方データ（複数の医\n薬品を含むもの）が入力されることを想定したものである。\nしたがって，相違点３－２は存在しない。\nウ  相違点３－３について\n前記１(2)ウと同様に，引用発明２の「添付文書データベース」も，本件\n発明にいう「相互作用マスタ」に該当するものであり，Ａ薬品の添付文書\nデータにＢ薬品との相互作用の記載があるか，Ｂ薬品の添付文書データに\nＡ薬品との相互作用の記載があるか，を判断しているものであって，本件\n発明１の構成と同様の構成を有している。\nしたがって，相違点３－３は存在しない。\nエ  相違点３－４について\n前記１(2)エと同様に，引用発明２の列に表示されたアルファベットは医\n薬品の名称と同義であるから，列にも医薬品の名称が表示されているとい\nえる。\nしたがって，相違点３－４は存在しない。\nオ  結論\n審決は，相違点３－１，３－３を根拠として無効理由３に係る本件発明\n５，７，９についての審判請求は成り立たないとしたものであり，上記相\n違点の認定の誤りが，審決の結論に影響を及ぼすことは明らかであるから，\n審決の上記部分は取り消されるべきである。\n(2)  容易想到性の判断について\nア  相違点３－１について\n前記(1)アのとおり，相違点３－１の認定には誤りがあるから，審決の容\n易想到性の判断にも誤りがあることは明白である。\nイ  相違点３－３について\n前記(1)アのとおり，相違点３－１の認定には誤りがあるから，これを前\n提とした相違点３－３の容易想到性の判断にも誤りがある。\n甲１３文献には，全ての医薬品の組み合わせ（主従入れ替えたものも含\nめ）について，データベースに登録がないか否かを検索する構成が開示さ\nれているから，これを引用発明２に組み合わせることで，相違点３－３の\n構成に想到することは容易である。\nウ  結論\n審決の相違点３－１，３－３についての容易想到性の判断には誤りがあ\nり，その誤りは，本件発明５，７，９についての審判請求は成り立たない\nとした審決の結論に影響を及ぼすことは明らかであるから，審決の上記部\n分は取り消されるべきである。\n３  原告取消事由３（本件発明５，７，９に関する引用発明３に基づく進歩性判\n断の誤り）について\n(1)  本件発明５についての容易想到性の判断\n前記１(2)イのとおり，甲２２文献，甲４６，甲４７等から認定できる周知\n技術，技術水準に照らせば，相互作用チェック結果を表示する上で，必要な\n項目に関連する情報を表示させる方法として，甲２２文献に記載されるよう\nなタブでの画面切り替えという周知技術を採用することには十分な動機付け\nがある。また，相互作用チェックシステムが処方監査の一つの機能であるこ\nとを考慮すると，情報の分類を新規処方データと蓄積処方データとで区分け\nすることも当業者が適宜設計可能な事項に過ぎない。\nしたがって，相違点４－３に係る構成は当業者が容易に想到することがで\nきたものである。\n(2)  本件発明７についての容易想到性の判断\n前記１(1)のとおり，甲８文献には，原告主張引用発明１の構成が記載され\nているといえる。そうすると，相違点４－５に係る構成は，甲８文献記載の\n上記事項を組み合わせることにより容易に想到することができたものである。\n(3)  本件発明９についての容易想到性の判断\n前記１(3)エと同様に，本件特許の出願時の周知技術，技術水準（甲４８～\n５０）に照らせば，甲３文献の記載に接した当業者は，ユーザ登録機能を有\nする商品は，商品に共通に搭載される共通マスタとは別に個別マスタをもつ\nものと理解するのが自然である。そして，ユーザ登録機能は，登録したデー\nタを利用させることが当然の目的であるのであるから，共通マスタに個別マ\nスタを優先させることも自明である。\n仮に，甲３文献から，そこまで理解できなかったとしても，甲１８，１９\n文献に記載されるとおり，相互作用チェックシステムを含む薬品の情報検索\nシステムにおいて，全病院に共通のデータベースと，院内独自のデータベー\nスを分け，院内独自のデータベースを優先的に利用するシステムは公知であ\nったのであるから，甲３文献にそのような公知技術をさらに適用して，相違\n点４－７に係る構成は，当業者が容易に想到することができたものである。\n(4)  結論\n審決の相違点４－３，４－５，４－７についての容易想到性の判断には誤\nりがあり，その誤りは，本件発明５，７，９についての審判請求は成り立た\nないとした審決の結論に影響を及ぼすことは明らかであるから，審決の上記\n部分は取り消されるべきである。\n第６  被告らの反論\n１  原告取消事由１（本件発明５，７，９に関する引用発明１に基づく新規性，\n進歩性判断の誤り）について\n(1)  引用発明１の認定について\n甲８文献別紙６－２からは，「チェック開始」ボタンの機能が不明である。\nまた，「画面クリア」のボタンにより医薬品の入力内容が削除可能であると\nしても，そのことは，「チェック開始」ボタンの機能と無関係である。さら\nに，「チェック開始」ボタンを押下することにより入力された医薬品に対し\nて医薬品の相互作用チェックが実施されるとしても，そこには「追加入力」\nの要素は開示されていないし，原告が主張する「追加入力」が何を示すかも\n不明である。\nなお，後記(3)ウのとおり，原告の本件発明７の「薬品追加」についての理\n解は誤っており，「追加入力した医薬品名と共に再度同じ形式で表示される\nことも自明である」とはいえない。\n(2)  相違点の認定について\nア  相違点１－１について\n(ｱ)  前記第３の１(1)ア(ｱ)のとおり，本件発明１の「個別に格納」は，一\nの医薬品と他の一の医薬品を「１対１」の組み合わせ，すなわち，同一\nの基準又は粒度で格納し（同一粒度），かつ，他の組み合わせと分離し\nて格納すること（分離格納）を意味するから，Ａ薬品からみたＢ薬品に\n関する相互作用情報とＡ薬品からみたＣ薬品に関する相互作用情報が分\n離されて格納されることを要する。\n(ｲ)  引用発明１の「添付文書データベース」は，単なる添付文書のデータ\nベースを有するに過ぎないため，Ａ薬品からみたＢ薬品に関する相互作\n用情報とＡ薬品からみたＣ薬品に関する相互作用情報は同一文書内に格\n納されており，これらの情報が分離して格納されていないことは明らか\nである。\nイ  相違点１－２について\n甲８文献からは，入力された医薬品間の相互作用情報を確認する機構を\n備えていることが明らかになるにすぎず，入力されたデータが新規処方デ\nータであるか，それとも，過去の処方データなのかは定かではない。\n原告は，①新規処方データ間の相互作用チェックを想定していないので\nあれば，新規処方データの入力欄は１つでよいこと，②過去の処方データ\nについては蓄積データを用いることが当時の技術水準にかない，都度入力\nさせることは考えがたいことを主張するが，甲８文献の入力データが特定\nされていない以上，このようにいうことはできない。\nまた，原告は，引用発明１を紹介する甲３文献には「患者に処方された\n薬剤の監査を怠るわけにはいかないのが現状である。…相互作用のチェッ\nクシステムの必要性が要求されている」との記載から，「相互作用のチェ\nックシステム」は処方監査を目的としていると述べ，引用発明１において\n入力される医薬品は新規処方データを含むと主張するが，論理の飛躍が甚\nだしく趣旨が不明である。そもそも原告が主張する「相互作用のチェック\nシステム」の意味内容が不明であり，かつ当該システムが処方監査を目的\nとすることと引用発明１との関係も不明であり，さらに，かかる記載がな\nぜ，引用発明１における医薬品の範囲を特定するのかも不明である。\nウ  相違点１－３について\n原告は，引用発明１の「添付文書データベース」は，本件発明の「相互\n作用マスタ」に該当すると主張するが，このようにいえないことは，上記\nアに記載したところから明らかである。\nエ  相違点１－４について\n引用発明１のマトリックス表示に，医薬品名称そのものが表示されてい\nないのであるから，相違点１－４の認定に誤りはない。アルファベットが\n医薬品名称の代替記号であったとしても，そのことによって審決の結論が\n左右されるものではない。\n(3)  容易想到性の判断について\nア  原告の主張する「リレーショナルデータベースの格納形式」の構成は特\n定されておらず，その主張は意味不明である。審決は，リレーショナルデ\nータベースによる「１対多」の構成が実現可能であるため，これをあえて\n「１対１」に限定することが自明ではないとしているところ，原告は，「１\n対１」の構造が容易想到であることを主張していない。\nイ  本件発明５について\n(ｱ)  本件発明５は本件発明１に新たな構成を付加したものであるが，引用\n発明１は本件発明１の「相互作用マスタ」の構成を有していない点で相\n違し，この相違点に係る構成は容易想到性を欠くのは上記(2)のとおりで\nあるから，審決の判断に誤りはない。\n(ｲ)  また，仮にタブによる切り替えが一般的な技術として周知であったと\nしても，これをマトリックス表示に適用する発明思想は原告が挙げるい\nずれの文献にも開示されていない。また，相互作用システムが処方監査\nの一つの機能であることと引用発明１等との関係が明らかではない。\nウ  本件発明７について\n(ｱ)  本件発明７は本件発明１に新たな構成を付加したものであるが，引用\n発明１は本件発明１の「相互作用マスタ」の構成を有していない点で相\n違し，この相違点に係る構成は容易想到性を欠くのは上記(2)のとおりで\nあるから，審決の判断に誤りはない。\n(ｲ)  また，本件発明７における薬品追加操作は，既に実行された相互作用\nチェックの対象に，新たな自己医薬品を追加して，当該自己医薬品との\n関係でのみ，新たに相互作用チェックを行う機能である（請求項７の記\n載，【００３４】）。これに対し，原告の主張する引用発明１の構成は，\n相互作用チェックを実行する際，対象となる自己医薬品を自由に入力で\nきること（「チェック開始ボタン」を押下するまでは，自己医薬品の追\n加・削除が可能なこと）を示すに過ぎず，既に実施された相互作用チェ\nックの結果に対して，追加的に相互作用チェックを行うことや，当該追\n加部分のみについて，相互作用チェックを行うことは開示されていない。\nエ  本件発明９について\n(ｱ)  本件発明９は本件発明１に新たな構成を付加したものであるが，引用\n発明１は本件発明１の「相互作用マスタ」の構成を有していない点で相\n違し，この相違点に係る構成は容易想到性を欠くのは上記(2)のとおりで\nあるから，審決の判断に誤りはない。\n(ｲ)  甲３・表１「チェック機能」「使用者が相互作用対象医薬品を独自に\n搭載できるか？」と「メンテナンス体制」との記載から，共通マスタと\n個別マスタの構成を読み取ることはできない。また，共通マスタと別に\n個別マスタを利用するシステムが市販されていた旨の原告の主張は裏付\nけを欠く。そのため，ユーザー登録機能を有する相互作用チェックシス\nテムにおいて，共通マスタ・個別マスタを備えることは当然であったと\nはいえない。\n甲１８文献の【００３６】【００３７】からは，あくまでも，患者の\n氏名性別等の情報を「薬局サーバ１２」の「自薬局用のデータベース」\nから先に検索するとの発明思想が開示されているにとどまり，「薬局サ\nーバ１２」と「マスタサーバ１１」との間の関係は不明であるから，こ\nれらが，個別マスタと共通マスタの関係に立つのか定かではなく，また，\n優先関係に関する発明思想も開示されていない。\n甲１９文献【００１８】の「薬品マスター」は「薬品基本マスター」\nの部分的な情報の集合体にすぎず，独自の情報を格納しないから，個別\nマスタと共通マスタの関係に立っておらず，ましてや，これらマスタ間\nの優先関係に関する発明思想の開示もない。\nこのように，甲１８，１９文献の記載からは，処方監査や医薬品処方\n管理という本件特許の属する技術分野で個別マスタと共通マスタを別に\n管理することは周知であり，かつ，個別マスタを優先して使い，データ\nがない場合に共通マスタを用いることは公知であったとは到底いえない。\n甲４８～５０からも，一般的に標準データよりも個別データを優先し\nて処理することが周知技術であったとはいえない。\n(ｳ)  甲３文献の「ユーザ登録機能」の記載から，本件発明９の「相互作用\nマスタ」という具体的な機構を前提とした「相互作用共通マスタ」と「相\n互作用個別マスタ」という構成に想到することはない。\n甲１８，１９文献には共通マスタと個別マスタの発明思想は開示され\nていないし，仮に「全病院共通と院内独自のデータベースを分け後者を\n優先利用するシステム」が知られていたとしても，そのことのみをもっ\nて，当業者が「相互作用共通マスタ」と「相互作用個別マスタ」に想到\nすることはない。\n２  原告取消事由２（本件発明５，７，９に関する引用発明２に基づく進歩性判\n断の誤り）について\n無効理由１はＥＤＩＳに関するものである一方，無効理由２は甲７文献に基\nづくものである。甲７文献はＥＤＩＳの構成に関する文書であるから，そこに\n開示される構成を仔細に検証しても，無効理由１で引用されたＥＤＩＳの構成\n以上の具体化は期待できない。\nしたがって，引用発明２を主引用例とする無効理由２については，上記１に\nおいて主張したところが妥当する。\n３  原告取消事由３（本件発明５，７，９に関する引用発明３に基づく進歩性判\n断の誤り）について\n審決における本件発明１と引用発明３の相違点の認定に誤りがあることは前\n記第３の１(1)のとおりであるが，引用発明３を主引用例とした本件発明５，本\n件発明７及び本件発明９の進歩性が否定されないとした審決の結論に誤りはな\nい。\n第７  当裁判所の判断\n１  本件発明について\n(1)  特許請求の範囲の記載\n本件発明の特許請求の範囲の記載は，前記第２の２に記載のとおりである。\n(2)  本件明細書の記載\n本件明細書には以下の記載がある（甲４４，乙１４）。\n【０００１】【発明の属する技術分野】\n本発明は，病院や調剤薬局などの医療施設で処方箋監査業務や処方設計\n業務に使用する医薬品相互作用チェック装置に関するものである。\n【０００２】【従来の技術】\n従来，病院などのホストコンピュータ上で稼働する処方オーダリングシ\nステムでは，患者に投薬する医薬品の処方を医師が指示して，その処方デ\nータを入力する際に医薬品間の相互作用，すなわち医薬品の効能が相殺さ\nれる等をチェックすることが行われている。\n・・・・\n【０００８】【発明が解決しようとする課題】\nしかしながら，前記いずれのものでも，医薬品間の相互作用のチェック\nに主眼が置かれ，表示内容は「Ａ医薬品とＢ医薬品は併用禁忌」等の簡単\nなものに過ぎない。したがって，同一患者の過去の処方データも含めて処\n方全体を監査したり，不都合な医薬品の代替品を検討するなど，処方デー\nタの詳細を分析するような薬剤師向けの用途には不十分である。この場合，\n単純に相互作用のチェック内容を表示するだけでは，複雑で見にくいもの\nとなり，実用的でない。\n・・・・\n【００１１】そこで，本発明は，医薬品の相互作用のチェック結果を，実用\n的に分かりやすく表示できる医薬品相互作用チェック装置を提供すること\nを課題とする。\n【００１２】【課題を解決するための手段】\n本発明は，前記課題を解決するための手段として，\n医薬品相互作用チェック装置を，\n一の医薬品から見た他の一の医薬品の場合と，前記他の一の医薬品から\n見た前記一の医薬品の場合の２通りの主従関係で，相互作用が発生する組\nみ合わせを個別に格納する相互作用マスタを記憶する記憶手段と，\n入力された新規処方データの各医薬品を自己医薬品及び相手医薬品とし，\n自己医薬品と相手医薬品の組み合わせが，前記相互作用マスタに登録した\n医薬品の組み合わせと合致するか否かを判断することにより，相互作用チ\nェック処理を実行する制御手段と，\n対象となる自己医薬品の名称と，相互作用チェック処理の対象となる相\n手医薬品の名称とをマトリックス形式の行又は列にそれぞれ表示し，前記\n制御手段による自己医薬品と相手医薬品の間の相互作用チェック処理の結\n果を，前記マトリックス形式の該当する各セルに表示する表示手段と，\nを備えた構成としたものである。\n【００１３】この構成により，表示画面を簡素化し，新規処方データと蓄積\n処方データの各医薬品について相互作用を一目で把握可能に表示させ，必\n要な情報を簡単に得ることが可能となる。・・・・\n【００２０】【発明の実施の形態】\n以下，本発明に係る実施形態を添付図面に従って説明する。\n図１は，本実施形態に係る医薬品相互作用チェック装置を示す。この装\n置は，液晶ディスプレイなどの表示装置１，キーボード・マウスなどの入\n力装置２，及びハードディスクなどの記憶装置３を備える。医薬品相互作\n用チェック装置全体としては中央処理装置（ＣＰＵ）４によってプログラ\nム制御する。また，必要に応じて，レーザプリンタなどの印刷装置５，及\nびホストコンピュータ（処方データ送信装置）６を接続する。これらの装\n置はパーソナルコンピュータで構成してもよい。但し，ハードウェア機器\nの種類と台数は任意である。・・・・\n【００２３】記憶装置３には，各種データをファイルやデータベースとして\n記憶する。各種データには，過去の処方データを蓄積して記憶する蓄積処\n方データ，相互作用の薬効組合せと作用を登録して記憶する相互作用共通\nマスタ，医療施設毎に相互作用を登録して記憶する相互作用個別マスタ，\n相互作用チェックを除外する薬効組合せを登録して記憶する相互作用除外\nマスタ，作用・機序内容を登録して記憶する作用マスタ，処方データを入\n力する際などの関連情報を記憶する各種マスタがある。各種マスタには，\n医薬品マスタ，患者マスタ，診療科マスタ，医師マスタ，病棟マスタ，処\n方箋区分マスタ，用法マスタなどがある。コードと名称などを格納するよ\nうな簡単な構成のマスタなので図は省略する。\n【００２５】蓄積処方データは，患者の全ての処方データを蓄積して記憶す\nるデータである。その記憶内容を図２に示す。この蓄積処方データ（図２）\nは，単独チェック動作の場合には，新規の処方データをキーボード入力し\nて書き込み（図１３のステップＳ６６），連続チェック動作の場合には，\nホストコンピュータ６から処方データを受信して相互作用の発生が無けれ\nば自動的に書き込む（図１４のステップＳ７８）（相互作用の発生が有れ\nば単独チェック動作と同様に操作者の判断で書き込む。）。図２の「３／\n１０内科」処方の例では，病院薬局なので医療機関コードはデータ無し状\n態の空であり（調剤薬局ならば，多くの医療機関から発行される院外処方\n箋を受け付けるので，その識別が必要になる。），外来処方箋なので病棟\nコードと病室番号は空である。医薬品コード（例：４４９０００８Ｆ１０\n２０）には，厚生省が定めた薬価基準収載用医薬品コード１２桁を使用し\nているが，独自体系のコードでもよい。但し，その場合は，医薬品マスタ\nに薬効コードを登録して，医薬品コードから薬効コードを求める処理が必\n要になる。なお，蓄積処方を検索する場合は患者番号と投薬期間を検索キ\nーとする。\n【００２６】相互作用が発生する医薬品の組合せについてのデータは，デー\nタ量を抑えるために医薬品コードではなくて薬効コードの組合せで表現す\nる。これらのデータには，添付文書データから作成して医療施設に配付す\nる共通マスタ，各医療施設が個別に相互作用を登録する個別マスタ，及び，\n各医療施設が相互作用チェックを除外する除外マスタがある。これらの３\n種類のマスタはデータ構成が同じであり，相互作用共通マスタの記憶内容\nを図３に示す。図３中，主薬効コードとは，組合せの主となる薬効コード\nを意味する。薬効コードは厚生省が定めた薬価基準収載用医薬品コードの\n先頭７桁でも何でもよい。従薬効コードとは，組合せの従となる薬効コー\nドを意味する。危険度とは，薬剤相互作用の危険度を意味する。併用注意\nであれば１，併用禁忌であれば２を入力する。作用コードとは，作用マス\nタ（図４）の作用コードを意味する。なお，これらの相互作用のマスタ（図\n３）のデータは，メニュー画面（起動ボタンが並ぶだけの画面なので図示\n省略）から起動される相互作用共通・個別・除外マスタ登録の画面（デー\nタ構成と同じ画面構成なので図示省略）で入力する。\n【００２７】作用マスタは，作用・機序などの詳細情報を記憶するデータで\nある。その記憶内容を図４に示す。相互作用共通マスタ（図３）と同様に，\n作用マスタは添付文書データから作成して医療施設に配付するが，各医療\n施設で個別に登録することもできる。作用マスタ（図４）のデータは，メ\nニュー画面（起動ボタンが並ぶだけの画面なので図示省略）から起動され\nる作用マスタ登録の画面（データ構成と同じ画面構成なので図示省略）で\n入力できる。図４中，作用コードとは，作用の詳細情報を特定するための\n一意なコードを意味する。作用・機序内容とは，作用，処置，文献書誌事\n項などのあらゆる詳細情報を意味する。\n【００２８】次に，単独チェック動作の処理について，図７のフローチャー\nトに従って説明する。ここに，単独チェック動作の処理とは，医薬品相互\n作用チェック装置とホストコンピュータ６とを接続しない場合の処理を意\n味する。\n【００２９】この処理では，まず，メニュー画面（起動ボタンが並ぶだけの\n画面なので図示省略）から起動し，図５（新規処方内チェック結果）又は\n図６（蓄積処方内チェック結果）に示す「相互作用チェック」画面を表示\nさせる（ステップＳ１）。この状態では，「対象日」欄に本日の日付が表\n示され，「患者番号」欄と「新規処方」欄とが空となっている。そこで，\n患者番号と新規処方の医薬品とを，キーボードやマウスで入力する（ステ\nップＳ２）。「患者番号」欄に入力すると，図２に示すデータ構成と同様\nの画面構成のサブウィンドウ（図示省略）が表示され，処方データの詳細\nが新規処方データとして入力される。そして，「患者処方チェック」手続\nき（図８）を呼び出し，新規処方内の相互作用チェックと，新規処方と蓄\n積処方の相互作用チェックとを行う患者処方チェック処理を実行する（ス\nテップＳ３）。但し，チェックの「対象日」欄に任意の日付を入力し，対\n象日を指定して相互作用チェックを実行することもできる。続いて，「チ\nェック画面処理」手続き（図１２）を呼び出し，「相互作用チェック」画\n面（図５）での画面操作によりチェック画面処理を実行する（ステップＳ\n４）。この処理は，「相互作用チェック」画面（図５）の「終了」ボタン\nがマウスでクリックされるまで繰り返す（ステップＳ５）。\n【００３０】前記ステップＳ４のチェック画面処理では，図８のフローチャ\nートに示すように，まず，作業データの「自己処方」に新規処方を設定す\nる（ステップＳ１１）。また，作業データの「相手処方」に新規処方を設\n定する（ステップＳ１２）。そして，「処方間チェック」手続き（図９）\nを呼び出し，自己処方と相手処方の相互作用チェック（処方間チェック）\nを実行する（ステップＳ１３）。また，蓄積処方データ（図２）から同一\n患者の蓄積処方を検索する（ステップＳ１４）。その後，蓄積処方データ\nが終了したか否かを判断し（ステップＳ１５），終了していれば，図７の\n単独チェック動作の処理に復帰し，終了していなければ，作業データの「相\n手処方」に次の蓄積処方データを設定して（ステップＳ１６），前記ステ\nップＳ１３の処方間チェックから繰り返す。\n【００３１】前記ステップＳ１３の処方間チェックの処理は，図９のフロー\nチャートに示すように，作業データの「自己医薬品」に自己処方の１行目\n（行＃１）の医薬品を設定する（ステップＳ２１）。続いて，「複数相手\n医薬品チェック」手続き（図１０）を呼び出し，自己医薬品と相手処方の\n複数医薬品との相互作用チェック（複数相手医療品チェック）を実行する\n（ステップＳ２２）。ここで，自己処方内の医薬品のチェックが全て終了\nしたか否かを判断し（ステップＳ２３），全て終了していれば，図８の患\n者処方チェック処理に復帰し，終了していなければ，作業データの「自己\n医薬品」に自己処方の次行目の医薬品を設定し（ステップＳ２４），前記\nステップＳ２２に戻って前記処理を繰り返す。\n【００３２】前記ステップＳ２２の複数相手医薬品チェックの処理は，図１\n０のフローチャートに示すように，作業データの「相手医薬品」に相手処\n方の１列目（列＃１）の医薬品を設定する（ステップＳ３１）。そして，\n「医薬品間チェック」手続き（図１１）を呼び出し，自己医薬品と相手医\n薬品の相互作用チェック（医薬品間チェック）を実行する（ステップＳ３\n２）。ここで，相手処方内の医薬品のチェックが全て終了したか否かを判\n断し（ステップＳ３３），全て終了していれば，図９の処方間チェックに\n復帰し，終了していなければ，作業データの「相手医薬品」に相手処方の\n次列目の医薬品を設定し（ステップＳ３４），前記ステップＳ３２に戻っ\nて前記処理を繰り返す。\n【００３３】前記ステップＳ３２の医薬品間チェックの処理は，図１１のフ\nローチャートに示すように，自己医薬品と相手医薬品が同じか否かを判断\nし（ステップＳ４１），同じであれば，図１０の複数相手医薬品チェック\nの処理に復帰する。また，同じでなければ，自己医薬品と相手医薬品の薬\n効コードの組合せについて，「自己－相手」と「相手－自己」の２通りの\n主従関係で相互作用個別マスタ（データ構成は図３と同じ）を検索し，該\n当する行データを取得する（ステップＳ４２）。そして，自己医薬品と相\n手医薬品の薬効コードの組合せについて，相互作用除外マスタ（データ構\n成は図３と同じ）を検索し，該当する行データを除外する（ステップＳ４\n３）。ここで，取得した中から除外した残りの相互作用データが有るか否\nかを判断し（ステップＳ４４），有れば，チェック画面処理（図１２）が\n処理するための相互作用データ（チェック結果）を設定する（ステップＳ\n４８）。一方，残りの相互作用データがなければ，自己医薬品と相手医薬\n品の薬効コードの組合せについて，「自己－相手」と「相手－自己」の２\n通りの主従関係で相互作用共通マスタ（図３）を検索し，該当する行デー\nタを取得する（ステップＳ４５）。そして，自己医薬品と相手医薬品の薬\n効コードの組合せについて，相互作用除外マスタ（データ構成は図３と同\nじ）を検索し，該当する行データを除外する（ステップＳ４６）。ここで，\n再度，取得した中から除外した残りの相互作用データが有るか否かを判断\nし（ステップＳ４７），有れば前記ステップＳ４８でチェック結果を設定\nし，無ければ，図１０の複数相手医薬品チェックの処理に復帰する。\n【００３４】また，図７のステップＳ４に於けるチェック画面処理は図１２\n及び図１３のフローチャートに示すように，まず，「相互作用チェック」\n画面（図５）での医薬品マトリックス表示部に新規処方のチェック結果を\n表示する（ステップＳ５１）。具体的には，マトリックスの「セル」に表\n示する記号で表現し，「△」印が併用注意であり，「×」印が併用禁忌で\nある。そして，「△」印または「×」印の「セル」をマウスでクリックす\nると，作用表示欄に作用・機序などの詳細情報を表示させることが可能で\nある。図５の例では，ハルシオン錠とイトリゾールカプセルの「×」印の\n「セル」をマウスでクリックして詳細情報を表示させている。続いて，「薬\n品追加」ボタンがマウスでクリックされれば（ステップＳ５２），新規処\n方の次の行に新規の医薬品をキーボード・マウス入力する（ステップＳ５\n３）。次いで，作業データの「自己医薬品」に追加医薬品を設定する（ス\nテップＳ５４）。さらに，「複数相手医薬品チェック」手続き（図１０）\nを呼び出し，追加医薬品と相手処方の複数医薬品との相互作用チェック（複\n数相手医薬品チェック処理）を実行する（ステップＳ５５）。その後，前\n記ステップＳ５２に戻って薬品追加ボタン判断から繰り返す。「タブ」（図\n５の「新規処方」「３／１０内科」）がマウスでクリックされれば（ステ\nップＳ５６），「タブ」に該当する相手処方を列項目とするマトリックス\n表示に切り替え（ステップＳ５７），新規処方に追加医薬品が有るか否か\nを判断し（ステップＳ５８），有れば前記ステップＳ５４及びＳ５５を実\n行する。図５の例では，「３／１０内科」の「タブ」をマウスでクリック\nして図６の表示に切り替える。「セル」がマウスでクリックされれば（ス\nテップＳ６１），「セル」に該当する作用・機序内容を作用マスタ（図４）\nから取得して作用表示部に表示する（ステップＳ６２）。作用表示部の除\n外チェックボックス（□）がマウスでチェックされれば（ステップＳ６３），\nチェックボックス内に「∨」印でチェックされたデータを相互作用除外マ\nスタ（データ構成は図３と同じ）に登録する（ステップＳ６４）。これは，\n数が多く，重要性の低い医薬品について，相互作用チェックの対象から除\n外することにより，併用注意が多くなり過ぎる弊害を防止するために行う。\n「処方登録」ボタンがマウスでクリックされれば（ステップＳ６７），新\n規処方の処方データを蓄積処方データ（図２）に登録する（ステップＳ６\n６）。「印刷」ボタンがマウスでクリックされれば（ステップＳ６５），\n「相互作用チェック」画面（図５）の内容を印刷装置５で印刷する（ステ\nップＳ６８）。そして，前記各動作が実行された後は，前記ステップＳ５\n２に戻って薬品追加ボタン判断から繰り返す。なお，「処方消去」「終了」\nボタンがマウスでクリックされれば（ステップＳ６９），図７の単独チェ\nック動作に復帰する。・・・・\n【００３９】なお，前記実施形態では，新規処方データ間，新規処方データ・\n蓄積処方データ間で，医薬品の相互作用をチェックできるようにしたが，\n蓄積処方データ間で再チェック可能としてもよいことは勿論である。\n【００４０】【発明の効果】\n以上の説明から明らかなように，本発明によれば，相互作用のチェック\n結果を，新規処方データの各医薬品と蓄積処方データの各医薬品とのマト\nリックス形式で表示するようにしたので，相互作用を詳細にチェック可能\nとなると共に，直感的にも分かりやすくすることができる。・・・・・\n(3)  本件発明の特徴\nア  発明の属する技術分野\n本件発明は，病院や調剤薬局などの医療施設で処方箋監査業務や処方設\n計業務に使用する医薬品相互作用チェック装置に関する（【０００１】）。\nイ  背景技術\n従来，病院などのホストコンピュータ上で稼働する処方オーダリングシ\nステムでは，患者に投薬する医薬品の処方を医師が指示して，その処方デ\nータを入力する際に医薬品間の相互作用，すなわち医薬品の効能が相殺さ\nれる等をチェックすることが行われている（【０００２】）。\nウ  本件発明が解決しようとする課題\n従来は，医薬品間の相互作用のチェックに主眼が置かれ，表示内容は「Ａ\n医薬品とＢ医薬品は併用禁忌」等の簡単なものに過ぎず，したがって，同\n一患者の過去の処方データも含めて処方全体を監査したり，不都合な医薬\n品の代替品を検討するなど，処方データの詳細を分析するような薬剤師向\nけの用途には不十分であり，この場合，単純に相互作用のチェック内容を\n表示するだけでは，複雑で見にくいものとなり，実用的でない（【０００\n８】）。\nそこで，本件発明は，医薬品の相互作用のチェック結果を，実用的に分\nかりやすく表示できる医薬品相互作用チェック装置を提供することを課題\nとする（【００１１】）。\nエ  課題を解決するための手段\n本件発明は，前記課題を解決するための手段として，\n医薬品相互作用チェック装置を，\n一の医薬品から見た他の一の医薬品の場合と，前記他の一の医薬品から\n見た前記一の医薬品の場合の２通りの主従関係で，相互作用が発生する組\nみ合わせを個別に格納する相互作用マスタを記憶する記憶手段と，\n入力された新規処方データの各医薬品を自己医薬品及び相手医薬品とし，\n自己医薬品と相手医薬品の組み合わせが，前記相互作用マスタに登録した\n医薬品の組み合わせと合致するか否かを判断することにより，相互作用チ\nェック処理を実行する制御手段と，\n対象となる自己医薬品の名称と，相互作用チェック処理の対象となる相\n手医薬品の名称とをマトリックス形式の行又は列にそれぞれ表示し，前記\n制御手段による自己医薬品と相手医薬品の間の相互作用チェック処理の結\n果を，前記マトリックス形式の該当する各セルに表示する表示手段と，\nを備えた構成としたものである（【００１２】）。\nオ  本件発明の効果\n本件発明の構成により，表示画面を簡素化し，新規処方データと蓄積処\n方データの各医薬品について相互作用を一目で把握可能に表示させ，必要\nな情報を簡単に得ることが可能となる（【００１３】）。\n本件発明によれば，相互作用のチェック結果を，新規処方データの各医\n薬品と蓄積処方データの各医薬品とのマトリックス形式で表示するように\nしたので，相互作用を詳細にチェック可能となると共に，直感的にも分か\nりやすくすることができる（【００４０】）。\n２  被告取消事由１（本件発明１に関する進歩性判断の誤り）について\n(1)  引用発明３の認定について\nア  甲１４文献には次の記載がある。\n(ｱ)  【発明の属する技術分野】  本発明は，医療機関において処方情報の\n監査処理をコンピュータ上で行う処方鑑査システムに係り，医師あるい\nは薬剤師が行う処方箋の発行や処方鑑査業務を効率的に行えるようにし\nた医薬品相互作用チェック方法及びその装置に関する。（【０００１】）\n(ｲ)  本発明は上記問題に着目してなされたもので，各医薬品に付される添\n付文書から抽出された医薬品に関する情報をコード化することによりデ\nータの処理時間を短縮し，容易に医薬品相互作用のチェックを行うこと\nができる医薬品相互作用チェック方法及びその装置を提供することを目\n的としている。（【０００８】）\n(ｳ)  図１は，本発明の装置の一形態を示す構成図である。本発明に係る装\n置は図１に示すように，医薬品相互作用チェック結果を表示するための\n表示装置１０と，チェックする医薬品を入力するための入力装置１１と，\nＣＰＵ及びメモリ等の処理部１２と，あらかじめ用意された全ての医薬\n品に関するデータが作成記憶されているディスク１３（記憶手段として\nはこの他に，ＣＤ－ＲＯＭ１４，フロッピーディスク１５を使用するこ\nともできる。）と，医薬品に関するデータ，あるいはチェックした医薬\n品の相互作用に関するデータ等をプリントアウトするための出力装置１\n６とから構成されている。\n図２は，医薬品相互作用チェック処理に使用される各機能ごとのデー\nタの構成，すなわちファイル構成を示しており，それぞれがメモリ上で\nは区分されてファイルとして記憶されている。自己医薬品テーブル１０\n２には，予め医薬品入力１０１の過程により入力された処方される医薬\n品（自己医薬品）の医薬品マスターコード（後述する）が記憶され，相\n手医薬品テーブル１０３には，処方履歴を基に抽出した患者が服用して\nいる医薬品（相手医薬品）及び処方される医薬品の医薬品マスターコー\nド，調剤日，医療機関名が記憶される。医薬品相互作用チェックマスタ\n１０４には，予め医薬品固有の情報が全て記憶され，医薬品相互作用チ\nェックテーブル１０５には，医薬品間の相互作用の有無をチェックする\n情報が記憶されており，自己医薬品に対する自己テーブル部４０１と相\n手医薬品に対する相手テーブル部４０２（図４を参照）とを含む。また，\n医薬品相互作用コメントファイル１０６には，医薬品の相互作用の結果\nをコメントとして提供するための文字情報がコメントコードと共に記憶\nされ，医薬品相互作用機序ファイル１０７には，医薬品相互作用の機序\nが文字情報として相互作用機序コードと共に記憶されている。\nそして，前記のファイルに基づく医薬品相互作用チェック１０８の過\n程では，上記入力データ及び記憶データを基に自己医薬品及び相手医薬\n品の一般名コード，薬効分類コード，ＢＯＸコード（いずれも後述する）\nを医薬品相互作用チェックマスタ１０４から取得して，処方医薬品相互\n作用チェックマスタＳの形態で一時記憶テーブル１１０に記憶され（図\n３を参照），自己医薬品の前記各コードに対して相互作用を有する全て\nの医薬品（相手医薬品，相手飲食物等）と相互作用コメント等が処方医\n薬品相互作用チェックテーブルＴの形態で一時記憶テーブル１１０に記\n憶される（図４を参照）。図３に示すように，処方医薬品相互作用チェ\nックマスタＳの形態は，入力された処方医薬品の医薬品マスターコード\nに対応する医薬品名称，一般名コード，薬効分類コード，ＢＯＸコード\nが記憶される構成となる。また，図４に示すように，処方医薬品相互作\n用チェックテーブルＴの形態では，自己テーブル部４０１に入力された\n処方医薬品の一般名コード，薬効分類コード，ＢＯＸコードが記憶され，\n相手テーブル部４０２に前記自己テーブル部のそれぞれのコードと相互\n作用を持つ医薬品の一般名コード，薬効分類コード，ＢＯＸコードが記\n憶される。そして，コメントテーブル部４０３には，それぞれの相互作\n用に対するコメントと重篤区分に対応するレベルコードと相互作用の機\n序コードが記憶される。（【００１６】～【００１８】）\n(ｴ)  次に，医薬品相互作用のチェック方法の実施の一形態を図６に添って\n詳しく説明する。検索前処理８０１では，ステップ８１０において，前\n述したように処方される医薬品として入力装置１１に入力された自己医\n薬品の医薬品マスターコードを基に，一般名コード，薬効分類コード，\nＢＯＸコードを医薬品相互作用チェックマスタ１０４から検索して（ス\nテップ８１１），処方薬品相互作用チェックマスタＳの形態（図３を参\n照）で自己医薬品のそれぞれのコードを確定する。また，ステップ８１\n２において，処方履歴等を基に抽出された相手医薬品の医薬品マスター\nコードを基に一般名コード，薬効分類コード，ＢＯＸコードを医薬品相\n互作用チェックマスタ１０４から検索して（ステップ８１３），処方医\n薬品相互作用チェックマスタＳの形態で相手医薬品のそれぞれのコード\nを確定する。\n相互作用チェックテーブルの検索処理８０２では，ステップ８２０に\nおいて，医薬品相互作用チェックテーブル１０５から自己テーブル部４\n０１の検索が行われる。まず，検索前処理８０１で検索した自己医薬品\nの一般名コードが，医薬品相互作用チェックテーブル１０５の自己テー\nブル部４０１に存在するか否かの検索が行われる（ステップ８２１）。\n同様にして，薬効分類コードとＢＯＸコードについても検索が行われ（ス\nテップ８２２，８２３），それぞれの検索で存在したコードに関するデ\nータは処方医薬品相互作用チェックテーブルＴの形態で一時記憶テーブ\nル１１０に記憶される。 また，ステップ８２４において，前記ステップ\n８２０で検索して一時記憶テーブル１１０に記憶したデータから相手テ\nーブル部４０２の検索が行われる。まず，検索前処理８０１で検索した\n相手医薬品の一般名コードが前記一時記憶テーブル１１０の相手テーブ\nル部４０２に存在しているかの検索が行われる（ステップ８２５）。同\n様にして薬効分類コードとＢＯＸコードについても検索が行われ（ステ\nップ８２６，８２７），それぞれの検索でコードが存在する場合には，\n処方する自己医薬品には患者が服用している医薬品あるいは処方する医\n薬品（相手医薬品）との間に相互作用を有する組み合わせが存在するこ\nとになる。\n検索後処理８０３では，ステップ８３０において，前記相互作用チェ\nックテーブルの検索処理８０２で相互作用を有する医薬品の組み合わせ\nが存在した場合のコメントテーブル部４０３の作成が行われる。まず，\n相互作用を有する医薬品の組み合わせから相互作用コメントが確定され\n（ステップ８３０），相互作用の重篤レベルに対応する重篤区分が確定\nする（ステップ８３２）。そして，同様に医薬品の組み合わせに対する\n相互作用機序が確定される（ステップ８３１）。\n以上のように検索された医薬品相互作用チェック結果は，図７に示す\nような形態で表示装置１０に画面表示される。表示欄９０１には，入力\nされた自己医薬品名が，検索されたコードを基に医薬品相互作用チェッ\nクマスタから抽出され，表示される。また，表示欄９０２には，患者の\n処方履歴に記載された調剤日と医療機関名，及び，前記自己医薬品名に\n対して検索されたコードを基に相手医薬品名が，医薬品相互作用チェッ\nクマスタから抽出され，表示される。更に，表示欄９０３には，検索さ\nれた相互作用コメントコードを基に相互作用コメントが相互作用コメン\nトファイルから抽出されて表示され，表示欄９０４には，検索された機\n序コードを基に相互作用機序が医薬品相互作用機序ファイルから抽出さ\nれ，表示される。そして，前記画面表示は，検索した相互作用コメント\nの重篤レベルコードに対応して，重篤のコメントの場合には色付けによ\nり強調して表示するようにしている。尚，上記の表示画面及び検索過程\nにおけるデータは，必要に応じて接続された出力装置１６からプリント\nアウトすることができる。（【００２１】～【００２４】）\n(ｵ)  処方医薬品相互作用チェックテーブルの形態を示す図である。（【図\n４】）\nイ  以上によれば，引用発明３については，前記第２の３(2)ウ(ｱ)記載のと\nおり認定することができる（この点については当事者間に争いがない。）\n(2)  相違点の認定について\nア  本件発明１について\n(ｱ)  技術常識\n後掲各証拠及び弁論の全趣旨によれば，次の出願時の技術常識を認め\nることができる。\nａ  医薬品は，一般に，販売名（商品名）ないし一般名により特定され\nる。厚生労働省が定める「薬価基準収載用医薬品コード」は，１２桁\nからなるコードであり，下図のとおり，１２桁すべてによって商品名\nまでが特定される。このうち，先頭の４桁は薬効分類番号であるが，\n薬効分類のみからは，医薬品の有効成分を特定することができない。\nこれに対し，先頭の７桁を特定すれば，薬効，有効成分及び投与経路\nが特定できる。\nｂ  一般に，製薬会社が作成する添付文書には，医薬品毎に作用発現の\n仕組み（作用機序）が記載され，相手方医薬品との関係が，「併用禁\n忌」，「併用注意」に分けて明記されている。\nもっとも，医薬品の添付文書の記載には統一されたフォーマットが\nあるわけではなく，相互作用を生じる可能性のある医薬品の特定方法\nとして，商品名による場合もあれば，一般名（主成分）や効能による\n場合もある。\n例えば，医薬品の添付文書の相互作用の項目には，医薬品の一般名\nではなく「降圧剤」等薬効に着目した記載や，化合物の名称のみを記\n載することは少なくないし，飲食物や飲酒などの情報も記載されるこ\nとがある（乙８～１０，１３）。\n(ｲ)  「相互作用マスタ」について\nａ  「一の医薬品」と「他の一の医薬品」\n特許請求の範囲には，「一の医薬品」と「他の一の医薬品」におけ\nる「医薬品」が，販売名（商品名），一般名，薬効分類等のいずれの\nレベルの概念を意味するのかについて明示的な特定はない。\n(a)  しかし，「一の医薬品」と「他の一の医薬品」は，いずれも「医\n薬品」という同一の文言が用いられていることからすれば，これら\nは医薬品について同一のレベルの概念であると解するのが自然であ\nる。\n(b)  また，本件発明１の特許請求の範囲には，①入力された新規処方\nデータの各医薬品を自己医薬品及び相手医薬品とすること，②自己\n医薬品と相手医薬品の組み合わせが，前記相互作用マスタに登録し\nた医薬品の組み合わせと合致するか否かを判断することにより，相\n互作用チェック処理を実行することが記載されている。このように，\n入力された新規処方データの「各医薬品」に当たる医薬品を「自己\n医薬品」にも「相手医薬品」にもすることとされ，その組み合わせ\nが「相互作用マスタに登録した医薬品」の組み合わせと合致するか\nを判断するのであるから，「相互作用マスタに登録した医薬品」，\nすなわち，「一の医薬品」と「他の一の医薬品」は，同一のレベル\nの概念であることを要することが理解できる。\n(c)  さらに，「相互作用マスタ」に登録された医薬品の組み合わせと\nの合致の有無を判断する「新規処方データの各医薬品」は，医師の\n交付する処方せんのデータを示すものと解されるところ，医師の交\n付する処方せんには販売名（商品名）か一般名が記載されるもので\nある。そして，本件発明の医薬品相互作用チェック装置は医療施設\nでの処方箋監査業務や処方設計業務に使用されるものであるから，\n「新規処方データの各医薬品」は，医薬品の有効成分すらも特定で\nきない薬効分類を基準とするものであるとは考えられない。したが\nって，相互作用チェック処理において「新規処方データの各医薬品」\nの組み合わせとの合致を判断する対象たる「相互作用マスタ」に格\n納される「一の医薬品」及び「他の一の医薬品」は，薬効分類など\nの上位レベルの概念でないことは明らかである。\n他方，本件発明２は，本件発明１の「相互作用マスタ」の構成に\nついて，「相互作用が発生する組み合わせを，各医薬品の効能を定\nめた薬効コードの組み合わせ」とするものに限定するものであると\nころ，この「薬効コード」は例えば「薬価基準収載用医薬品コード」\nの先頭７桁とするものでよいとされ（【００２６】），これにより\n薬効，有効成分及び投与経路は特定されているから（上記(ｱ)），「医\n薬品」については，薬効，有効成分及び投与経路を特定するコード\nである場合を含むものといえる。\n(d)  以上によれば，本件発明１の「相互作用マスタ」における「一の\n医薬品」及び「他の一の医薬品」は，同一のレベルの概念によるも\nのに統一され，そのレベルは，薬効分類のような上位レベルの概念\nは含まず，販売名（商品名）か一般名かこれを特定するコードや，\n薬効，有効成分及び投与経路を特定することができるコードのレベ\nルであると解するのが相当である。\nｂ  「２通りの主従関係で」「個別に格納」\n本件発明１の「相互作用マスタ」について，特許請求の範囲には，\n「２通りの主従関係で」，相互作用が発生する組み合わせを「個別に\n格納」すると記載されている。\n「個別」とは，「個々別々。」（乙４）ないし「一つ一つ。それぞ\nれを別々に扱うこと」（乙５）を意味し，「２通りの主従関係で」と\nは，一方の医薬品を主，他方の医薬品を従とするほか，他方の医薬品\nを主，一方の医薬品を従とすることを意味すると解される。\nまた，特許請求の範囲には「一の医薬品」，「他の一の医薬品」と\n記載され，「医薬品」について「一の」と特定されているのであるか\nら，「相互作用マスタ」に「相互作用が発生する組み合わせ」が格納\nされる「医薬品」同士の関係は，「１対１」であり，「１対多」や「多\n対１」で対応するものではないと解される。\nそうすると，①Ａ薬品から見たＢ薬品に関する相互作用が発生する\n組み合わせについての情報と，②Ｂ薬品から見たＡ薬品に関する相互\n作用が発生する組み合わせについての情報とが，データとして個々別々，\nすなわち，Ａ薬品から見たＢ薬品に関する相互作用の有無等の情報が，\n他の相互作用の有無等の情報とは別に１つのデータとして格納され，\nまた，Ｂ薬品から見たＡ薬品に関する相互作用の有無等の情報が他の\n相互作用の有無等の情報とは別に１つのデータとして格納されるもの\nと解される。\nまた，「一の医薬品から見た他の一の医薬品の」「相互作用が発生\nする組み合わせ」は「個別に格納」されるのであるから，①Ａ薬品か\nら見たＢ薬品の相互作用の有無等の情報と，②Ａ薬品から見たＣ薬品\nの相互作用の有無等の情報のデータとは，個々別々に格納されると解\nされる。\nｃ  以上によれば，本件発明１の「相互作用マスタ」の「一の医薬品」\n及び「他の一の医薬品」は，両者とも，販売名（商品名）か一般名か\nこれを特定するコードや，薬効，有効成分及び投与経路を特定するこ\nとができるコードのレベルの概念で統一して格納され，①Ａ薬品から\n見たＢ薬品の相互作用が発生する組み合わせについての情報と，②Ｂ\n薬品から見たＡ薬品の相互作用が発生する組み合わせについての情報\nとは，データとして個々別々のものとして格納され，また，①Ａ薬品\nから見たＢ薬品に関する相互作用が発生する組み合わせについての情\n報と，③Ａ薬品から見たＣ薬品の相互作用が発生する組み合わせにつ\nいての情報とも，データとして個々別々のものとして格納されると解\nするのが相当である。\nイ  引用発明３について\n(ｱ)  「医薬品相互作用チェックテーブル１０５」について\n「医薬品相互作用チェックテーブル１０５」に記憶される「医薬品間\nの相互作用の有無をチェックする情報」は，「各医薬品に付される添付\n文書から抽出された医薬品に関する情報」である。これによれば，「自\n己テーブル部４０１」の「自己医薬品」の添付文書から抽出された情報\nにより，当該「自己医薬品」と相互作用が発生する医薬品の情報が「相\n手テーブル部４０２」の「相手医薬品」の情報として格納され，一方で，\nこの「相手医薬品」として格納された医薬品においても，同様に当該医\n薬品を「自己医薬品」とした添付文書から抽出された相互作用が発生す\nる医薬品の情報を「相手医薬品」の情報として，「医薬品相互作用チェ\nックテーブル１０５」に格納されることは明らかである。\nそして，前記ア(ｱ)のとおり，医薬品の添付文書の相互作用の項目には，\n相互作用が発生する医薬品名だけでなく，「降圧剤」のような上位の薬\n効分類での記載がされることも通常であるから，「Ａ薬品」の「添付文\n書の情報」は，「Ａ薬品」に対して「相互作用」が発生する医薬品の情\n報として，医薬品名ではなく，薬効分類のみの記載も含むものと解され\nる。\n引用発明３では，相手テーブル部を相手医薬品の一般名コード，薬効\n分類コード及びＢＯＸコードのそれぞれで検索し，いずれかが存在する\n場合に相互作用があると判断するものである。相手テーブル部に相手医\n薬品の一般名コードが必ず存在するのであれば，薬効分類コード，ＢＯ\nＸコードでは検索する必要はないから，引用発明３の相手テーブル部の\n一般名コード，薬効分類コード，ＢＯＸコードの各欄には，必ずしもす\nべてにコードが格納されているとは限らないものと認められる。\n(ｲ)  検索処理について\n引用発明３は，「医薬品相互作用チェックテーブル１０５」において，\n①「自己テーブル部」に「自己医薬品の一般名コードが存在するか」，\n「自己医薬品の属する薬効分類コードが存在するか」，「自己医薬品に\n付与されたＢＯＸコードが存在するか」をそれぞれ検索して，いずれか\nのコードが存在していれば，処方医薬品相互作用チェックテーブルＴの\n形態で一時記憶テーブル１１０に記憶し，②一時記憶テーブル１１０に\n記憶したデータの「相手テーブル部」に，「相手医薬品の一般名コード\nが存在するか」，「相手医薬品の属する薬効分類コードが存在するか」，\n「相手医薬品に付与されたＢＯＸコードが存在するか」をそれぞれ検索\nして，いずれかのコードが存在していれば，「自己医薬品」と「相手医\n薬品」とが相互作用を有する組み合わせが存在すると判断するものであ\nる。\nウ  以上によれば，本件発明１と引用発明３の一致点及び相違点は次のとお\nりであると認められる。\n(ｱ)  対比\nａ  前記ア(ｲ)のとおり，本件発明１の「相互作用マスタ」は，「一の医\n薬品」及び「他の一の医薬品」が販売名（商品名）か一般名かこれを\n特定するコードや，薬効，有効成分及び投与経路を特定することがで\nきるコードのレベルの概念で統一して格納され，①Ａ薬品から見たＢ\n薬品の相互作用が発生する組み合わせについての情報と，②Ｂ薬品か\nら見たＡ薬品の相互作用が発生する組み合わせについての情報とは，\nデータとして個々別々のものとして格納され，また，①Ａ薬品から見\nたＢ薬品に関する相互作用が発生する組み合わせについての情報と，\n③Ａ薬品から見たＣ薬品の相互作用が発生する組み合わせについての\n情報とも，データとして個々別々のものとして格納されるものである。\nこれに対し，前記イ(ｱ)のとおり，引用発明３の相手テーブル部の一般\n名コード，薬効分類コード，ＢＯＸコードの各欄には，必ずしもすべ\nてにコードが格納されているとは限らない。\nしたがって，引用発明３の「医薬品相互作用チェックテーブル１０\n５」と，本件発明１の「相互作用マスタ」とは，「一の医薬品から見\nた他の医薬品の相互作用が発生する組み合わせを個別に格納する相互\n作用をチェックするためのマスタ」である点で共通するが，本件発明\n１が「一の医薬品から見た他の一の医薬品の場合と，前記他の一の医\n薬品から見た前記一の医薬品の場合の２通りの主従関係で，相互作用\nが発生する組み合わせを格納する」のに対し，引用発明３では，「一\nの医薬品から見た他の医薬品の一般名コード，薬効分類コード，ＢＯ\nＸコードかの少なくともいずれかについて，相互作用が発生する組み\n合わせを格納し，また，他の一の医薬品から見た医薬品の一般名コー\nド，薬効分類コード，ＢＯＸコードかの少なくともいずれかについて，\n相互作用が発生する組み合わせを格納する」点で相違する。\nｂ  本件発明１は「自己医薬品と相手医薬品との組み合わせ」と，\n「相互作用マスタに登録した医薬品の組み合わせ」についての合\n致の有無を判断するものであるのに対し，前記第２の３ウ(ｱ)及び上\n記イ(ｲ)によれば，引用発明３は，①医薬品相互作用チェックテーブル\n１０５において，「自己テーブル部」に，「自己医薬品」に係る「一\n般名コード」，「薬効分類コード」，「ＢＯＸコード」が存在するか\nをそれぞれ検索し，②いずれかのコードが存在していれば，処方医薬\n品相互作用チェックテーブルＴの形態で「一時記憶テーブル１１０」\nに記憶し，③「一時記憶テーブル１１０」に記憶したデータの「相手\nテーブル部」に，「相手医薬品」に係る「一般名コード」，「薬効分\n類コード」，「ＢＯＸコード」が存在するかをそれぞれ検索し，④い\nずれかのコードが存在していれば，「自己医薬品」と「相手医薬品」\nとが相互作用を有する組み合わせが存在すると判断するものである。\nそうすると，引用発明３の「検索処理」と本件発明１の「相互\n作用チェック処理」とは，いずれも，「入力された新規処方データ\nの各医薬品を自己医薬品及び相手医薬品とし，自己医薬品と相手\n医薬品の組み合わせについて，相互作用をチェックするためのマ\nスタに基づいて相互作用をチェックするための処理」を実行する\n点で共通するものの，引用発明３の「検索処理」は，自己医薬品\nと相手医薬品と間で，一般名コード，薬効分類コード，ＢＯＸコ\nードのいずれかの組み合わせが存在すれば相互作用を有する組み\n合わせであると判断するものであり，自己医薬品と相手医薬品と\nの組み合わせと相互作用マスタに登録した医薬品の組み合わせと\nの，医薬品の組み合わせ同士の合致を判断しているとはいえない\nから，本件発明１の「自己医薬品と相手医薬品との組み合わせと\n相互作用マスタに登録した医薬品の組み合わせが合致するか否か\nを判断することにより，相互作用チェック処理を実行する」「相\n互作用チェック処理」とは相違する。\n(ｲ)  一致点及び相違点\n以上によれば，本件発明１と引用発明３は，次の一致点において一致\nし，前記第２の３(2)ウ(ｳ)記載の相違点４－１のほか次の相違点におい\nて相違することが認められる。\nａ  一致点\n「一の医薬品から見た他の医薬品の相互作用が発生する組み合わせを個\n別に格納する相互作用をチェックするためのマスタを記憶する記憶手\n段と，\n入力された新規処方データの各医薬品を自己医薬品及び相手医薬品\nとし，自己医薬品と相手医薬品の組み合わせについて，上記マスタに\n基づいて相互作用をチェックするための処理を実行する制御手段と，\n前記制御手段による自己医薬品と相手医薬品の間の相互作用をチェ\nックするための処理の結果を，表示する表示手段と，\nを備えたことを特徴とする医薬品相互作用チェック装置」\nｂ  相違点\n〔相違点４－８〕\n相互作用をチェックするためのマスタが，本件発明１では，「一の\n医薬品から見た他の一の医薬品の場合と，前記他の一の医薬品から見\nた前記一の医薬品の場合の２通りの主従関係で，相互作用が発生する\n組み合わせを格納する」のに対し，引用発明３では，「一の医薬品か\nら見た他の医薬品の一般名コード，薬効分類コード，ＢＯＸコードか\nの少なくともいずれかについて，相互作用が発生する組み合わせを格\n納し，また，他の一の医薬品から見た医薬品の一般名コード，薬効分\n類コード，ＢＯＸコードかの少なくともいずれかについて，相互作用\nが発生する組み合わせを格納する」点。\n〔相違点４－９〕\n相互作用をチェックするための処理が，本件発明１では，自己医薬\n品と相手医薬品との組み合わせと相互作用マスタに登録した医薬品の\n組み合わせが合致するか否かを判断するのに対し，引用発明３では，\n「自己テーブル部」に「自己医薬品の一般名コードが存在するか」，\n「自己医薬品の属する薬効分類コードが存在するか」，「自己医薬品\nに付与されたＢＯＸコードが存在するか」をそれぞれ検索して，いず\nれかのコードが存在していれば，処方医薬品相互作用チェックテーブ\nルＴの形態で一時記憶テーブル１１０に記憶し，一時記憶テーブル１\n１０に記憶したデータの「相手テーブル部」に，「相手医薬品の一般\n名コードが存在するか」，「相手医薬品の属する薬効分類コードが存\n在するか」，「相手医薬品に付与されたＢＯＸコードが存在するか」\nをそれぞれ検索して，いずれかのコードが存在していれば，「自己医\n薬品」と「相手医薬品」とが相互作用を有する組み合わせが存在する\nと判断するものである点。\nエ  以上のとおりであるから，審決は，本件発明１と引用発明３の相違点の\n認定に際し，相違点４－８，４－９を看過したものであり，相違点の認定\nの誤りがあるというべきである。\n(3)  相違点４－８，４－９に関する容易想到性について\nア  相互作用をチェックするための処理について，引用発明３においては，\n自己医薬品について，一般名コード，薬効分類コード，ＢＯＸコードのそ\nれぞれについて検索を行い，相手医薬品についても，一般名コード，薬効\n分類コード，ＢＯＸコードのそれぞれについて検索を行うため，６回の検\n索が必要であり，一時記憶テーブルを必要とするのに対し，本件発明１に\nおいては，医薬品と医薬品の組み合わせ同士の合致を判断するため，１回\nの検索（双方向の検索をそれぞれ別の検索と考えても２回の検索）により\n行うことができる。\nまた，得られる検索結果について，本件発明１においては，処方された\n医薬品の組み合わせと相互作用をチェックするためのマスタに登録された\n医薬品の組み合わせとが合致したものを検索結果とするのに対し，引用発\n明３においては，医薬品相互作用チェックテーブル１０５に登録された自\n己医薬品と相手医薬品の一般名コードが一致するものだけではなく，自己\n医薬品と薬効分類コードやＢＯＸコードの一致する他の医薬品の相互作用\nチェックテーブルも一時記憶テーブルに記憶し，相手医薬品の一般名コー\nド，薬効分類コード，ＢＯＸコードが存在するかを検索するため，薬効分\n類コード，ＢＯＸコードのいずれかのみの一致するものも検索結果とし，\n本件発明１よりも多くの検索結果を得るものと解され，両発明において得\nられる検索結果は異なる。\nこのように，引用発明３は，添付文書の相互作用の項目に記載された医\n薬品の情報をそのままコード化してデータベースを構築し，相互作用をチ\nェックするための処理において，データベースの各項目（一般名，薬効，\nＢＯＸ）それぞれについて検索を行うことにより漏れのない相互作用チェ\nックを行うのに対し，本件発明１は，添付文書の相互作用の項目に記載さ\nれた医薬品の情報に基づいて医薬品と医薬品との組み合わせについてデー\nタベースを構築し，相互作用チェック処理においては，医薬品と医薬品と\nの組み合わせのみで単純に検索するため，１回の検索（双方向の検索をそ\nれぞれ別の検索と考えても２回の検索）で相互作用チェックできるという\nものであるから，両発明はその技術思想を異にするものである。\nイ  そして，相違点４－８，４－９に係る構成を開示する他の証拠も示され\nていないから，本件発明１の相違点４－８，４－９に係る構成を，当業者\nが容易に想到し得たとはいえない。\n(4)  原告の主張について\nア  本件発明１について\n(ｱ)  原告は，被告らによる「個別に格納」が，①同一粒度，かつ，②分離\n格納を意味するとの主張について，審判手続において現実に争われたも\nのではないから，本件訴訟において審理の対象とされるべきでないと主\n張する。しかし，上記被告らの主張は，審判手続において審理判断され\nた公知事実との対比における相違点の認定の誤りに関する主張であって，\nこれは，審決取消訴訟の審理の対象にほかならないから，原告の主張は\n失当である。\n(ｲ)  原告は，本件発明１の「個別に格納」とは，①Ａ薬品からみたＢ薬品\nに関する相互作用情報と，②Ｂ薬品からみたＡ薬品に関する相互作用情\n報を個別に格納することであり，①Ａ薬品からみたＢ薬品に関する相互\n作用情報と，③Ａ薬品からみたＣ薬品に関する相互作用情報とを個別に\n格納することは意味しないと主張するが，この点に関する判断は前記(2)\nア(ｲ)に説示したとおりである。\n(ｳ)  原告は，本件発明の技術的特徴はマトリックス形式による表示にあり，\n本件発明の目的は，ある２つの医薬品間の相互作用チェックの結果を，\n２通りの主従関係を区別して表示することにあるから，本件発明におい\nては，ある２つの医薬品同士の相互作用が主従を区別して定義されてい\nれば足り，その定義が同じレベルの概念（基準ないし粒度）同士の組み\n合わせでされていることは必要ではないと主張する。しかし，「各医薬\n品を自己医薬品及び相手医薬品とし」て「相互作用マスタに登録した医\n薬品の組み合わせと合致するか否かを判断する」という「相互作用チェ\nック処理」における検索処理を前提にすれば，「２通りの主従関係で」\n「個別に格納」といえるためには，医薬品が同一のレベルの概念で統一\nされる必要があることは前記(2)ア(ｲ)に説示したとおりである。\nまた，原告は，仮に異なるレベルの概念同士の組み合わせで相互作用\nが定義されていたとしても，それぞれの概念に当てはまる具体的な医薬\n品が定義されていれば，結果として，具体的な医薬品同士の相互作用と\nして主従を区別して表示することができると主張するが，結果として同\n一の検索結果が得られるからといって，データの格納の構成が同一であ\nるとはいえないことは明らかである。\nさらに，原告は，本件発明１はデータ格納方式を特定するものではな\nく，ツリー構造での格納方式も含まれると主張する。しかし，本件発明\n１がデータの格納の構成について特定するものであることは，前記(2)ア\n(ｲ)に説示したとおりである。\n(ｴ)  原告は，本件発明２が薬効コード同士の組み合わせで相互作用が発生\nする組み合わせを定義する態様であることから，各コードに該当する具\n体的な医薬品の数に応じて，「１対１」の場合もあれば，「１対多」の\n場合もあれば，「多対多」の場合もあれば，「多対１」の場合もありう\nるのであり，本件発明が「１対１」であるということもできないと主張\nする。しかし，「相互作用が発生する組み合わせを各医薬品の効能を定\nめた薬効コード同士の組み合わせとして格納」する本件発明２について\nも，同一のレベルの概念で統一して，個々別々に格納されているといえ\nるのは，前記(2)ア(ｲ)ａ(c)に説示したところから明らかである。\n(ｵ)  原告は，本件特許の出願経過からも，同様の理解ができると主張する\nが，原告の指摘する意見書の記載は，本件発明の「個別に格納」が同一\nのレベルの概念で統一して，個々別々に格納することを意味することと\n矛盾するものではなく，原告の主張は採用できない。\nイ  本件発明１と引用発明３の対比について\n(ｱ)  原告は，引用発明３の「医薬品相互作用チェックテーブル１０５」の\n各コードの組み合わせに着目すれば，一般名コード同士，薬効分類コー\nド同士といった同じ概念同士のコードの組み合わせを含むことが当然に\n予定されているから，引用発明３も本件発明と同じく，同じ概念のコー\nド同士で相互作用が発生する組み合わせを記憶する構成を含んでいるも\nのであって，相違はないと主張する。しかし，本件発明１の「相互作用\nマスタ」において，医薬品は同一のレベルの概念で統一して，その組み\n合わせが個々別々に格納されているといえる必要があるところ，引用発\n明３の「医薬品相互作用チェックテーブル１０５」においては，相手テ\nーブル部の一般名コード，薬効分類コード，ＢＯＸコードの各欄には，\n必ずしもすべてにコードが格納されているとは限らないことは前記(2)イ\n(ｱ)のとおりである。\n(ｲ)  原告は，「相互作用マスタ」に記憶される情報と「相互作用チェック\nテーブル１０５」に記憶される情報は，いずれも相互作用が発生する医\n薬の分類に関するコード同士の組み合わせであり，違いはないと主張す\nる。しかし，本件発明１において「相互作用マスタ」におけるデータの\n格納の構成が発明特定事項とされていることは前記(2)ア(ｲ)のとおりで\nあり，引用発明３の「医薬品相互作用チェックテーブル１０５」がこれ\nと同じ構成を有するといえないことは明らかであって，この点は，「医\n薬品相互作用チェックマスタ１０４」において医薬品とコードの紐づけ\nがされていることによって左右されるものではない。\n(ｳ)  原告は，引用発明３は，処方された医薬品を自己医薬品及び相手医薬\n品とすることから，その検索過程は本件発明１と異ならないと主張する\nが，前記(2)ウ(ｱ)に説示した点に照らせば，処方された医薬品を自己医\n薬品及び相手医薬品とすることは上記相違点の認定に関する判断を左右\nするものではない。原告の主張するその余の点も，以上に説示したとこ\nろに照らし，上記相違点の認定に関する判断を左右するものではない。\n(5)  小括\n以上のとおり，審決の相違点の認定の誤りは，本件発明１の進歩性を否\n定した審決の結論に影響を及ぼすものであることが明らかであるから，被\n告取消事由１は理由がある。\n３  被告取消事由２～６（本件発明２～４，６，８に関する進歩性判断の誤り）\nについて\n本件発明２～４，６，８は，いずれも本件発明１を間接又は直接に引用する\nものであり，相違点の認定の誤りについて上記２に述べたところが妥当する。\nそうすると，本件発明２～４，６，８における追加の構成に係る相違点の有\n無や容易想到性について判断するまでもなく，本件発明２～４，６，８の相違\n点の認定には誤りがあり，その誤りは，これらの発明を無効とした審決の判断\nの結論に影響を及ぼすものといえる。\nしたがって，被告取消事由２～６はいずれも理由がある。\n４  原告取消事由１（本件発明５，７，９に関する引用発明１に基づく新規性，\n進歩性判断の誤り）について\n(1)  引用発明１の認定について\nア  甲３，７，８文献の記載\n(ｱ)  甲３文献\n甲３文献には，「現在市販されている相互作用チェックのためのシス\nテムについて，院外の薬局などを対象としたものをいくつか紹介する（表\n１）。ここでは，各システムについて紹介することを目的とし，内容は\n各社から頂いた回答をほぼそのままの表現で記載した。」（259頁右欄14\n～19行）と記載され，表１には，福神株式会社の「医療用添付文書情報\nサービス『ＥＤＩＳ』」について，「Ａ薬品とＢ薬品との間で相互作用\nがある場合，双方向でのチェックが可能か？」に対して，「可能」とあ\nる。\n(ｲ)  甲７文献\n甲７文献からは，福神株式会社のインターネット医療用医薬品添付文\n書情報サービス「ＥＤＩＳ（エディス：Ethical Drug Information Service）\nFor WWW」の，「相互作用チェックシステム」という画面には，「相互作\n用検索・マトリックス表示」と記載され，マトリックス表示された画面\nが見て取れ，当該画面において，対象となる医薬品名とアルファベット\nを行に表示し，列にはアルファベットのみを表示したマトリックス表示\nにおいて，相互作用チェック結果を該当するセルに表示することが見て\n取れる。\n「情報サービスの概要（インターネット版）」のページにおいては，\n医療用添付文書情報サービス（ＥＤＩＳ）は，「添付文書の情報をデー\nタベース化」した「添付文書データベース」を備え，医療用添付文書情\n報サービス（ＥＤＩＳ）が備える相互作用チェックシステムは，「医薬\n品間でそれぞれ添付文書に相互作用の記載があるかどうかを検索して，\nマトリックスで表示します。併用禁忌は赤色で，併用注意は黄色で表示\nされます。  検索項目  商品名，一般名，薬効名など」と記載されてい\nる。\n(ｳ)  甲８文献\n甲８文献によれば，ＥＤＩＳによる相互作用検索・マトリックス表示\nの画面において，対象となる医薬品名とアルファベットを行に表示し，\n列にはアルファベットのみを表示したマトリックス表示において，相互\n作用チェック結果を該当するセルに表示すること，「チェック開始」ボ\nタン，「画面クリア」ボタンが表示され，相互作用検索マトリックスの\n行には，アルファベットに対応させて，医薬品名を入力可能な「テキス\nトボックス」があることが見て取れる。また，チェック結果を，併用禁\n忌のセルを赤色とし，記号◎で表し，併用注意のセルを黄色とし，記号\n○で表すことが記載されている。\nイ  これによれば，本件出願日前に公然実施されていたＥＤＩＳの構成とし\nて，前記第２の３(2)ア(ｱ)記載の引用発明１を認めることができる。\nウ  さらに，甲８文献の別紙６－２からは，ＥＤＩＳの相互作用検索・マト\nリックス表示の画面において，「テキストボックス」に医薬品名を入力し\nて「チェック開始」ボタンをクリックすると，相互作用チェックが行われ，\n「画面クリア」ボタンをクリックすると，入力された「テキストボックス」\nがクリアされ，相互作用チェック結果もクリアされると理解できる。\nまた，「テキストボックス」に医薬品名を入力して「チェック開始」ボ\nタンをクリックして相互作用チェック結果が表示されている状態で，さら\nに，空欄の「テキストボックス」に医薬品名を入力して「チェックボタン」\nをクリックすると，新たに追加して入力された医薬品を含めた相互作用チ\nェック結果が表示されると理解できる。\nこれによれば，引用発明１のほか，前記第５の１(1)記載の原告主張引用\n発明１を認めることができる。\n(2)  相違点の認定について\nア  本件発明１の「相互作用マスタ」の意義は前記２(2)アに説示したとおり\nであり，本件発明１と引用発明１の一致点は前記第２の３(2)ア(ｲ)記載の\n一致点のとおりであり，以下のとおり，相違点は同(ｳ)記載の相違点（相違\n点１－１～１－４）のとおりであると認められる。\n(ｱ)  相違点１－１\n甲７文献，乙６，７の記載によれば，引用発明１の「添付文書の\n情報をデータデース化した添付文書データベース」は添付文書の相\n互作用の項目に記載された情報を全文検索できるように構成したも\nのである。そして，添付文書には，医薬品に対して，相互作用が発生す\nる医薬品等が記載されているが，添付文書の相互作用の項目には，１つ\nの医薬品に対して，降圧剤のような上位の薬効分類での記載，また，１\nつの医薬品に対して相互作用が発生する複数の医薬品が記載されること\nが通常であることは，前記２(2)ア(ｱ)のとおりである。\nそうすると，Ａ薬品の「添付文書の情報」は，Ａ薬品に対して相互作\n用が発生する医薬品の情報として，Ｂ薬品のみならず，他の医薬品や薬\n効分類の情報も含むことになる。引用発明１の「添付文書データベース」\nは，このような「添付文書の情報」を全文検索可能にデータベース化し\nたものであるため，Ａ薬品に対するＢ薬品の相互作用のデータは，Ａ薬\n品に対する他の医薬品や薬効の相互作用のデータとは，個々別々のデー\nタということができない。\nしたがって，引用発明１の「添付文書データベース」は，本件発明１\nの「相互作用マスタ」の構成を有するとはいえない。\n(ｲ)  相違点１－２\n甲３，７，８文献のいずれにも，入力画面における医薬品名が新規処\n方データであることは記載されていない。また，甲８文献の別紙６－１，\n６－２においては，新規処方データとはいえない「グレープフルーツジ\nュース」が入力されている。\nそうすると，引用発明１において，入力され，チェック対象となる医\n薬品は任意のものであり，「新規処方データ」とは特定されていない。\n(ｳ)  相違点１－３\n上記(ｱ)のとおり，引用発明１の「添付文書データベース」は，添付文\n書の相互作用の項目に記載された情報を全文検索できるように構成した\nものである。\n引用発明１で行われる医薬品Ａと医薬品Ｂとの相互作用のチェック処\n理においては，まず，医薬品Ａの添付文書を特定し，次に，医薬品Ａの\n添付文書の相互作用の項目を医薬品Ｂで全文検索を行い，医薬品Ｂが存\n在していれば，医薬品Ａと医薬品Ｂの組み合わせが相互作用を有すると\n判断していると解される。\nしたがって，引用発明１の検索処理が，本件発明１の「相互作用マス\nタ」と同様の構成を備えるものに対して実行されてはいない。\n(ｴ)  相違点１－４\n甲７文献及び甲８文献別紙６－１，６－２によれば，列には，アルフ\nァベットのみが表示され，医薬品の名称は表示されていない。\nイ  以上のとおりであるから，審決が相違点１－１～１－４を認定したこと\nに誤りはない。\nウ  なお，上記(1)のとおり，甲３，７，８文献からは，引用発明１のみなら\nず原告主張引用発明１を認定することができるが，原告主張引用発明１は，\n引用発明１に「さらに，相互作用チェック結果の表示画面には，医薬品名\nを入力可能な『テキストボックス』及び『チェック開始』ボタンが配置さ\nれ，『テキストボックス』に医薬品名を追加入力し，『チェック開始』ボ\nタンを押下することでテキストボックス入力された医薬品名が，チェック\n対象として設定され，チェック結果を表示すべきチェック対象としてマト\nリックスに表示され，相互作用チェックが行われる」との構成（以下，「引\n用発明１付加構成」という。）を付加したものである。そして，原告主張\n引用発明１は，引用発明１の構成をすべて備えるものであり，本件発明１\nと引用発明１とを対比したときの一致点，相違点と，本件発明１と原告主\n張引用発明１とを対比したときの一致点，相違点とは，同じものとなる。\nこのように，上記の引用発明１付加構成は，本件発明１との一致点，相違\n点の認定には関係しない構成である。\n以上のとおり，審決の引用発明１の認定に誤りはないし，また，本件発\n明１の新規性，進歩性の判断において，原告主張引用発明１を対象とする\n必要もないから，この点は，審決の結論に影響を及ぼすものではない。\n(3)  容易想到性の判断について\nア  相違点１－１，１－３について\n(ｱ)  文献の記載\nａ  甲１４文献には，「医薬品相互作用チェックの為のファイルもしく\nはデータベース等の作り方において，従来の方法は大きく二つの形態\nに分けられる。第一の方法は，相互作用を有する医薬品の関係を個々\nの医薬品に対し設定する方法であり，それは川合等による「処方支援\n（相互作用チェック）システム」（月刊薬事Vol.38,No.2(1996)79-86\n頁）に記載されている。第二の方法は，相互作用を有する医薬品の関\n係を文字情報（テキストデータ）で構築する方法であり，特開平８－\n２７５９８８号公報あるいは特開平９－９９０３９号公報に開示され\nている。」との記載がある（【０００３】）。\nｂ  甲１５文献は，甲１４文献における「第一の方法」を示すものであ\nり，甲１５文献には次のとおりの記載がある。\n「北大病院での処方オーダリングシステムの概略\n当院はホスト・コンピュータとして２台のＡＣＯＳシステム3600/8\n（主記憶容量32MB）を配置している（図１）。処方オーダによる処方\n作成は，薬剤基本・検索・コメント・DIなどの各テーブル，患者デー\nタファイルなどを用いる。・・・・\n相互作用チェック機能\n相互作用のチェックは，処方を発行する直前の画面上で必ず行われ\nる。相互作用をチェックしたい組み合わせについては，併用禁忌であ\nる各薬剤の基本テーブルに，対象薬剤のコードなどを登録することで\nお互いにチェックが可能となる。\n本システムでのチェック機能は，すでに処方発行（あるいは予約登\n録）されている薬剤のうち，服用期間が重複するものについて，院内・\n院外，入院・外来，自科・他科などの処方せんの種類を問わず，処方\n開始日より３０日前のものから投薬終了日までチェックをかけるよう\nに設定した（図２）。・・・\n（１）相互作用のチェック対象と代替薬の提示\n相互作用に関してはチェックをかけるべき組み合わせは多々報告さ\nれている。しかし，登録品目数が多くなるほど，処方監査に費やされ\nる応答時間が延長すること等により，成書や添付文書等に記載されて\nいるすべての相互作用例を登録することは現段階では現実的ではない。\nしたがって当院では，処方オーダに登録されている医薬品（一部，注\n射薬を含む）のうち，添付文書上に「～との併用を避ける。」あるい\nは「～との同時服用を避ける。」などのように明確に記載されている\nものを採択した。・・・\n（２）基本テーブルの設定\n相互作用をチェックする源となるテーブルとして，既存の薬剤基本\nテーブル中に「相互作用欄」を新たに設けた（図３中央）。この欄は\n「監査区分」・「パターン」・「コード」・「コメントコード」の４\nつの欄を１セットとして構成する。薬剤基本テーブル中には「相互作\n用欄」が５セット分あり，最大５種類まで対象薬（群）を登録するこ\nとが可能である。その他に「成分」，「同効類似」，「相互禁忌」の\n欄を今回，新たに１個ずつ設けた。\n「監査区分欄」ではチェックをかけたものを「エラー」（「併用禁\n忌」と明記されている場合）として処方の変更を促すのか，「警告」\n（「同時服用を避ける。」のように併用禁忌に準ずると判断される場\n合）として確認を促すのかの２段階のうちのどちらかを選択できる。\n「パターン」欄はどの項目を対象にして相互作用をチェックするか\nを設定するもので，対象項目には①「（薬品）コード」欄，②「成分」\n欄，③「同効類似」欄，④「相互禁忌」欄，⑤「薬効」欄の５種類が\nある（図３の①～⑤）。\n「コード」欄には対象項目のコードが最大６桁まで登録できる。対\n象項目を「（薬品）コード」（図３の①）とした場合では数字６桁で\nあり，「薬効」欄（図３の⑤）では日本標準商品分類番号の下４桁を\n用いている（バクシダール錠では876241のうち，6241）。また，対象\nが「成分」，「同効類似」，「相互禁忌」の場合では，英文字あるい\nは数字を最大６桁まで新規に登録することで利用可能となる。なお，\n６桁目まで登録しない場合にはコードの最後に「*」を追加することに\nした。\n「コメントコード」欄には，処方チェック時に画面上に表示させる\nコメントのコード３桁を登録する。\nこれらを登録すると，たとえば図中「U,1,221091,033」では，対象\n薬剤の薬剤基本テーブル中の「（薬品）コード」欄（図３の①）をチ\nェックし，「221091」と登録されている薬剤（商品名：ナパノール）\nが処方されていた場合には「エラー」（Ｕ）とし，コメントテーブル\nに登録されている「033」のコメントを画面表示する。また，「G,3,AL*,081」\nでは，「同効類似」の欄（図３の③）をチェックし，「AL」と登録さ\nれている薬剤（アルミニウムを含有する制酸剤）が併用されていれば\n「警告」（G）とし，「081」のコメントを画面表示する。\n相互作用の登録欄は５セット分であり，チェック対象が一成分で数\n品目ある薬剤や，グループである場合には医薬品コードを登録してい\nくと不足が生じる。その対策として，今回の機能追加に伴い新規に設\n定した「成分」，「同効類似」，「相互禁忌」の各欄を対象項目とす\nることにより，対象薬剤が５品目を超える場合にも対処した。たとえ\nば，対象薬からチェックがかかるようにバクシダール錠では「成分」\n欄（図３の②）に略号の「NFLX」を登録した。・・・\n相互作用チェック機能の実際\n例として「バクシダール錠」と「ナパノール錠」，「マーロックス」\nを処方すると，処方登録時に，「バクシダール錠」に「ナパノール(相)：\nスパラ，他の抗生物質へ」，「ナパノール錠」には「バクシダール（相）：\nポンタール等へ変更」，「マーロックス」には「ニューキノロン（相）：\nセルベックス等へ」のコメントが各々，画面表示される（図４）。・・・\n相互作用の詳細を知りたい場合は，当該薬剤の用量入力の所で「H」\n（Helpの頭文字）を入力することにより，DI情報を画面上で参照でき\nる（図５）。ここでは併用禁忌の対象薬，その理由，代替薬などの情\n報をさらに詳しく知ることができるようにDIテーブルへ登録してい\nる。・・・」\n以上によれば，甲１５には，薬剤基本テーブルに，相互作用を有す\nる対象薬剤のコードを５セットまで登録でき，処方された薬剤に関し\nて，基本テーブルに登録された相互作用の対象薬剤のコードと，処方\nされた他の薬剤のコードとが一致すれば，相互作用があると判断する\nことにより，相互作用チェックを行うことが記載されている。\n(ｲ)  容易想到性\n以上のとおり，甲１４，１５文献には，一の薬剤の薬剤基本テーブル\nに，相互作用を有する対象薬剤のコードを複数セット登録することは記\n載されているが，前記２(2)ア(ｲ)に認定した，本件発明１の「相互作用\nマスタ」における「個別に格納」の構成をとることは記載されていない。\nしたがって，甲１４，１５文献に，相違点１－１，１－３に係る構成\nが開示されているということはできない。\n加えて，引用発明１の「添付文書データベース」を，文字情報（テキ\nストデータ）でない他のデータ構造に変更すると，引用発明１の，商品\n名や一般名の両方でチェックすることができ，名称に限らず，相互作用\n欄に記載されている言葉で検索できるという，相互作用を有する医薬品\nの関係を文字情報（テキストデータ）で構築したことによる特徴を失う\nことになるから，引用発明１において，このような変更を行う動機付け\nもない。\nこのように，甲１４，１５文献は，相違点１－１，１－３に係る構成\nを開示するものではないし，引用発明１の添付文書データベースを他の\nデータ構造に変更する動機付けもない。\nよって，引用発明１において，相違点１－１，１－３に係る構成を当\n業者が容易に想到し得たとはいえず，相違点１－１，１－３に係る構成\nの容易想到性についての審決の判断に誤りはない。\n(ｳ)  原告の主張について\n原告は，引用発明１において，一の医薬品（薬品Ａ）から見た他の一\nの医薬品（薬品Ｂ）の相互作用情報と，他の一の医薬品（薬品Ｂ）から\n見た一の医薬品（薬品Ａ）の相互作用情報とが，別々に格納されている\nのであるから，引用発明１にリレーショナルデータベースの格納方式を\n採用すれば本件発明１の構成に至ると主張する。\nしかし，医薬品の添付文書の相互作用の項目には，医薬品名だけでな\nく，「降圧剤」のような上位の薬効分類での記載，飲食物や飲酒などの\n情報，１つの医薬品に対して相互作用が発生する複数の医薬品が記載さ\nれることが通常であり（前記２(2)ア(ｱ)），これらの相互作用をデータ\nベースに格納する際にリレーショナルデータベース形式を採用したとし\nてもデータベースへの格納の形式は一意に定まるものではなく，リレー\nショナルデータベース形式に変更することが，「一の医薬品」と「他の\n一の医薬品」との相互作用が発生する組み合わせを個々別々に格納する\nことに直ちには結びつかない。\nそして，引用発明１の「添付文書データベース」についてリレーショ\nナルデータベースの格納方式を採用すると，商品名や一般名の両方でチ\nェックすることができ，名称に限らず，相互作用欄に記載されている言\n葉で検索できるという，添付文書データベースを文字情報（テキストデ\nータ）で構築したことによる特徴を失うことになるから，引用発明１に\nおいて，このような変更を行う動機付けがないことは，上記(ｲ)に説示し\nたとおりである。\nイ  本件発明５，７，９について\n本件発明５，７，９は本件発明１を間接又は直接に引用するものである\nから，相違点１－１，１－３の構成を有しているところ，これらの構成に\nついて当業者が容易に想到することができたといえないのは上記アに説示\nしたとおりである。\nそうすると，本件発明５，７，９における追加の構成の容易想到性につ\nいて判断するまでもなく，本件発明５，７，９について，引用発明１及び\n原告の主張するその他の文献（甲３，１４，１５，１８，１９，２２文献，\n甲４６～５０）に記載された事項に基づいて，当業者が容易に発明をする\nことができたとはいえない。\n(4)  小括\n以上のとおりであるから，本件発明５，７，９について，新規性及び進歩\n性を欠如するとはいえないとした審決の判断に誤りはなく，原告取消事由１\nは理由がない。\n５  原告取消事由２（本件発明５，７，９に関する引用発明２に基づく進歩性判\n断の誤り）について\n(1)  引用発明２の認定について\n前記４(1)ア(ｲ)の甲７文献の記載によれば，前記第２の３(2)イ(ｱ)記載の\n引用発明２を認めることができる。\n(2)  相違点の認定について\nア  前記４(1)及び上記(1)によれば，本件発明１と引用発明２の一致点は，\n前記第２の３(2)イ(ｲ)のとおりであり，相違点は同(ｳ)のとおりであると認\nめられる。\nイ  原告の主張について\n原告は，相違点３－１～３－４は存在しないと主張するが，本件発明１\nと引用発明２の対比においても前記４(2)に説示したところが妥当するから，\n原告の主張は採用できない。\n(3)  容易想到性の判断について\n甲１３文献の薬品相互作用テーブルは，各医薬品に対し，添付文書に記載\nされている併用薬品を全て登録したものであるから，本件発明の「一の医薬\n品から見た他の一の医薬品の場合と，前記他の一の医薬品から見た前記一の\n医薬品の場合の２通りの主従関係で，相互作用が発生する組み合わせを個別\nに格納する相互作用マスタ」の構成を開示するものではない。\nそうすると，引用発明２と甲１３文献記載の発明を組み合わせることによ\nり，当業者が相違点３－１，３－３に係る構成に容易に想到することができ\nたということはできないから，審決の容易想到性の判断に誤りはない。\n(4)  小括\n以上のとおりであるから，本件発明５，７，９について，進歩性を欠如す\nるとはいえないとした審決の判断に誤りはなく，原告取消事由２は理由がな\nい。\n６  原告取消事由３（本件発明５，７，９に関する引用発明３に基づく進歩性判\n断の誤り）について\n本件発明５，７，９は，いずれも本件発明１を間接又は直接に引用するもの\nであり，相違点の認定及び相違点４－８，４－９の容易想到性について前記２\nに述べたところが妥当する。\nそうすると，本件発明５，７，９における追加の構成に係る相違点の有無や\n容易想到性について判断するまでもなく，本件発明５，７，９は引用発明３，\n甲３，６～１０，１８，１９，２２文献，甲４６～５０に基づいて容易に想到\nできたものであるとはいえない。\nしたがって，本件発明５，７，９について，引用発明３に基づいて進歩性を\n欠如するとはいえないとした審決の判断は結論において誤りはなく，原告取消\n事由３は理由がない。\n７  結論\n以上のとおり，原告取消事由１～３はいずれも理由がないから，原告の請求\nは棄却すべきものである。他方，被告取消事由１～６はいずれも理由があるか\nら，被告らの請求を認容すべきものである。\nよって，主文のとおり判決する。\n知的財産高等裁判所第３部\n裁判長裁判官\n鶴岡稔 彦\n裁判官\n山門   優\n裁判官\n高 橋   彩\n別紙\n本件明細書図面目録\n別紙\n甲８文献図面目録\n別紙６－１\n別紙６－２\n別紙\n甲１４文献図面目録\n別紙\n被告ら主張の引用発明３の構成\n"
}