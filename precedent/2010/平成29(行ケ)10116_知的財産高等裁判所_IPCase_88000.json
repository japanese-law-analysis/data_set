{
  "trial_type": "IPCase",
  "date": {
    "era": "Heisei",
    "year": 30,
    "month": 9,
    "day": 20
  },
  "case_number": "平成29(行ケ)10116",
  "case_name": "審決取消請求事件",
  "court_name": "知的財産高等裁判所",
  "right_type": "特許権",
  "lawsuit_type": "行政訴訟",
  "lawsuit_id": "88000",
  "detail_page_link": "https://www.courts.go.jp/app/hanrei_jp/detail7?id=88000",
  "full_pdf_link": "https://www.courts.go.jp/app/files/hanrei_jp/000/088000_hanrei.pdf",
  "contents": "平成３０年９月２０日判決言渡\n平成２９年（行ケ）第１０１１６号  審決取消請求事件\n口頭弁論終結日  平成３０年７月１７日\n判            決\n原        告    フラウンホッファー－ゲゼルシャ\nフト  ツァ  フェルダールング\nデァ  アンゲヴァンテン  フォアシ\nュンク  エー．ファオ\n同訴訟代理人弁理士    岡    田      全      啓\n扇      谷              一\n被              告    特 許 庁 長 官\n同 指 定 代 理 人    井    上      信      一\n酒    井      朋      広\n板    谷      玲      子\n佐    藤      聡      史\n主        文\n１  原告の請求を棄却する。\n２  訴訟費用は原告の負担とする。\n３  この判決に対する上告及び上告受理申立てのための付加期間を\n３０日と定める。\n事 実 及 び 理 由\n第１  請求\n特許庁が不服２０１５－５９１４号事件について平成２９年１月１０日にし\nた審決を取り消す。\n第２  事案の概要（後掲証拠及び弁論の全趣旨から認められる事実）\n１  特許庁における手続の経緯等\n(1)  原告は，発明の名称を「オーディオエンコーダ，オーディオデコーダ，符\n号化されたオーディオ情報，オーディオ信号を符号化および復号化する方法\nおよびコンピュータ・プログラム」とする発明について，平成２２年１月２\n８日を国際出願日とする特許出願（特願２０１１－５４６８４２号。パリ条\n約に基づく優先権主張・平成２１年１月２８日，米国。請求項の数１４）を\nしたが，平成２６年１１月２５日付けで拒絶査定を受けた。\n(2)  原告は，平成２７年３月３１日，特許庁に対し，拒絶査定不服審判を請求\nし，特許庁は，これを不服２０１５－５９１４号事件として審理した。原告\nは，平成２８年６月２１日付けで特許請求の範囲の記載を補正した（甲２。\n以下「本件補正」という。）。\n(3)  特許庁は，平成２９年１月１０日付けで審判請求は成り立たない旨の審決\n（以下「本件審決」という。）をし（出訴期間として９０日を附加），その\n謄本は，同月２４日原告に送達された。\n(4)  原告は，平成２９年５月２０日，本件審決の取消しを求めて本件訴訟を提\n起した。\n２  特許請求の範囲の記載\n本件補正後の特許請求の範囲の請求項１，請求項９及び請求項１３の記載は，\n次のとおりである（甲２。以下において「特許請求の範囲」という場合には本\n件補正後のものをいう。）。以下，請求項９の発明を「本願発明９」，請求項\n１３の発明を「本願発明１３」といい，その明細書（甲１）を，図面を含めて\n「本件明細書」という。\n【請求項１】\n符号化オーディオ情報（２１０）に基づいて復号化オーディオ情報（２１\n２）を提供するためのオーディオデコーダ（２００）であって，\n前記符号化オーディオ情報（２１０）によって示されるオーディオ情報の\n時間－周波数表現（２４２）をオーディオ情報の時間領域表現（２５２）に\nマッピングするように構成されるウィンドウ・ベースの信号変換器（２５０）\nを含み，\n前記ウィンドウ・ベースの信号変換器は，ウィンドウ情報（２７２）を用\nいて異なる移行傾斜（３１０ａ，３１２ａ，３１４ａ，３１６ａ，３１８ａ，\n３１０ｂ，３１２ｂ，３１４ｂ，３１６ｂ，３１８ｂ）のウィンドウおよび\nそれらと関連して異なる変換長を有するウィンドウを含む複数のウィンドウ\n（３１０，３１２，３１４，３１６，３１８）からウィンドウを選択するよ\nうに構成され，\n前記オーディオデコーダ（２００）は，オーディオ情報の所定のフレーム\nに関連する時間－周波数表現の所定の部分の処理のためのウィンドウを選択\nするために可変符号語長のウィンドウ情報（２２４）を評価するように構成\nされるウィンドウ・セレクタ（２７０）を含み，\n前記オーディオデコーダは，前記可変符号語長のウィンドウ情報を用いて，\n移行傾斜の選択と変換長の選択との間の依存関係または隣接するフレームの\nウィンドウ形状の間の相関関係を利用するように構成される，オーディオデ\nコーダ（２００）。\n【請求項９】\n入力オーディオ情報（１１０）に基づいて符号化オーディオ情報（１９２）\nを提供するためのオーディオエンコーダ（１００）であって，\n前記入力オーディオ情報（１１０）の複数のウィンドウ化された部分に基\nづいてオーディオ信号パラメータ（１３２）のシーケンスを提供するように\n構成されたウィンドウ・ベースの信号変換器（１３０）を含み，\n前記ウィンドウ・ベースの信号変換器（１３０）は，前記入力オーディオ\n情報（１１０）の特性に基づいて前記入力オーディオ情報のウィンドウ化さ\nれた部分を得るためのウィンドウ・タイプを適応させるように構成され，\n前記ウィンドウ・ベースの信号変換器（１３０）は，長い移行傾斜を有す\nるウィンドウおよび短い移行傾斜を有するウィンドウ（３１０，３１２，３\n１４，３１６，３１８）の使用の間で切り替わるように構成され，さらに，\n２つ以上の異なる変換長を有するウィンドウの使用の間で切り替わるように\n構成され，\n前記ウィンドウ・ベースの信号変換器（１３０）は，前記入力オーディオ\n情報の先の部分および前記入力オーディオ情報の現在の部分のオーディオ・\nコンテンツを変換するために用いられるウィンドウ・タイプに基づいて前記\n入力オーディオ情報の現在の部分を変換するために用いられるウィンドウ・\nタイプを決定するように構成され，\n前記オーディオエンコーダは，可変長符号語を用いて前記入力オーディオ\n情報（１１０）の現在の部分を変換するために用いられるウィンドウのタイ\nプを示すウィンドウ情報（１４０）を符号化するように構成され，\n前記オーディオエンコーダは，前記可変長符号語を用いて，移行傾斜の選\n択と変換長の選択との間の依存関係または隣接するフレームのウィンドウ形\n状の間の相関関係を利用するように構成される，オーディオエンコーダ（１\n００）。\n【請求項１３】\n入力オーディオ情報に基づいて符号化オーディオ情報を提供する方法（１\n１００）であって，\n前記入力オーディオ情報の複数のウィンドウ化された部分に基づいてオー\nディオ信号パラメータのシーケンスを提供するステップ（１１１０）であっ\nて，前記入力オーディオ情報の特性に基づいて前記入力オーディオ情報のウ\nィンドウ化された部分を得るためのウィンドウ・タイプを適応させるために，\n長い移行傾斜を有するウィンドウおよび短い移行傾斜を有するウィンドウの\n使用の間で，および，それらと関連して２つ以上の異なる変換長を有するウ\nィンドウの使用の間で切り替えが実行されるステップ（１１１０），および\n可変長符号語を用いて前記入力オーディオ情報の部分を変換するために用\nいられるウィンドウのタイプを示す情報を符号化するステップを含み，\n可変長符号語を用いて，移行傾斜の選択と変換長の選択との間の依存関係\nまたは隣接するフレームのウィンドウ形状の間の相関関係が利用される，方\n法（１１００）。\n３  本件審決の理由の要旨\n本件審決の理由は，別紙審決書（写し）のとおりであり，要するに，請求項\n９の「前記オーディオエンコーダは，前記可変長符号語を用いて，移行傾斜の\n選択と変換長の選択との間の依存関係または隣接するフレームのウィンドウ形\n状の間の相関関係を利用する」（以下「本件発明特定事項」という。）とはエ\nンコーダのいかなる技術事項を特定しているのか不明であり，このことは請求\n項１３についても同様であるから，特許請求の範囲の記載は特許法３６条６項\n２号の明確性の要件（以下「明確性要件」という。）を満たさないというもの\nである。\n４  取消事由\n明確性要件についての判断の誤り\n第３  原告主張の取消事由（明確性要件についての判断の誤り）\n１  本件審決は本件発明特定事項が不明確であるとして，特許発明の範囲の記載\nが明確性要件を満たさないとしたが，明確性要件についての本件審決の判断は，\n次のとおり誤りである。\n２  請求項９について\n(1)  本件明細書の記載\nア  本願発明９のオーディオエンコーダ１００における可変長符号語エンコ\nーダ１８０は，可変長符号語１８２を提供するために，可変長符号語を用\nいて，本件発明特定事項の技術事項に基づいて，ウィンドウ情報１４０を\n符号化しており，このことは，本件明細書の段落【００４４】，【００４\n６】及び図１（「可変長符号語符号化」の部分）に明確に記載されている。\nそして，「可変長符号語」を用いたウィンドウのタイプを示すウィンド\nウ・タイプ情報１４０に対する具体的な符号化において，前記オーディオ\nエンコーダは，移行傾斜の選択と変換長の選択との間の依存関係，あるい\nは，隣接するフレームのウィンドウ形状の間の相関関係を利用して処理を\n行うもので，その具体的な処理内容は，本件明細書の段落【００６３】～\n【００７１】に記載されているが，これは，正に本願発明９の特定事項の\n内容をなすものである。\nイ  「移行傾斜の選択と変換長の選択との間の依存関係」についての具体的\nな説明例が図５に示されているが，この場合，ウィンドウ長が長いことを\n示す「ｗｉｎｄｏｗ＿ｌｅｎｇｔｈ」が「０」であれば，常に，長い変換\n長が必ずあり（段落【００６４】），「ｔｒａｎｓｆｏｒｍ＿ｌｅｎｇｔ\nｈ」の値を無視することができる（段落【００６５】，図６ａ）。\nウ  「隣接するフレームのウィンドウ形状の間の相関関係」は，本件明細書\nの段落【００５７】～【００５９】及び図４に基づいて，ウィンドウ形状\nの間での一定の移行のみが可能であることにより理解することができる。\nエ  このように，本願発明９に係るオーディオエンコーダ１００は，「可変\n長符号語を用いて前記入力オーディオ情報（１１０）の現在の部分を変換\nするために用いられるウィンドウのタイプを示すウィンドウ情報（１４０）\nを符号化するように構成され，前記可変長符号語を用いて，移行傾斜の選\n択と変換長の選択との間の依存関係または隣接するフレームのウィンドウ\n形状の間の相関関係を利用するように構成される」（請求項９）ことによ\nり，低減されたビット要求でウィンドウ・タイプを示すウィンドウ情報１\n４０の符号化を可能にするといった特有の効果を有する。\n以上のとおり，オーディオエンコーダ１００において本件発明特定事項\nが含まれる必要があるため，本件発明特定事項はオーディオエンコーダに\nおける技術事項を特定しているものと言える。そのため，特許請求の範囲\nの請求項９の記載は明確性要件を満たす。\nオ  本件発明特定事項の実施例における具体的な手段が「可変長符号語エン\nコーダ１８０」であるとしても，請求項９に記載の「オーディオエンコー\nダ」自体が，符号化のために「前記オーディオエンコーダは，前記可変長\n符号語を用いて，移行傾斜の選択と変換長の選択との依存関係または隣接\nするフレームのウィンドウ形状の間の相関関係を利用する」ように構成さ\nれ，その役割により本願発明９の効果が得られることは明確であるから，\n上記特許請求の範囲の記載に不明な点はない。\n(2)  オーディオデコーダに関する記載との関係\n本願発明９に係るオーディオエンコーダにより提供された符号化オーディ\nオ情報（ビットストリーム）１９２に基づいて復号化オーディオ情報２１２\nを提供するオーディオデコーダの発明は請求項１に記載されている。本件明\n細書の段落【００７９】～【００８６】には，オーディオデコーダのウィ\nンドウ・セレクタ２７０における処理について，可変符号語長ウィンドウ\n情報２２４を評価するように構成され，その評価は，移行傾斜の選択と変\n換長の選択との間の依存関係又は隣接するフレームのウィンドウ形状の間\nの相関関係を利用して行われることが記載されている。また，上記の「移\n行傾斜の選択と変換長の選択との間の依存関係」，「隣接するフレームの\nウィンドウ形状の間の相関関係」といった文言については，段落【００１\n４】及び【００１５】に明示的に記載されている。\n本件審決において，オーディオデコーダに関する発明に係る請求項１の\n記載について明確性要件違反があるとはされていないところ，オーディオデ\nコーダにおける復号化の処理は，オーディオエンコーダにおける符号化の際\nに行った処理の逆処理を実行するのが通常であるから，復号化で行われる処\n理は，符号化で行った処理と概念的に共通する処理が含まれる。すなわち，\n符号化オーディオ情報（ビットストリーム）１９２に含まれる可変符号語長\nウィンドウ情報２２４は，オーディオエンコーダ１００の可変長符号語エン\nコーダ１８０において，可変符号語長を用いて，移行傾斜の選択と変換長の\n選択との間の依存関係又は隣接するフレームのウィンドウ形状の間の相関関\n係を利用して符号化されたものであるため，オーディオデコーダ２００にお\nける復号化の処理の際に，可変符号語長を用いて，移行傾斜の選択と変換長\nの選択との間の依存関係又は隣接するフレームのウィンドウ形状の間の相関\n関係を利用して，可変符号語長のウィンドウ情報２２４を評価することがで\nきる。\n符号化処理と復号化処理との間の相互関係とは，オーディオエンコーダが\n特定の状況においてオーディオデコーダが必要としない情報をビットストリ\nームに含めないということであり，どの情報をオーディオデコーダが必要と\nせず，オーディオエンコーダが無視することができるかについて，本件明細\n書の段落【００８１】～【００８５】に詳細に説明されている。\n以上より，本件発明特定事項は，オーディオデコーダ２００に限ることな\nく，オーディオエンコーダ１００においても共通に含まれる必要があり，こ\nのことからも，本件発明特定事項は，オーディオエンコーダにおける技術事\n項を特定しているものであるといえ，特許請求の範囲の請求項９の記載は明\n確性要件を満たすものである。\n３  請求項１３について\n本願発明１３は，本願発明９に対応する方法の発明であり，上記に述べたと\nころが妥当するから，特許請求の範囲の請求項１３の記載についても明確性要\n件を満たす。\n第４  被告の反論\n１  特許請求の範囲の請求項９及び請求項１３の記載が明確性要件を満たさない\nとした本件審決の判断に誤りはない。\n２  請求項９について\n(1)  本件明細書の記載\n請求項９の「オーディオエンコーダは，前記可変長符号語を用いて，」「依\n存関係」「または」「相関関係を利用するように構成され」との記載において，\n可変長符号語を用いて依存関係又は相関関係を利用するというのは日本語と\nして極めて分かりにくく，特許請求の範囲の記載自体から技術的意味が明らか\nとはいえない。そこで，本件明細書の記載を検討する。\nア  「前記可変長符号語を用いて，移行傾斜の選択と変換長の選択との間の\n依存関係」「を利用するように構成される」との点について\n本件明細書の主として段落【００６３】～【００６７】及び図６ａ，図７\nａ～ｃからは，可変長符号語エンコーダ１８０は，「現在のフレームのｗｉ\nｎｄｏｗ＿ｌｅｎｇｔｈ」情報が「０」であれば「ｔｒａｎｓｆｏｒｍ＿ｌ\nｅｎｇｔｈ」情報を提供せず，逆に「現在のフレームのｗｉｎｄｏｗ＿ｌｅ\nｎｇｔｈ」情報が「１」であれば「ｔｒａｎｓｆｏｒｍ＿ｌｅｎｇｔｈ」情\n報を提供すること，「現在のフレームのｗｉｎｄｏｗ＿ｌｅｎｇｔｈ」が「０」\nの場合に，「現在のフレームのｔｒａｎｓｆｏｒｍ＿ｌｅｎｇｔｈ」が「未\n送信（＝０）」であるのに対し，「現在のフレームのｗｉｎｄｏｗ＿ｌｅｎ\nｇｔｈ」が「１」の場合には，「現在のフレームのｔｒａｎｓｆｏｒｍ＿ｌ\nｅｎｇｔｈ」は「０（または未送信）」，「０」，「１」のいずれかである\nことが示され，「ｗｉｎｄｏｗ＿ｌｅｎｇｔｈ」の選択（「０」か「１」か\nの選択）と，「ｔｒａｎｓｆｏｒｍ＿ｌｅｎｇｔｈ」の選択とに，依存する\n関係があることが理解できる。また，「ｗｉｎｄｏｗ＿ｌｅｎｇｔｈ」が，\n請求項９の「移行傾斜」に，「ｔｒａｎｓｆｏｒｍ＿ｌｅｎｇｔｈ」が請求\n項９の「変換長」に対応しているものと解される。さらに，「可変長符号語\nエンコーダ１８０」は，段落【００４４】の記載から，「オーディオエンコ\nーダ１００」に含まれ，かつ「可変長符号語１８２を提供する」ものであり，\nここで，「オーディオエンコーダ１００」は，請求項９の「オーディオエン\nコーダ」に対応しているものと解される。これによれば，本件明細書の段落\n【００６３】～【００６７】には，「オーディオエンコーダ１００」に含ま\nれる「可変長符号語エンコーダ１８０」が，移行傾斜の選択と変換長の選択\nとの間の依存関係を利用して，可変長符号語を提供する態様が記載されてい\nる，ということができる。\n以上に対し，請求項９には，「オーディオエンコーダは，・・・を用い\nて，・・・を利用するように構成され」と，主語が「オーディオエンコーダ」\nであるものとして記載されているから，「可変長符号語エンコーダ」につい\nて記載された本件明細書の段落【００６３】～【００６７】と対応するもの\nとはいえない。\nまた，請求項９の「可変長符号語を用いて，」「依存関係・・・を利用す\nる」ことと，上記本件明細書における「依存関係を利用して，可変長符号語\nを提供する」ことは，前者が「可変長符号語」を用いることで「依存関係」\nを何らかの形で利用する意味に解されるのに対し，後者は，「依存関係」を\n利用して「可変長符号語」を提供することと解され，特許請求の範囲の記載\nと本件明細書の記載が対応する関係にない。\n以上のとおり，請求項９の「前記可変長符号語を用いて，移行傾斜の選\n択と変換長の選択との間の依存関係」「を利用するように構成される」の\n記載は本件明細書の段落【００６３】～【００６７】の記載事項と対応して\nいないから，本件明細書の当該段落の記載を考慮しても，その技術的意味が\n明らかとはいえない。\nイ  「前記可変長符号語を用いて，」「隣接するフレームのウィンドウ形状\nの間の相関関係を利用するように構成される」との点について\n(ｱ)  本件明細書の段落【００６３】～【００６７】の可変長符号語エンコ\nーダに関する説明には，隣接するフレームのウィンドウ形状の間の相関\n関係に触れた記載はないから，これらの段落の記載からは「隣接するフ\nレームのウィンドウ形状の間の相関関係を利用する」ことの意義は明ら\nかではない。\n次に，本件明細書の段落【００５７】～【００５９】及び図４からは，\n「第１のフレームのためのウィンドウ・タイプが与えられる場合，（２\nつの次のフレームから）第２のフレームのためのウィンドウ・タイプの\n選択は制限される。」（段落【００５７】）との記載があることや，図\n４に，「ｆｒｏｍ」の欄に示されている各ウィンドウの選択と，「ｔｏ」\nの欄に示されている各ウィンドウとの間の選択との関係に，制限がある\nことが示されていることから，隣接するフレームのウィンドウ形状の間\nに相関関係があることを理解することができる。\nもっとも，本件明細書の段落【００５７】～【００５９】の記載は，「ウ\nィンドウ・シーケンス決定器１３８」が「異なるウィンドウ」を選択する\n際の処理に関する記載と理解するのが自然である（段落【００４７】）。\nそうすると，「ウィンドウ・シーケンス決定器１３８」は，「オーディオ\nエンコーダ１００」中の「ウィンドウ・ベースの信号変換器１３０」に含\nまれる（段落【００４０】及び図１）のであるから，上記段落【００５７】\n～【００５９】の記載は，「ウィンドウ・ベースの信号変換器１３０」が，\n隣接するフレームのウィンドウ形状の間の相関関係を利用して，「異なる\nウィンドウ」を「選択」することについてのものと解される。そして，上\n記段落【００５７】～【００５９】及び図４には「可変長符号語」につい\nての記載はないから，上記段落の記載は，「可変長符号語」を用いること\nとは，何ら関係がないといえる。\n以上のとおり，本件明細書の記載からは，「可変長符号語」を用いて，\n「隣接するフレームのウィンドウ形状の間の相関関係」を利用すること\nの技術的意味は明らかではない。\n(ｲ)  本件明細書の主として段落【００８１】～【００８７】には，オーデ\nィオデコーダ２００に含まれるウィンドウ・セレクタ２７０は，現在のフ\nレームに関連するウィンドウ・タイプを決定するために，前のフレームの\n移行傾斜「ｗｉｎｄｏｗ＿ｌｅｎｇｔｈ」情報及び現在のフレームの移行\n傾斜「ｗｉｎｄｏｗ＿ｌｅｎｇｔｈ」情報を評価し，前のフレームの移行\n傾斜情報及び現在のフレームの移行傾斜情報が共に（値「１」）の存在を\n示す場合には，現在のフレームの変換長「ｔｒａｎｓｆｏｒｍ＿ｌｅｎｇ\nｔｈ」情報を評価することが必要であることが理解でき，ウィンドウ・セ\nレクタ２７０が，隣接するフレームのウィンドウ形状の間の相関関係及び\n現在のフレームの変換長を利用して，可変符号語長ウィンドウ情報を評価\nする態様が記載されているものといえる。\nこれに対し，請求項９の「前記可変長符号語を用いて，」「隣接するフ\nレームのウィンドウ形状の間の相関関係を利用するように構成される」\nは，「利用する」の主語が「オーディオエンコーダ」であるものとして記\n載されているから，「オーディオデコーダ２００」の動作に係る上記の態\n様を表現しているものとして理解することはできない。また，請求項９の\n「可変長符号語を用いて，」「相関関係を利用する」ことと，上記態様に\nおける，「オーディオデコーダ２００」に含まれる「ウィンドウ・セレク\nタ２７０」が，「隣接するフレームのウィンドウ形状の間の相関関係およ\nび現在のフレームの変換長を利用して，可変符号語長ウィンドウ情報を評\n価する」こととは，前者が「可変長符号語」を用いることで「相関関係」\nを何らかの形で利用する意味に解されるのに対し，後者は，「相関関係」\nを利用して「可変長符号語」を評価することと解されることからすれば，\n両者は対応する関係にない。\n以上のとおり，請求項９の「前記可変長符号語を用いて，」「隣接する\nフレームのウィンドウ形状の間の相関関係を利用するように構成される」\nの記載は，オーディオデコーダについての上記段落【００８１】～【００\n８７】の記載事項と対応していないから，当該段落の記載を考慮しても，\n請求項９の上記記載の技術的意味が明らかとはいえない。\n(2)  オーディオデコーダについての記載との関係\n請求項９は「オーディオエンコーダ（１００）」の発明であり，本件発明\n特定事項もオーディオエンコーダを特定する事項であるのに対し，請求項１\nは「オーディオデコーダ（２００）」の発明である点で異なる。そして，請\n求項１の「オーディオデコーダ２００」が含む「ウィンドウ・セレクタ（２\n７０）」との関係で，請求項１の発明特定事項の技術的意味が理解できると\nしても，そのことから，請求項９の技術的意味が理解できることが一義的に\n導かれるとはいえない。\n３  請求項１３について\n本願発明１３は，本願発明９に対応する方法の発明であり，上記に述べたと\nころが妥当するから，特許請求の範囲の請求項１３の記載についても明確性要\n件を満たさない。\n第５  当裁判所の判断\n１  本願発明９及び本願発明１３について\n(1)  特許請求の範囲の記載\n本願発明９及び本願発明１３に係る特許請求の範囲の記載は，前記第２の\n２の【請求項９】及び【請求項１３】のとおりであり，請求項９の記載は次\nのとおり分説することができる。以下，各分説を，その符号に従い「分説Ａ」\nなどという。\nＡ  入力オーディオ情報（１１０）に基づいて符号化オーディオ情報（１９\n２）を提供するためのオーディオエンコーダ（１００）であって，\nＢ  前記入力オーディオ情報（１１０）の複数のウィンドウ化された部分に\n基づいてオーディオ信号パラメータ（１３２）のシーケンスを提供するよ\nうに構成されたウィンドウ・ベースの信号変換器（１３０）を含み，\nＣ  前記ウィンドウ・ベースの信号変換器（１３０）は，前記入力オーディ\nオ情報（１１０）の特性に基づいて前記入力オーディオ情報のウィンドウ\n化された部分を得るためのウィンドウ・タイプを適応させるように構成さ\nれ，\nＤ  前記ウィンドウ・ベースの信号変換器（１３０）は，長い移行傾斜を有\nするウィンドウおよび短い移行傾斜を有するウィンドウ（３１０，３１２，\n３１４，３１６，３１８）の使用の間で切り替わるように構成され，さら\nに，２つ以上の異なる変換長を有するウィンドウの使用の間で切り替わる\nように構成され，\nＥ  前記ウィンドウ・ベースの信号変換器（１３０）は，前記入力オーディ\nオ情報の先の部分および前記入力オーディオ情報の現在の部分のオーディ\nオ・コンテンツを変換するために用いられるウィンドウ・タイプに基づい\nて前記入力オーディオ情報の現在の部分を変換するために用いられるウィ\nンドウ・タイプを決定するように構成され，\nＦ  前記オーディオエンコーダは，可変長符号語を用いて前記入力オーディ\nオ情報（１１０）の現在の部分を変換するために用いられるウィンドウの\nタイプを示すウィンドウ情報（１４０）を符号化するように構成され，\nＧ  前記オーディオエンコーダは，前記可変長符号語を用いて，移行傾斜の\n選択と変換長の選択との間の依存関係または隣接するフレームのウィンド\nウ形状の間の相関関係を利用するように構成される，オーディオエンコー\nダ（１００）。\n(2)  本件明細書の記載\n本件明細書には，以下のような記載がある。また，図面の一部は別紙本件\n明細書図面目録のとおりである（なお，図面の表題（「ＦＩＧＵＲＥ  １Ａ」\n等）は，「ＦＩＧＵＲＥ」を「図」と読み替え，アルファベットの大文字を\n小文字に読み替える。）。\nア  技術分野\n【０００１】  本発明による実施例は，入力されたオーディオ情報に基づ\nいて符号化されたオーディオ情報を得るためのオーディオエンコーダ，\nおよび符号化されたオーディオ情報に基づいて復号化されたオーディオ\n情報を得るためのオーディオデコーダに関する。本発明による更なる実\n施例は，符号化されたオーディオ情報に関する。本発明によるさらに他\nの実施例は，符号化されたオーディオ情報に基づいて復号化されたオー\nディオ情報を提供する方法，および入力されたオーディオ情報に基づい\nて符号化されたオーディオ情報を提供する方法に関する。更なる実施例\nは，発明の方法を実行するためのコンピュータ・プログラムに関する。\n【０００２】  本発明の実施例は，統合音声音響符号化（ＵＳＡＣ）ビッ\nトストリーム構文の提案された更新に関する。\nイ  背景技術\n【０００３】  以下に，発明およびその効果を理解しやすくするために，\nこの発明のいくつかの背景が説明される。過去の１０年の間に，デジタ\nル的にオーディオ・コンテンツを格納して配布するという可能性におい\nて大きい努力が加えられた。この方法における１つの重要な業績は，国\n際基準ＩＳＯ／ＩＥＣ  １４４９６－３の定義である。この基準のパー\nト３は，オーディオ・コンテンツの符号化および復号化に関連し，パー\nト３のサブパート４は一般のオーディオ符号化に関連する。ＩＳＯ／Ｉ\nＥＣ  １４４９６のパート３，サブパート４は，一般のオーディオ・コ\nンテンツの符号化および復号化のための概念を定義する。さらに，品質\nを改善しおよび／または必要なビットレートを低下させるために，さら\nなる改良が提案された。\n【０００４】  しかしながら，前記基準に示されている概念によれば，時\n間領域オーディオ信号は，時間－周波数表現に変換される。時間領域か\nら時間－周波数領域への変換は，典型的には変換ブロックを用いて実行\nされ，それは時間領域サンプルの「フレーム」として指定される。例え\nばフレームの半分がシフトして重なり合うフレームを使用することが有\n利であることが分かっており，その理由は，重なりが効果的にアーチフ\nァクトを回避する（または，少なくとも減らす）ことができるからであ\nる。さらに，時間的に限られたフレームのこの処理から生じているアー\nチファクトを回避するために，ウィンドウ機能が実行されなければなら\nないことが分かっている。また，ウィンドウ機能は，次の時間的に移さ\nれ重なり合うフレームの重複および加算処理の最適化を可能にする。\n【０００５】  しかしながら，一定の長さのウィンドウを用いて，能率的\nにエッジ，すなわちオーディオ・コンテンツの中の急激な移行またはい\nわゆる過渡信号を表すことは問題を含むことが分かっており，その理由\nは，移行のエネルギーはウィンドウの全ての期間に広げられ，それは聞\nき取れるアーチファクトという結果になるからである。したがって，オ\nーディオ・コンテンツのおよそ変化しない部分は長いウィンドウを用い\nて符号化され，オーディオ・コンテンツの移行部分（例えば，過渡信号\nを含む部分）は短いウィンドウを用いて符号化されるように，異なる長\nさのウィンドウの間で切り替えることが提案された。\n【０００６】  しかしながら，時間領域から時間－周波数領域までオーデ\nィオ・コンテンツの変換のための異なるウィンドウの間で選択すること\nができるシステムにおいて，もちろん，与えられたフレームの符号化さ\nれたオーディオ・コンテンツの復号化のためにどのウィンドウが用いら\nれるべきかをデコーダに示す必要がある。\n【０００７】  従来のシステムにおいて，例えば国際基準ＩＳＯ／ＩＥＣ\n１４４９６－３，パート３，サブパート４によるオーディオデコーダに\nおいて，現在のフレームで使用するウィンドウ・シーケンスを示す「ｗ\nｉｎｄｏｗ＿ｓｅｑｕｅｎｃｅ」と呼ばれているデータのエレメントは，\nいわゆる「ｉｃｓ＿ｉｎｆｏ」ビットストリーム・エレメントにおける\nビットストリームに２ビットで書き込まれる。先行フレームのウィンド\nウ・シーケンスを考慮に入れることによって，８つの異なるウィンドウ・\nシーケンスが示される。\n【０００８】  上記説明からみて，オーディオ情報を表している符号化さ\nれたビットストリームのビット・ロードが，使用されるウィンドウのタ\nイプを示す必要によってつくられることが分かる。\nウ  発明が解決しようとする課題\n【００１０】  この状況からみて，オーディオ・コンテンツの時間領域表\n現およびオーディオ・コンテンツの時間－周波数領域表現の間の変換の\nために用いられるウィンドウのタイプのよりビットレート効率のよいシ\nグナリングを可能にする概念をつくりたいという要求がある。\nエ  課題を解決するための手段\n【００１１】  この課題は，請求項１に記載のオーディオデコーダ，請求\n項９に記載のオーディオエンコーダ，請求項１２に記載の符号化された\nオーディオ情報，請求項１４に記載の復号化されたオーディオ情報を提\n供する方法，請求項１５に記載の符号化されたオーディオ情報を提供す\nる方法および請求項１６に記載のコンピュータ・プログラムによって解\n決される。\n【００１２】  本発明による実施例は，符号化されたオーディオ情報に基\nづいて復号化オーディオ情報を提供するためのオーディオデコーダを提\n供する。オーディオデコーダは，符号化されたオーディオ情報によって\n記載されている時間－周波数表現をオーディオ・コンテンツの時間領域\n表現にマッピングするように構成されるウィンドウ・ベースの信号変換\n器を含む。ウィンドウ・ベースの信号変換器は，ウィンドウ情報に基づ\nいて，異なる移行傾斜のウィンドウおよび異なる変換長のウィンドウを\n含む複数のウィンドウからウィンドウを選択するように構成される。オ\nーディオデコーダは，オーディオ情報の与えられたフレームに関連する\n時間－周波数表現の所定の部分（例えばフレーム）の処理のためのウィ\nンドウを選択するために，可変符号語長のウィンドウ情報を評価するよ\nうに構成されるウィンドウ・セレクタを含む。\n【００１３】  本発明の本実施例は，どのタイプのウィンドウがオーディ\nオ・コンテンツの時間－周波数領域表現を時間領域表現に変換するため\nに用いられるべきであるかについて示す情報を格納または送信するため\nに必要なビットレートが，可変符号語長のウィンドウ情報を用いて低減\nされることができることを発見したことに基づく。適当なウィンドウを\n選択するために必要な情報がこの種の可変符号語長の表現のために適切\nであるので，可変符号語長のウィンドウ情報が適切であることが分かっ\nている。\n【００１４】  短い変換長が概して１つか２つの長い移行傾斜を有するウ\nィンドウのために用いられないため，例えば，可変符号語長のウィンド\nウ情報を用いることにより，移行傾斜の選択および変換長の選択の間に\n依存関係があることを利用することができる。したがって，重複情報の\n伝送は可変符号語長のウィンドウ情報を用いて回避されることができ，\nそれにより，符号化されたオーディオ情報のビットレート効率を改善す\nる。\n【００１５】  さらなる例として，隣接するフレームのウィンドウ形状間\nに概して相関がある点に留意する必要があり，（現在考慮されたウィン\nドウと隣接している）もう一つの隣接するウィンドウのウィンドウ・タ\nイプは現在のフレームのためのウィンドウ・タイプの選択を制限する場\n合のためのウィンドウ情報の符号語長を選択的に減らすために利用され\nることができる。\n【００１６】  上記を要約すると，可変符号語長のウィンドウ情報の使用\nは，（一定符号語長のウィンドウ情報と比較したとき）オーディオデコ\nーダの複雑さを著しく増加させることなく，オーディオデコーダの出力\n波形を変えることなく，ビットレートの節減を可能にする。また，符号\n化されたオーディオ情報の構文は場合によっては単純化されることさえ\nでき，そのことは後ほど詳述する。\n【００２９】  本発明による他の実施例は，入力オーディオ情報に基づい\nて符号化されたオーディオ情報を提供するためのオーディオエンコーダ\nを作製する。オーディオエンコーダは，入力オーディオ情報の複数のウ\nィンドウ化された部分（例えば，重複または非重複フレーム）に基づい\nてオーディオ信号パラメータ（例えば，入力オーディオ情報の時間－周\n波数領域表現）のシーケンスを提供するように構成されるウィンドウ・\nベースの信号変換器を含む。ウィンドウ・ベースの信号変換器は，好ま\nしくは，ウィンドウ形状を入力オーディオ情報の特性に基づいて入力オ\nーディオ情報のウィンドウ化された部分を得るためのウィンドウの形に\n適応するように構成される。ウィンドウ・ベースの信号変換器は，（比\n較的）長い移行傾斜を有するウィンドウおよび（比較的）短い移行傾斜\nを有するウィンドウの使用の間で切り替わり，更に２つ以上の異なる変\n換長を有するウィンドウの使用の間で切り替わるように構成される。ウ\nィンドウ・ベースの信号変換器は，入力オーディオ情報の前の部分（例\nえばフレーム）および入力オーディオ情報の現在の部分のオーディオ・\nコンテンツを変換するために用いられるウィンドウ・タイプに基づいて\n入力オーディオ情報の現在の部分（例えばフレーム）を変換するために\n用いられるウィンドウ・タイプを決定するように構成される。また，オ\nーディオエンコーダは，可変長符号語を用いて入力オーディオ情報の現\n在の部分を変換するために用いられるウィンドウのタイプを示すウィン\nドウ情報を符号化するように構成される。このオーディオエンコーダは，\n発明のオーディオデコーダに関連してすでに述べられた効果を提供する。\n特に，これが可能である状況のいくらかまたは全ての比較的長い符号語\nの使用を回避することによって符号化されたオーディオ情報のビットレ\nートを減らすことは可能である。\n【００３２】  本発明による他の実施例は，入力オーディオ情報に基づい\nて符号化オーディオ情報を提供する方法を作成する。この方法は，入力\nオーディオ情報の複数のウィンドウ化された部分に基づいてオーディオ\n信号パラメータ（例えば時間－周波数領域表現）のシーケンスを提供す\nることを含む。オーディオ信号パラメータのシーケンスを提供するため\nに，入力オーディオ情報の特性に基づいて入力オーディオ情報のウィン\nドウ化された部分を得るためのウィンドウ形状を適応させるために，長\nい移行傾斜を有するウィンドウおよび短い移行傾斜を有するウィンドウ\nの使用の間で，更に，２つ以上の異なる変換長を有するウィンドウの使\n用の間で切り替えが行われる。この方法は，可変長符号語を用いて，入\n力オーディオ情報の現在の部分を変換するために用いられるウィンドウ\nのタイプを示すウィンドウ情報を符号化することを含む。\nオ  発明を実施するための形態\n(ｱ)  オーディオエンコーダ概要\n【００３５】  オーディオエンコーダ概要\n以下に，発明概念を適用することができるオーディオエンコーダが\n説明される。しかしながら，図１を参照して記載されているオーディ\nオエンコーダは，本発明が適用されることができるオーディオエンコ\nーダの単なる実施例であると考えるべきである点に留意する必要があ\nる。しかしながら，比較的簡単なオーディオエンコーダが図１を参照\nして議論されるが，本発明がもっと複雑なオーディオエンコーダにお\nいて，例えば，異なる符号化コアモードの間で（例えば，周波数領域\n符号化および線形予測領域符号化の間で）切り替えができるオーディ\nオエンコーダに本発明が適用されることができる点に留意する必要が\nある。それにもかかわらず，単純性のために，単純な周波数領域オー\nディオエンコーダの基本概念を理解することは有用であると思われる。\n【００３７】  図１に示される音声エンコーダ１００は，例えば時間領\n域オーディオ信号のような入力オーディオ情報１１０を受信するよう\nに構成される。さらに，オーディオエンコーダ１００は，例えば入力\nオーディオ情報１１０をダウンサンプリングしたり，入力オーディオ\n情報１１０のゲインを制御することにより，任意に入力オーディオ情\n報１１０を前処理するように構成される任意のプリプロセッサ１２０\nを含む。また，オーディオエンコーダ１００は，時間－周波数領域に\nおけるスペクトル値のようなオーディオ信号パラメータのシーケンス\nを得るために，主要な構成要素として，入力オーディオ情報１１０ま\nたはその前処理バージョン１２２を受信し，入力オーディオ情報１１\n０またはその前処理バージョン１２２を周波数領域（または，時間－\n周波数領域）に変換するように構成されるウィンドウ・ベースの信号\n変換器１３０を含む。この目的のために，ウィンドウ・ベースの信号\n変換器１３０は，入力オーディオ情報１１０，１２２のサンプルのブ\nロック（例えば「フレーム」）をスペクトル値１３２のセットに変換\nするように構成されるウィンドウ化器／変換器１３６を含む。例えば，\nウィンドウ化器／変換器１３６は，１セットのスペクトル値を入力オ\nーディオ情報のサンプルの各ブロックに（すなわち，各「フレーム」\nに）提供するように構成される。しかしながら，入力オーディオ情報\n１１０，１２２のサンプルのブロック（すなわち「フレーム」）は，\n好ましくは，入力オーディオ情報１１０，１２２のサンプルの時間的\nに隣接するブロック（フレーム）が複数のサンプルを共有するように，\n重複してもよい。例えば，２つの時間的に続くサンプルのブロック（フ\nレーム）は，サンプルのほぼ５０％重複する。したがって，ウィンド\nウ化器／変換器１３６は，例えば修正離散コサイン変換（ＭＤＣＴ）\nのようないわゆる重複変換を実行するように構成される。しかしなが\nら，修正離散コサイン変換を実行するときに，ウィンドウ化器／変換\n器１３６はウィンドウをサンプルの各ブロックに適用することができ，\nそれによって，（サンプルのブロックの先端および後端の時間的近傍\nに時間的に配置される）周辺サンプルより（サンプルのブロックの時\n間的中心の近傍に時間的に配置される）中心サンプルを強く重み付け\nする。ウィンドウ化は，ブロックへの入力オーディオ情報１１０，１\n２２の分割から生じるアーチファクトを回避するのに役立つ。このよ\nうに，時間領域から時間－周波数領域への変換の前または間のウィン\nドウの適用は，入力オーディオ情報１１０，１２２のサンプルの次の\nブロックとの間の滑らかな移行を可能にする。ウィンドウ化に関する\n詳細について，国際基準ＩＳＯ／ＩＥＣ  １４４９６，パート３，サ\nブパート４およびそこに引用されている書類が参照される。オーディ\nオエンコーダの非常に単純なバージョンにおいて，（サンプルのブロ\nックとして定義される）オーディオフレームの２Ｎの数のサンプルは，\n信号特性から独立したＮのスペクトル係数のセットに変換される。し\nかしながら，移行の場合，オーディオ情報を復号化するときに，移行\nのエネルギーは全フレームに広げられるため，オーディオ情報１１０，\n１２２の２Ｎのサンプルの同一の変換長が入力オーディオ情報１１０，\n１１２の特性とは無関係に用いられるという概念が移行の重大な低下\nをもたらすことがわかった。それにもかかわらず，短い変換長（例え\nば，変換につき２Ｎ／８＝Ｎ／４サンプル）が選択される場合，端の\n符号化における改良を得ることができることが分かっている。しかし\nながら，長い変換長と比較したとき短い変換長に対して少ないスペク\nトル値が得られる場合であっても，短い変換長の選択が概して必要な\nビットレートを増加させることも分かった。したがって，オーディオ・\nコンテンツの移行（端として指定される）の近傍において長い変換長\n（例えば，変換につき２Ｎサンプル）から短い変換長（例えば，変換\nにつき２Ｎ／８＝Ｎ／４サンプル）へ切り替え，移行後に長い変換長\n（例えば，変換につき２Ｎサンプル）に切り換えることを推薦できる\nことがわかった。変換長の切り替えは変換の前または間に入力オーデ\nィオ情報１１０，１２２のサンプルをウィンドウ化するために適用さ\nれるウィンドウの変更に関連する。\n【００４０】  したがって，ウィンドウ・ベースの信号変換器１３０は，\nウィンドウ化器／変換器１３６がウィンドウの適当なタイプ（「ウィ\nンドウ・シーケンス」）を用いることができるように，ウィンドウ化\n器／変換器１３６にウィンドウ・タイプ情報１４０を提供するように\n構成されるウィンドウ・シーケンス決定器１３８を含む。例えば，ウ\nィンドウ・シーケンス決定器１３０は，入力オーディオ情報１１０ま\nたは前処理された入力オーディオ情報１２２を直接評価するように構\n成される。しかしながら，オーディオエンコーダ１００は，入力オー\nディオ情報１１０または前処理された入力オーディオ情報１２２を受\n信し，入力オーディオ情報１１０，１２２から，入力オーディオ情報\n１１０，１２２の符号化のために関連する情報を得るために，音響心\n理学的なモデルを適用するように構成された，音響心理学モデル・プ\nロセッサ１５０を含む。例えば，音響心理学モデル・プロセッサ１５\n０は，入力オーディオ情報１１０，１２２の範囲内で移行を確認して，\n対応する入力オーディオ情報１１０，１２２の移行の存在のため，短\nい変換長が要求されるフレームの信号を送るウィンドウ長の情報１５\n２を提供するように構成される。\n【００４４】  さらに，オーディオエンコーダ１００は，ウィンドウ・\nシーケンス決定器１３８からウィンドウ・タイプ情報１４０を受信し，\nそれに基づいて，ウィンドウ化器／変換器１３６によって実行される\nウィンドウ化／変換動作のために用いられるウィンドウのタイプを示\nす可変長符号語１８２を提供するように構成される可変長符号語エン\nコーダ１８０を含む。可変長符号語エンコーダ１８０に関する詳細は\n後述される。\n【００４６】  上記を要約すると，オーディオエンコーダ１００は，入\n力オーディオ情報１１０に基づいて符号化オーディオ情報１９２を提\n供するように構成される。オーディオエンコーダ１００は，重要なコ\nンポーネントとして，入力オーディオ情報１１０の複数のウィンドウ\n化された部分に基づいてオーディオ信号パラメータ１３２のシーケン\nス（例えば，スペクトル値のシーケンス）を提供するように構成され\nるウィンドウ・ベースの信号変換器１３０を含む。ウィンドウ・ベー\nスの信号変換器１３０は，入力オーディオ情報のウィンドウ化された\n部分を得るためのウィンドウ・タイプがオーディオ情報の特性に基づ\nいて選択されるように構成される。ウィンドウ・ベースの信号変換器\n１３０は，長い移行傾斜を有するウィンドウと短い移行傾斜を有する\nウィンドウの使用との間で切り替わるように構成され，また，２つ以\n上の異なる変換長を有するウィンドウの使用の間で切り替わるように\n構成される。たとえば，ウィンドウ・ベースの信号変換器１３０は，\n入力オーディオ情報の先の部分（例えばフレーム）のために用いられ\nるウィンドウ・タイプに基づいて，そして，入力オーディオ情報の現\n在の部分のオーディオ・コンテンツに基づいて，入力オーディオ情報\nの現在の部分（例えばフレーム）を変換するために用いられるウィン\nドウ・タイプを決定するように構成される。しかしながら，オーディ\nオエンコーダは，例えば可変長符号語エンコーダ１８０を用いて，可\n変長符号語を用いた入力オーディオ情報の現在の部分（例えばフレー\nム）を変換するために用いられるウィンドウのタイプを示すウィンド\nウ・タイプ情報１４０を符号化するように構成される。\n(ｲ)  ウィンドウ・タイプの変換について\n【００４７】  ウィンドウ・タイプの変換\n以下において，ウィンドウ化器／変換器１３６によって適用される\nことができ，ウィンドウ・シーケンス決定器１３８によって選択され\nる異なるウィンドウの詳細な説明が示される。しかしながら，ここで\n述べられるウィンドウは，例証としてのみとられるべきものである。\n次に，ウィンドウ・タイプの効果的な符号化のための発明概念が示さ\nれる。\n【００４８】  今，変換ウィンドウの異なるタイプの図解表現を示す図３\nを参照して，新しいサンプルウィンドウの上の概要が与えられる。しか\nしながら，付加的にＩＳＯ／ＩＥＣ  １４４９６－３，パート３，サブ\nパート４が参照され，そこにおいて，変換ウィンドウを適用する概念は\nさらに詳細に示される。\n【００４９】  図３は，（比較的）長い左側ウィンドウ傾斜３１０ａ（１\n０２４サンプル）および長い右側ウィンドウ傾斜３１０ｂ（１０２４サ\nンプル）を含む第１のウィンドウ・タイプ３１０の図解図を示す。第１\nのウィンドウ・タイプ３１０がいわゆる「長い変換長」を含むように，\n合計２０４８のサンプルおよび１０２４のスペクトル係数は第１のウィ\nンドウ・タイプ３１０に関連付けられる。\n【００５０】  第２のウィンドウ・タイプ３１２は，「ｌｏｎｇ＿ｓｔａ\nｒｔ＿ｓｅｑｕｅｎｃｅ」または「ｌｏｎｇ＿ｓｔａｒｔ＿ｗｉｎｄｏ\nｗ」として指定される。第２のウィンドウ・タイプは，（比較的）長い\n左側ウィンドウ傾斜３１２ａ（１０２４サンプル）および（比較的）短\nい右側ウィンドウ傾斜３１２ｂ（１２８サンプル）を含む。第２のウィ\nンドウ・タイプ３１２が長い変換長を含むように，合計２０４８のサン\nプルおよび１０２４のスペクトル係数が第２のウィンドウ・タイプに関\n連付けられる。\n【００５１】  第３のウィンドウ・タイプ３１４は，「ｌｏｎｇ＿ｓｔｏ\nｐ＿ｓｅｑｕｅｎｃｅ」または「ｌｏｎｇ＿ｓｔｏｐ＿ｗｉｎｄｏｗ」\nとして指定される。第３のウィンドウ・タイプ３１４は，短い左側ウィ\nンドウ傾斜３１４ａ（１２８サンプル）および長い右側ウィンドウ傾斜\n３１４ｂ（１０２４サンプル）を含む。第３のウィンドウ・タイプが長\nい変換長を含むように，合計２０４８のサンプルおよび１０２４のスペ\nクトル係数が第３のウィンドウ・タイプ３１４に関連付けられる。\n【００５２】  第４のウィンドウ・タイプ３１６は，「ｓｔｏｐ＿ｓｔａ\nｒｔ＿ｓｅｑｕｅｎｃｅ」または「ｓｔｏｐ＿ｓｔａｒｔ＿ｗｉｎｄｏ\nｗ」として指定される。第４のウィンドウ・タイプ３１６は，短い左側\nウィンドウ傾斜３１６ａ（１２８サンプル）および短い右側ウィンドウ\n傾斜３１６ｂ（１２８サンプル）を含む。第４のウィンドウ・タイプが\n「長い変換長」を含むように，合計２０４８のサンプルおよび１０２４\nのスペクトル係数が第４のウィンドウ・タイプに関連付けられる。\n【００５３】  第５のウィンドウ・タイプ３１８は，第１ないし第４のウ\nィンドウ・タイプと著しく異なる。第５のウィンドウ・タイプは，時間\n的に重複するように配置される８つの「短いウィンドウ」またはサブウ\nィンドウ３１９ａ－３１９ｈの重ね合わせを含む。短いウィンドウ３１\n９ａ－３１９ｈの各々は，２５６サンプルの長さを含む。したがって，\n２５６のサンプルを１２８のスペクトル値に変換する「短い」ＭＤＣＴ\n変換は，短いウィンドウ３１９ａ－３１９ｈの各々に関連付けられる。\nしたがって，１２８スペクトル値の８セットは各々第５のウィンドウ・\nタイプ３１８に関連しており，その一方で，１０２４スペクトル値の１\nセットは第１－第４のウィンドウ・タイプ３１０，３１２，３１４，３\n１６の各々に関連する。したがって，第５のウィンドウ・タイプが，「短\nい」変換長を含むということができる。それにもかかわらず，第５のウ\nィンドウ・タイプは，短い左側ウィンドウ傾斜３１８ａおよび短い右側\nウィンドウ傾斜３１８ｂを含む。\n(ｳ)  変換ウィンドウ・タイプ間の移行\n【００５７】  変換ウィンドウ・タイプ間の移行\nウィンドウ・シーケンス（または変換ウィンドウのタイプ）の間の\n許可された移行の図解図である図４を参照して，若干の詳細が説明さ\nれる。それぞれウィンドウ・タイプ３１０，３１２，３１４，３１６，\n３１８の１つを有する２つの次の変換ウィンドウがオーディオサンプ\nルの部分的に重なり合うブロックに適用されることなく，第１のウィ\nンドウの右側ウィンドウ傾斜が，部分的な重なりによって生じるアー\nチファクトを回避するために第２の，次のウィンドウの左側ウィンド\nウ傾斜と適合しなければならないと理解することができる。したがっ\nて，（２つの次のフレームから）第１のフレームのためのウィンドウ・\nタイプが与えられる場合，（２つの次のフレームから）第２のフレー\nムのためのウィンドウ・タイプの選択は制限される。図４において見\nられるように，第１のウィンドウが「ｏｎｌｙ＿ｌｏｎｇ＿ｓｅｑｕ\nｅｎｃｅ」ウィンドウである場合，第１のウィンドウの後に「ｏｎｌ\nｙ＿ｌｏｎｇ＿ｓｅｑｕｅｎｃｅ」ウィンドウまたは「ｌｏｎｇ＿ｓ\nｔａｒｔ＿ｓｅｑｕｅｎｃｅ」ウィンドウが続く。対照的に，「ｏｎ\nｌｙ＿ｌｏｎｇ＿ｓｅｑｕｅｎｃｅ」ウィンドウが第１フレームを変\n換するために使われる場合，第１フレームの後の第２のフレームのた\nめに「ｅｉｇｈｔ＿ｓｈｏｒｔ＿ｓｅｑｕｅｎｃｅ」ウィンドウ，「ｌ\nｏｎｇ＿ｓｔｏｐ＿ｓｅｑｕｅｎｃｅ」ウィンドウまたは「ｓｔｏｐ\n＿ｓｔａｒｔ＿ｓｅｑｕｅｎｃｅ」ウィンドウを使用することができ\nない。同様に，「ｌｏｎｇ＿ｓｔｏｐ＿ｓｅｑｕｅｎｃｅ」ウィンド\nウが第１フレームで使われる場合，第２のフレームは「ｏｎｌｙ＿ｌ\nｏｎｇ＿ｓｅｑｕｅｎｃｅ」ウィンドウまたは「ｌｏｎｇ＿ｓｔａｒ\nｔ＿ｓｅｑｕｅｎｃｅ」ウィンドウを使用することができるが，第２\nのフレームは「ｅｉｇｈｔ＿ｓｈｏｒｔ＿ｓｅｑｕｅｎｃｅ」ウィン\nドウ，「ｌｏｎｇ＿ｓｔｏｐ＿ｓｅｑｕｅｎｃｅ」ウィンドウまたは\n「ｓｔｏｐ＿ｓｔａｒｔ＿ｓｅｑｕｅｎｃｅ」ウィンドウを使用する\nことができない。\n【００５８】  対照的に，（２つの次のフレームから）第１のフレーム\nが「ｌｏｎｇ＿ｓｔａｒｔ＿ｓｅｑｕｅｎｃｅ」ウィンドウ，「ｅｉ\nｇｈｔ＿ｓｈｏｒｔ＿ｓｅｑｕｅｎｃｅ」ウィンドウまたは「ｓｔｏ\nｐ＿ｓｔａｒｔ＿ｓｅｑｕｅｎｃｅ」ウィンドウを用いる場合，（２\nつの次のフレームから）第２のフレームは「ｏｎｌｙ＿ｌｏｎｇ＿ｓ\nｅｑｕｅｎｃｅ」ウィンドウまたは「ｌｏｎｇ＿ｓｔａｒｔ＿ｓｅｑ\nｕｅｎｃｅ」ウィンドウを用いることができなくて，「ｅｉｇｈｔ＿\nｓｈｏｒｔ＿ｓｅｑｕｅｎｃｅ」ウィンドウ，「ｌｏｎｇ＿ｓｔｏｐ\n＿ｓｅｑｕｅｎｃｅ」ウィンドウまたは「ｓｔｏｐ＿ｓｔａｒｔ＿ｓ\nｅｑｕｅｎｃｅ」ウィンドウを用いることができる。\n【００５９】  ウィンドウ・タイプ「ｏｎｌｙ＿ｌｏｎｇ＿ｓｅｑｕｅ\nｎｃｅ」「ｌｏｎｇ＿ｓｔａｒｔ＿ｓｅｑｕｅｎｃｅ」「ｅｉｇｈｔ\n＿ｓｈｏｒｔ＿ｓｅｑｕｅｎｃｅ」「ｌｏｎｇ＿ｓｔｏｐ＿ｓｅｑｕ\nｅｎｃｅ」および「ｓｔｏｐ＿ｓｔａｒｔ＿ｓｅｑｕｅｎｃｅ」間の\n可能な移行は，図４における「チェック」によって示される。対照的\nに，「チェック」がないウィンドウ・タイプ間の移行は，いくつかの\n実施例において許容されない。\n(ｴ)  実施例ウィンドウ・シーケンス\n【００６３】  しかしながら，以下において詳細に説明されるように，\n本発明はオーディオフレームに関連するウィンドウのタイプを符号化\nするための特に効果的な概念をつくる。この問題に関して，合計５種\n類の異なるウィンドウ３１０，３１２，３１４，３１６，３１８が図\n５のウィンドウ・シーケンス５００において用いられる点に留意する\n必要がある。したがって，フレームのタイプを符号化するために３ビ\nットを使用することは「通常」必要である。対照的に，本発明は，低\n減されたビット要求でウィンドウ・タイプの符号化を可能にする概念\nをつくる。\n【００６４】  ここで，図６ａ，更には，図７ａ，７ｂおよび７ｃを参\n照して，ウィンドウ・タイプを符号化するための発明概念が説明され\nる。図６ａは，ウィンドウ・タイプを符号化するための規則を含むウ\nィンドウ・タイプ情報の提案された構文を表す表を示す。説明の目的\nで，ウィンドウ・シーケンス決定器１３８によって可変長符号語エン\nコーダ１８０に提供されるウィンドウ・タイプ情報１４０が現在のフ\nレームのウィンドウ・タイプを示し，値「ｏｎｌｙ＿ｌｏｎｇ＿ｓｅ\nｑｕｅｎｃｅ」，「ｌｏｎｇ＿ｓｔａｒｔ＿ｓｅｑｕｅｎｃｅ」，「ｅ\nｉｇｈｔ＿ｓｈｏｒｔ＿ｓｅｑｕｅｎｃｅ」，「ｌｏｎｇ＿ｓｔｏｐ\n＿ｓｅｑｕｅｎｃｅ」，「ｓｔｏｐ＿ｓｔａｒｔ＿ｓｅｑｕｅｎｃｅ」\nおよび値「ｓｔｏｐ＿１１５２＿ｓｅｑｕｅｎｃｅ」と「ｓｔｏｐ＿\nｓｔａｒｔ＿１１５２＿ｓｅｑｕｅｎｃｅ」のどちらかの中の１つを\nとることができると仮定される。しかしながら，発明の符号化概念に\nよれば，可変長符号語エンコーダ１８０は，現在のフレームに関連す\nるウィンドウの右側ウィンドウ傾斜の長さを示す１ビット「ｗｉｎｄ\nｏｗ＿ｌｅｎｇｔｈ」情報を提供する。図７ａで分かるように，１ビ\nット「ｗｉｎｄｏｗ＿ｌｅｎｇｔｈ」情報の「０」の値は１０２４サ\nンプルの右側ウィンドウ傾斜の長さを表し，値「１」は１２８サンプ\nルの右側ウィンドウ傾斜の長さを表す。したがって，ウィンドウ・タ\nイプが「ｏｎｌｙ＿ｌｏｎｇ＿ｓｅｑｕｅｎｃｅ」（第１のウィンド\nウ・タイプ３１０）または「ｌｏｎｇ＿ｓｔｏｐ＿ｓｅｑｕｅｎｃｅ」\n（第３のウィンドウ・タイプ３１４）である場合，可変長符号後エン\nコーダ１８０は「ｗｉｎｄｏｗ＿ｌｅｎｇｔｈ」情報の「０」の値を\n提供する。任意には，可変長符号語エンコーダ１８０は，「０」の「ｗ\nｉｎｄｏｗ＿ｌｅｎｇｔｈ」情報をタイプ「ｓｔｏｐ＿１１５２＿ｓ\nｅｑｕｅｎｃｅ」（ウィンドウ・タイプ３３０）のウィンドウに提供\nすることもできる。対照的に，可変長符号語エンコーダ１８０は，「ｗ\nｉｎｄｏｗ＿ｌｅｎｇｔｈ」情報の「１」の値を「ｌｏｎｇ＿ｓｔａ\nｒｔ＿ｓｅｑｕｅｎｃｅ」（第２のウィンドウ・タイプ３１２），「ｓ\nｔｏｐ＿ｓｔａｒｔ＿ｓｅｑｕｅｎｃｅ」（第４のウィンドウ・タイ\nプ３１６），および，「ｅｉｇｈｔ＿ｓｈｏｒｔ＿ｓｅｑｕｅｎｃｅ」\n（第５のウィンドウ・タイプ３１８）に提供することができる。任意\nには，可変長符号語エンコーダ１８０は，「１」の「ｗｉｎｄｏｗ＿\nｌｅｎｇｔｈ」情報を「ｓｔｏｐ＿ｓｔａｒｔ＿１１５２＿ｓｅｑｕ\nｅｎｃｅ」（ウィンドウ・タイプ３３２）に提供することもできる。\nさらに，可変長符号語エンコーダ１８０は，「ｗｉｎｄｏｗ＿ｌｅｎ\nｇｔｈ」情報の「１」の値をウィンドウ・タイプ３６２，３６６，３\n６８，３８２の１つ以上に，任意に提供することができる。\n【００６５】  しかしながら，可変長符号語エンコーダ１８０は，現在\nのフレームの１ビット「ｗｉｎｄｏｗ＿ｌｅｎｇｔｈ」情報の値に基\nづいて，選択的に，別の１ビット情報，すなわち，現在のフレームの\nいわゆる「ｔｒａｎｓｆｏｒｍ＿ｌｅｎｇｔｈ」情報を提供するよう\nに構成される。現在のフレームの「ｗｉｎｄｏｗ＿ｌｅｎｇｔｈ」情\n報が（ウィンドウ・タイプ「ｏｎｌｙ＿ｌｏｎｇ＿ｓｅｑｕｅｎｃｅ」\n「ｌｏｎｇ＿ｓｔｏｐ＿ｓｅｑｕｅｎｃｅ」および任意に「ｓｔｏｐ\n＿１１５２＿ｓｅｑｕｅｎｃｅ」のために）値「０」をとる場合，可\n変長符号語エンコーダ１８０はビットストリーム１９２に含ませるた\nめに「ｔｒａｎｓｆｏｒｍ＿ｌｅｎｇｔｈ」情報を提供しない。対照\n的に，現在のフレームの「ｗｉｎｄｏｗ＿ｌｅｎｇｔｈ」情報が（ウ\nィンドウ・タイプ「ｌｏｎｇ＿ｓｔａｒｔ＿ｓｅｑｕｅｎｃｅ」，「ｓ\nｔｏｐ＿ｓｔａｒｔ＿ｓｅｑｕｅｎｃｅ」，「ｅｉｇｈｔ＿ｓｈｏｒ\nｔ＿ｓｅｑｕｅｎｃｅ」および，任意に，「ＬＰＤ＿ｓｔａｒｔ＿ｓ\nｅｑｕｅｎｃｅ」および「ｓｔｏｐ＿ｓｔａｒｔ＿１１５２＿ｓｅｑ\nｕｅｎｃｅ」のために）値「１」をとる場合，可変長符号語エンコー\nダ１８０はビットストリーム１９２に含ませるために１ビット「ｔｒ\nａｎｓｆｏｒｍ＿ｌｅｎｇｔｈ」情報を提供する。「ｔｒａｎｓｆｏ\nｒｍ＿ｌｅｎｇｔｈ」情報が現在のフレームに適用される変換長を表\nすようにそれが与えられている場合，「ｔｒａｎｓｆｏｒｍ＿ｌｅｎ\nｇｔｈ」情報は提供される。このように，「ｔｒａｎｓｆｏｒｍ＿ｌ\nｅｎｇｔｈ」情報は，ウィンドウ・タイプ「ｌｏｎｇ＿ｓｔａｒｔ＿\nｓｅｑｕｅｎｃｅ」，「ｓｔｏｐ＿ｓｔａｒｔ＿ｓｅｑｕｅｎｃｅ」\nおよび，任意に，「ｓｔｏｐ＿ｓｔａｒｔ＿１１５２＿ｓｅｑｕｅｎ\nｃｅ」および「ＬＰＤ＿ｓｔａｒｔ＿ｓｅｑｕｅｎｃｅ」のための第\n１の値（例えば値「０」）をとるために提供され，それによって，現\n在のフレームに適用されるＭＤＣＴカーネルサイズが１０２４サンプ\nル（または１１５２サンプル）であることを示す。対照的に，「ｅｉ\nｇｈｔ＿ｓｈｏｒｔ＿ｓｅｑｕｅｎｃｅ」ウィンドウ・タイプが現在\nのフレームに関連している場合，「ｔｒａｎｓｆｏｒｍ＿ｌｅｎｇｔ\nｈ」情報は第２の値（例えば，値「１」）をとるために可変長符号語\nエンコーダ１８０によって提供され，それによって，現在のフレーム\nに関連するＭＤＣＴカーネルサイズが１２８サンプル（図７ｂの構文\n表現を参照）であることを示す。\n【００６６】  要約すると，現在のフレームに関連するウィンドウの右\n側ウィンドウ傾斜が比較的長い（長いウィンドウ傾斜３１０ｂ，３１\n４ｂ，３３０ｂ）場合，すなわちウィンドウ・タイプ「ｏｎｌｙ＿ｌ\nｏｎｇ＿ｓｅｑｕｅｎｃｅ」「ｌｏｎｇ＿ｓｔｏｐ＿ｓｅｑｕｅｎｃ\nｅ」および「ｓｔｏｐ＿１１５２＿ｓｅｑｕｅｎｃｅ」に対して，ビ\nットストリーム１９２に含めるために，可変長符号語エンコーダ１８\n０は，現在のフレームの１ビット「ｗｉｎｄｏｗ＿ｌｅｎｇｔｈ」情\n報だけを含む１ビット符号語を提供する。対照的に，現在のフレーム\nに関連するウィンドウの右側ウィンドウ傾斜が短いウィンドウ傾斜３\n１２ｂ，３１６ｂ，３１８ｂ，３３２ｂである場合，すなわちウィン\nドウ・タイプ「ｌｏｎｇ＿ｓｔａｒｔ＿ｓｅｑｕｅｎｃｅ」「ｅｉｇ\nｈｔ＿ｓｈｏｒｔ＿ｓｅｑｕｅｎｃｅ」「ｓｔｏｐ＿ｓｔａｒｔ＿ｓ\nｅｑｕｅｎｃｅ」および，任意に，「ｓｔｏｐ＿ｓｔａｒｔ＿１１５\n２＿ｓｅｑｕｅｎｃｅ」に対して，ビットストリーム１９２に含める\nために，可変長符号語エンコーダ１８０は，１ビット「ｗｉｎｄｏｗ\n＿ｌｅｎｇｔｈ」情報および１ビット「ｔｒａｎｓｆｏｒｍ＿ｌｅｎ\nｇｔｈ」情報を含む２ビット符号語を提供する。このように，「ｏｎ\nｌｙ＿ｌｏｎｇ＿ｓｅｑｕｅｎｃｅ」ウィンドウ・タイプおよび「ｌ\nｏｎｇ＿ｓｔｏｐ＿ｓｅｑｕｅｎｃｅ」ウィンドウ・タイプの場合に\n（そして，任意に「ｓｔｏｐ＿１１５２＿ｓｅｑｕｅｎｃｅ」ウィン\nドウ・タイプに対して），１ビットが節約される。\n【００６７】  このように，現在のフレームに関連するウィンドウ・タ\nイプに応じて，わずか１または２ビットが，５つの（またはより多く\nの）可能なウィンドウ・タイプからの選択を符号化するために必要と\nされるだけである。\n【００６８】  ここで，図６ａが，コラム６２０に示される「ｗｉｎｄ\nｏｗ＿ｌｅｎｇｔｈ」情報の値に，および，コラム６２４に示される\n規定位置および（必要であれば）「ｔｒａｎｓｆｏｒｍ＿ｌｅｎｇｔ\nｈ」情報の値に，ウィンドウ・タイプ・カラム６３０において定めら\nれるウィンドウ・タイプのマッピングを示すことに注意しなければな\nらない。\n【００６９】  図６ｂは，現在のフレームのウィンドウ・タイプから，\n現在のフレームの「ｗｉｎｄｏｗ＿ｌｅｎｇｔｈ」情報，および「ｔ\nｒａｎｓｆｏｒｍ＿ｌｅｎｇｔｈ」情報（または「ｔｒａｎｓｆｏｒ\nｍ＿ｌｅｎｇｔｈ」情報がビットストリーム１９２から省略されると\nいう指示）を引き出すためのマッピングの図解図を示す。このマッピ\nングは，現在のフレームのウィンドウ・タイプを示すウィンドウ・タ\nイプ情報１４０を受信して，それを図６ｂの表のコラム６６０に示す\n「ｗｉｎｄｏｗ＿ｌｅｎｇｔｈ」情報に，および，図６ｂの表のコラ\nム６６２で示す「ｔｒａｎｓｆｏｒｍ＿ｌｅｎｇｔｈ」情報にマッピ\nングする，可変長符号語エンコーダ１８０によって実行される。特に，\n「ｗｉｎｄｏｗ＿ｌｅｎｇｔｈ」情報が所定の値（例えば「１」）を\n取るか，さもなければ，「ｔｒａｎｓｆｏｒｍ＿ｌｅｎｇｔｈ」情報\nの供給を省略するか，またはビットストリーム１９２への「ｔｒａｎ\nｓｆｏｒｍ＿ｌｅｎｇｔｈ」情報の包含を抑制する場合だけ，可変長\n符号語エンコーダ１８０は「ｔｒａｎｓｆｏｒｍ＿ｌｅｎｇｔｈ」情\n報を提供する。したがって，現在のフレームのウィンドウ・タイプに\n基づいて，図６ｂの表のコラム６６４に示すように，所定のフレーム\nのためのビットストリーム１９２に含まれるウィンドウタイプ・ビッ\nトの数を変化させることができる。\n(ｵ)  オーディオデコーダ概説\n【００７９】  可変符号語長ウィンドウ情報２２４は，通常は，１フレ\nームにつき１または２ビットを含む。好ましくは，可変符号語長ウィ\nンドウ情報は，現在のフレームの「ｗｉｎｄｏｗ＿ｌｅｎｇｔｈ」情\n報を有する第１ビットおよび現在のフレームの「ｔｒａｎｓｆｏｒｍ\n＿ｌｅｎｇｔｈ」情報を有する第２ビットを含み，第２ビット（「ｔ\nｒａｎｓｆｏｒｍ＿ｌｅｎｇｔｈ」ビット）の存在は，第１ビット（「ｗ\nｉｎｄｏｗ＿ｌｅｎｇｔｈ」ビット）の値に依存している。このよう\nに，ウィンドウ・セレクタ２７０は，現在のフレームに関連する「ｗ\nｉｎｄｏｗ＿ｌｅｎｇｔｈ」ビットの値に基づいて，現在のフレーム\nに関連するウィンドウ・タイプについて決定するための１または２ウ\nィンドウ情報ビット（「ｗｉｎｄｏｗ＿ｌｅｎｇｔｈ」および「ｔｒ\nａｎｓｆｏｒｍ＿ｌｅｎｇｔｈ」）を選択的に評価するように構成さ\nれる。それにもかかわらず，「ｔｒａｎｓｆｏｒｍ＿ｌｅｎｇｔｈ」\nビットがない場合，ウィンドウ・セレクタ２７０は，当然，「ｔｒａ\nｎｓｆｏｒｍ＿ｌｅｎｇｔｈ」ビットがデフォルト値をとると仮定す\nることができる。\n【００８０】  好ましい実施例において，ウィンドウ・セレクタ２７０\nは，図６ａを参照して上述のように構文を評価して，ウィンドウ情報\nを前記構文に従って２７２に提供するように構成されることができる。\n【００８１】  まず，オーディオデコーダ２００が周波数領域コアモー\nドで常に作動すると仮定すると，すなわち，周波数領域コアモードと\n線形予測領域コアモードとの間で切り替えがないと過程すると，上述\nの５つのウィンドウ・タイプ（「ｏｎｌｙ＿ｌｏｎｇ＿ｓｅｑｕｅｎ\nｃｅ」「ｌｏｎｇ＿ｓｔａｒｔ＿ｓｅｑｕｅｎｃｅ」「ｌｏｎｇ＿ｓ\nｔｏｐ＿ｓｅｑｕｅｎｃｅ」「ｓｔｏｐ＿ｓｔａｒｔ＿ｓｅｑｕｅｎ\nｃｅ」および「ｅｉｇｈｔ＿ｓｈｏｒｔ＿ｓｅｑｕｅｎｃｅ」）を区\n別するのに十分である。この場合，前のフレームの「ｗｉｎｄｏｗ＿\nｌｅｎｇｔｈ」情報，現在のフレームの「ｗｉｎｄｏｗ＿ｌｅｎｇｔ\nｈ」情報および（利用できる場合）現在のフレームの「ｔｒａｎｓｆ\nｏｒｍ＿ｌｅｎｇｔｈ」情報は，ウィンドウ・タイプについて決める\nのに十分である。\n【００８２】  たとえば，（少なくとも３つの次のフレームのシーケン\nスを通じて）周波数領域コアモードのみにおける動作を仮定すると，\nそれは前のフレームの「ｗｉｎｄｏｗ＿ｌｅｎｇｔｈ」情報が長い移\n行傾斜（値「０」）を示し，そして，現在のフレームの「ｗｉｎｄｏ\nｗ＿ｌｅｎｇｔｈ」情報はウィンドウ・タイプ「ｏｎｌｙ＿ｌｏｎｇ\n＿ｓｅｑｕｅｎｃｅ」がこの場合エンコーダによって送信されない「ｔ\nｒａｎｓｆｏｒｍ＿ｌｅｎｇｔｈ」情報を評価しないで現在のフレー\nムに関連する長い移行傾斜（値「０」）を示すという事実から結論さ\nれることができる。\n【００８３】  また，周波数領域コアモードだけの動作を仮定すると，\n前のフレームの「ｗｉｎｄｏｗ＿ｌｅｎｇｔｈ」情報が長い（右側）\n移行傾斜を示すという事実から，そして，（この場合，エンコーダに\nよって生成されおよび／または送信されるか，生成されおよび／また\nは送信されない）現在のフレームの「ｔｒａｎｓｆｏｒｍ＿ｌｅｎｇ\nｔｈ」情報を評価しなかったとしても，現在のフレームの「ｗｉｎｄ\nｏｗ＿ｌｅｎｇｔｈ」情報が短い（右側）移行傾斜（値「１」）を示\nし，ウィンドウ・タイプ「ｌｏｎｇ＿ｓｔａｒｔ＿ｓｅｑｕｅｎｃｅ」\nが現在のフレームに関係しているという事実から結論されることがで\nきる。\n【００８４】  さらに，周波数領域コアモードだけの動作を仮定すると，\n前のフレームの「ｗｉｎｄｏｗ＿ｌｅｎｇｔｈ」情報が短い（右側）\n移行傾斜（値「１」）の存在を示し，そして，（いずれにしろ対応す\nるオーディオエンコーダによって通常は設けられていない）現在のフ\nレームの「ｔｒａｎｓｆｏｒｍ＿ｌｅｎｇｔｈ」情報を評価しなかっ\nたとしても，現在のフレームの「ｗｉｎｄｏｗ＿ｌｅｎｇｔｈ」情報\nが長い（右側）移行傾斜（値「０」）を示し，ウィンドウ・タイプ「ｌ\nｏｎｇ＿ｓｔｏｐ＿ｓｅｑｕｅｎｃｅ」が現在のフレームに関連する\nという事実から結論されることができる。\n【００８５】  しかしながら，前のフレームの「ｗｉｎｄｏｗ＿ｌｅｎ\nｇｔｈ」情報が短い（右側）移行傾斜の存在を示し，そして，現在の\nフレームの「ｗｉｎｄｏｗ＿ｌｅｎｇｔｈ」情報も短い移行傾斜（値\n「１」）の存在を示す場合，現在のフレームの「ｔｒａｎｓｆｏｒｍ\n＿ｌｅｎｇｔｈ」情報を評価することが必要かもしれない。この場合，\n現在のフレームの「ｔｒａｎｓｆｏｒｍ＿ｌｅｎｇｔｈ」情報が第１\nの値（例えばゼロ）をとる場合，ウィンドウ・タイプ「ｓｔｏｐ＿ｓ\nｔａｒｔ＿ｓｅｑｕｅｎｃｅ」は現在のフレームに関連している。そ\nうでなければ，すなわち，現在のフレームの「ｔｒａｎｓｆｏｒｍ＿\nｌｅｎｇｔｈ」情報が第２の値（例えば１）をとる場合，ウィンドウ・\nタイプ「ｅｉｇｈｔ＿ｓｈｏｒｔ＿ｓｅｑｕｅｎｃｅ」が現在のフレ\nームに関連すると結論されることができる。\n【００８６】  上記を要約すると，ウィンドウ・セレクタ２７０は，現\n在のフレームに関連するウィンドウ・タイプを決定するために，前の\nフレームの「ｗｉｎｄｏｗ＿ｌｅｎｇｔｈ」情報および現在のフレー\nムの「ｗｉｎｄｏｗ＿ｌｅｎｇｔｈ」情報を評価するように構成され\nる。さらに，現在のフレームの「ｗｉｎｄｏｗ＿ｌｅｎｇｔｈ」情報\nの値に基づいて（そして，場合により，前のフレームの「ｗｉｎｄｏ\nｗ＿ｌｅｎｇｔｈ」情報またはコアモード情報に基づいて），現在の\nフレームに関連するウィンドウ・タイプを決定するために，ウィンド\nウ・セレクタ２７０は，選択的に，現在のフレームの「ｔｒａｎｓｆ\nｏｒｍ＿ｌｅｎｇｔｈ」情報を考慮に入れるように構成される。この\nように，ウィンドウ・セレクタ２７０は，現在のフレームに関連する\nウィンドウ・タイプを決定するために，可変符号語長ウィンドウ情報\nを評価するように構成される。\n【００８７】  図６ｃは，現在のフレームのウィンドウ・タイプ上への\n前のフレームの「ｗｉｎｄｏｗ＿ｌｅｎｇｔｈ」情報，現在のフレー\nムの「ｗｉｎｄｏｗ＿ｌｅｎｇｔｈ」情報および現在のフレームの「ｔ\nｒａｎｓｆｏｒｍ＿ｌｅｎｇｔｈ」情報のマッピングを表す表を示す。\n現在のフレームの「ｗｉｎｄｏｗ＿ｌｅｎｇｔｈ」情報および現在の\nフレームの「ｔｒａｎｓｆｏｒｍ＿ｌｅｎｇｔｈ」情報は，可変符号\n語長ウィンドウ情報２２４によって表されることができる。現在のフ\nレームのウィンドウ・タイプは，ウィンドウ情報２７２によって表さ\nれることができる。図６ｃの表によって示されているマッピングは，\nウィンドウ・セレクタ２７０によって実行されることができる。\n２  請求項９の明確性について\n(1)  特許法３６条６項２号は，特許請求の範囲の記載に関し，特許を受けよう\nとする発明が明確でなければならない旨規定するが，同号がこのように規定\nした趣旨は，特許請求の範囲に記載された発明が明確でない場合には，特許\nが付与された発明の技術的範囲が不明確となり，権利者がどの範囲において\n独占権を有するのかについて予測可能性を奪うなど第三者の利益が不当に害\nされることがあり得るので，そのような不都合な結果を防止することにある。\nそして，特許を受けようとする発明が明確であるか否かは，特許請求の範囲\nの記載だけではなく，願書に添付した明細書の記載及び図面を考慮し，また，\n当業者の出願当時における技術常識を基礎として，特許請求の範囲の記載が，\n第三者の利益が不当に害されるほどに不明確であるか否かという観点から判\n断されるべきである。\n(2)  本件審決は，本件発明特定事項が不明確であると判断しているところ，本\n件発明特定事項は分説Ｇに含まれるから，まずは特許請求の範囲の記載に基\nづき分説Ｇの意義を検討する。\nア  分説Ｇ（「前記オーディオエンコーダは，前記可変長符号語を用いて，\n移行傾斜の選択と変換長の選択との間の依存関係または隣接するフレーム\nのウィンドウ形状の間の相関関係を利用するように構成される」）のうち，\n「前記可変長符号語」とは，分説Ｆの記載により，オーディオエンコーダ\nがウィンドウ情報を符号化するために用いるものであることが理解される。\nそして，分説Ｇの記載において，「前記可変長符号語を用いて」の部分\nは「利用する」にかかっていると解することができるから，分説Ｇは，①\nオーディオエンコーダは，前記可変長符号語を用いて，移行傾斜の選択と\n変換長の選択との間の依存関係を利用するように構成される（以下「分説\nＧ１」という。），又は②  オーディオエンコーダは，前記可変長符号語\nを用いて，隣接するフレームのウィンドウ形状の間の相関関係を利用する\nように構成される（以下「分説Ｇ２」という。）ことと同義であると理解\nできる。\nイ  分説Ｇ１の「移行傾斜の選択と変換長の選択との間の依存関係」につい\nて，分説Ｄによれば，「移行傾斜」として長い移行傾斜と短い移行傾斜の\n２つが存在し，「変換長」にも２つ以上の異なる長さが存在し，これらは\nウィンドウの特徴を示すものであることが読み取れるが，「移行傾斜」及\nび「変換長」によって表されるウィンドウの特徴がどのようなものである\nか明らかではないから，特許請求の範囲からは，可変長符号語を用いて符\n号化されるウィンドウ情報（分説Ｆ参照）と，「移行傾斜」と「変換長」\nによって表されるウィンドウの特徴がいかなる関係にあるのかは不明であ\nる。そうすると，分説Ｇ１の「可変長符号語を用い」ることと，「移行傾\n斜の選択と変換長の選択との間の依存関係」とがどのような技術的関係に\nあるのかも不明である。\nまた，分説Ｇ２の「隣接するフレームのウィンドウ形状の間の相関関係」\nの文言から，「フレーム」と「ウィンドウ形状」が対応する関係にあるこ\nとを読み取ることができるものの，「ウィンドウ形状」と，「ウィンドウ・\nタイプ」（分説Ｅ）ないし「ウィンドウのタイプ」（分説Ｆ）の関係も不\n明であり，隣接するフレームのウィンドウ形状の間にいかなる関係がある\nのかも明らかでないから，特許請求の範囲からは，可変長符号語を用いて\n符号化されるウィンドウ情報（分説Ｆ参照）と，「隣接するフレームのウ\nィンドウ形状」とがいかなる関係にあるのかは不明である。そうすると，\n分説Ｇ２の「可変長符号語を用い」ることと，「隣接するフレームのウィ\nンドウ形状の間の相関関係」とがどのような技術的関係にあるのかも不明\nである。\n(3)  このように，特許請求の範囲の記載からは分説Ｇの意義は明らかではない\nため，本件明細書の記載に基づいてその意義を検討する。\nア  分説Ｇ１について\n(ｱ)  上記１(2)オ(ｱ)の本件明細書の記載及び図１ａ，ｂからは，オーディ\nオエンコーダ１００は，ウィンドウ・シーケンス決定器１３８からウィ\nンドウ・タイプ情報１４０を受信し，それに基づいて，ウィンドウ化器\n／変換器１３６によって実行されるウィンドウ化／変換動作のために用\nいられるウィンドウのタイプを示す可変長符号語１８２を提供するよう\nに構成される可変長符号語エンコーダ１８０を含むこと，オーディオエ\nンコーダは，例えば可変長符号語エンコーダ１８０を用いて，可変長\n符号語を用いた入力オーディオ情報の現在の部分（例えばフレーム）\nを変換するために用いられるウィンドウのタイプを示すウィンドウ・\nタイプ情報１４０を符号化するように構成されることが理解できる 。\nそして，同(ｲ)の本件明細書の記載及び図３ａ，ｂからは，変換ウィン\nドウのタイプについて，第１のウィンドウ・タイプ（ｏｎｌｙ＿ｌｏｎｇ\n＿ｓｅｑｕｅｎｃｅ）として長い左側ウィンドウ傾斜及び長い右側ウィ\nンドウ傾斜並びに長い変換長を含むもの（段落【００４９】），第２のウ\nィンドウ・タイプ（ｌｏｎｇ＿ｓｔａｒｔ＿ｓｅｑｕｅｎｃｅ）として長\nい左側ウィンドウ傾斜及び短い右側ウィンドウ傾斜並びに長い変換長を\n含むもの（段落【００５０】），第３のウィンドウ・タイプ（ｌｏｎｇ＿\nｓｔｏｐ＿ｓｅｑｕｅｎｃｅ）として短い左側ウィンドウ傾斜及び長い\n右側ウィンドウ傾斜並びに長い変換長を含むもの（段落【００５１】），\n第４のウィンドウ・タイプ（ｓｔｏｐ＿ｓｔａｒｔ＿ｓｅｑｕｅｎｃｅ）\nとして短い左側ウィンドウ傾斜及び短い右側ウィンドウ傾斜並びに長い\n変換長を含むもの（段落【００５２】），第５のウィンドウ・タイプ（ｅ\nｉｇｈｔ＿ｓｈｏｒｔ＿ｓｅｑｕｅｎｃｅ）として短い左側ウィンドウ\n傾斜及び短い右側ウィンドウ傾斜並びに短い変換長を含むもの（段落【０\n０５３】）等があることが理解できる。\nさらに，同(ｴ)の本件明細書の記載及び図５，図６ａ，ｂ，図７ａ～ｃ\nからは，ウィンドウのタイプの符号化に関し，右側ウィンドウ傾斜が長\nいことを示す「ｗｉｎｄｏｗ＿ｌｅｎｇｔｈ」（判決注：「移行傾斜」に\n対応する。）が「０」であれば，変換長は常に長い変換長となり，「ｔｒ\nａｎｓｆｏｒｍ＿ｌｅｎｇｔｈ」（判決注：「変換長」に対応する。）の\n値を省略することができることから，可変長符号語エンコーダ１８０は，\n現在のフレームのウィンドウの右側ウィンドウ傾斜が長い場合，現在の\nフレームの１ビット「ｗｉｎｄｏｗ＿ｌｅｎｇｔｈ」情報だけを含む１\nビット符号語のみを提供し，現在のフレームの右側ウィンドウ傾斜が短\nい場合，１ビットの「ｗｉｎｄｏｗ＿ｌｅｎｇｔｈ」情報及び１ビットの\n「ｔｒａｎｓｆｏｒｍ＿ｌｅｎｇｔｈ」情報を含む２ビット符号語を提\n供することにより，現在のフレームのウィンドウの右側ウィンドウ傾斜\nが長い場合，１ビットが節約されることが理解される。\n(ｲ)  以上によれば，本件明細書には，右側の移行傾斜が長いウィンドウに\nは短い変換長が選ばれることはないという関係があることから，このよ\nうな関係を利用して可変長符号語を得ることが記載されていると理解で\nき，本件明細書の段落【００１４】の「移行傾斜の選択と変換長の選択\nとの間の依存関係」も，右側の移行傾斜が長いウィンドウには短い変換\n長が選ばれることはないという関係を意味すると解される。\nしたがって，本件明細書には，オーディオエンコーダにおいて，この\nような「移行傾斜の選択と変換長の選択との間の依存関係」を利用する\nことにより可変長符号語を得ることが記載されているということができ\nる。なお，被告は，本件明細書の段落【００６３】～【００６７】が「可\n変長符号語エンコーダ」についての記載であることを理由に，これらの段\n落の記載は，請求項９の「オーディオエンコーダ」に関する記載と対応し\nていないと主張するが，「可変長符号語エンコーダ」はオーディオエンコ\nーダに含まれており，オーディオエンコーダに含まれる可変長符号語エン\nコーダがウィンドウ・タイプ情報の符号化をするように構成されているこ\nとは，実施例にすぎないと解されるから（上記(ｱ)参照），上記段落の記\n載は請求項９のオーディオエンコーダに関する記載と理解することがで\nき，この点に関する被告の主張は採用できない。\n(ｳ)  これに対し，特許請求の範囲の請求項９には，オーディオエンコーダ\nにおいて可変長符号語がいかなる方法により符号化されるかについて特\n定する記載はなく，分説Ｇ１には，オーディオエンコーダが，「前記（判\n決注：分説Ｆに記載の）可変長符号語を用いて」何らかの方法により「移\n行傾斜の選択と変換長の選択との間の依存関係」「を利用する」ことが\n記載されているものと解さざるを得ない。そうすると，分説Ｇ１の記載\nは，上記の本件明細書から読み取れる，オーディオエンコーダが「移行\n傾斜の選択と変換長の選択との間の依存関係」を利用して可変長符号語\nを得ることとは異なるものというほかなく，本件明細書の記載を参照し\nても，分説Ｇ１に記載された，オーディオエンコーダが「前記可変長符\n号語を用いて」「依存関係を利用する」ことの意義は明らかではないと\n言わざるを得ない。\n(ｴ)  以上のとおりであるから，本件明細書の記載を参酌しても，分説Ｇ１\nの技術的意義を理解することができない。\nイ  分説Ｇ２について\n(ｱ)  上記１(2)オ(ｳ)の本件明細書の記載及び図４からは，変換ウィンドウ・\nタイプ間の移行について，第１のフレームのためのウィンドウ・タイプ\nによって，第２のフレームのためのウィンドウ・タイプの種類の選択が\n制限されることが理解され，これによれば「隣接するフレームのウィン\nドウ・タイプの種類の間に一定の関係がある」ということができる。\nそして，分説Ｇ２には「隣接するフレームのウィンドウ形状の間の相\n関関係」との記載があるから，分説Ｇ２の「ウィンドウ形状」と上記の\n本件明細書の「ウィンドウ・タイプ」の関係が問題となる。\n(ｲ)  本件明細書には「ウィンドウ形状」と「ウィンドウ・タイプ」が同義\nであることを明示した記載はなく，段落【０１０２】の記載（「このよ\nうに，本発明による実施例において，「ウィンドウ形状」，すなわち移\n行の形は，ウィンドウ・タイプ，すなわち移行傾斜の一般の長さ（長い\nか短い）および変換長の一般の長さ（長いか短い）とは別に決定される。」）\nからは，「ウィンドウ形状」と「ウィンドウ・タイプ」が異なる概念で\nあると解し得る。そして，両者が異なる概念であるとすると，上記(ｱ)の\n「隣接するフレームのウィンドウ・タイプの種類の間に関係があること」\nから分説Ｇ２の「隣接するフレームのウィンドウ形状の間の相関関係」\nの意義を理解することはできない。加えて，本件明細書には「ウィンド\nウ形状」と可変長符号語とがどのような関係に立つかについて記載した\n箇所も存在しないから，本件明細書から分説Ｇ２における「前記可変長\n符号語を用いて」「隣接するフレームのウィンドウ形状の間の相関関係」\n「を利用する」ことの意味を理解することはできない。\n(ｳ)  ここで，仮に「ウィンドウ形状」と「ウィンドウ・タイプ」が同義で\nあるものとして検討すると，上記(ｱ)における隣接するフレームのウィン\nドウ・タイプの種類の間の関係と分説Ｇ２の「隣接するフレームのウィ\nンドウ形状の間の相関関係」及び本件明細書の段落【００１５】の「隣\n接するフレームのウィンドウ形状間に概して相関がある点」とは，いず\nれも，隣接するウィンドウのウィンドウ形状（すなわち，ウィンドウ・\nタイプ）が現在のフレームのためのウィンドウ形状（すなわち，ウィン\nドウ・タイプ）の選択を制限するという関係にあることを示すものと理\n解することが可能である。そして，上記１(2)オ(ｴ)のウィンドウのタイ\nプの符号化に関する本件明細書の記載を考慮すれば，本件明細書の記載\nから，オーディオエンコーダにおいて，このような「隣接するフレーム\nのウィンドウ形状（すなわち，ウィンドウ・タイプ）間の相関関係」を\n利用することにより可変長符号語を得るという技術思想を読み取る余地\nがある。\nしかし，上記ア(ｳ)に説示したとおり，特許請求の範囲の請求項９には，\nオーディオエンコーダにおいて可変長符号語がいかなる方法により符号\n化されるかについて特定する記載はなく，分説Ｇ２には，オーディオエ\nンコーダが，「前記（判決注：分説Ｆに記載の）可変長符号語を用いて」\n何らかの方法により「隣接するフレームのウィンドウ形状の間の相関関\n係」「を利用する」ことが記載されていると解さざるを得ない。そうす\nると，分説Ｇ２の記載は，上記のとおり本件明細書から読み取れる，オ\nーディオエンコーダが「隣接するフレームのウィンドウ形状（ウィンド\nウ・タイプ）間の相関関係」を利用して可変長符号語を得ることとは異\nなるものというほかなく，本件明細書の記載を参照しても，分説Ｇ２に\n記載された，オーディオエンコーダが「前記可変長符号語を用いて」「相\n関関係を利用する」ことの意義は明らかではないと言わざるを得ない。\n(ｴ)  以上のとおりであるから，本件明細書の記載を参酌しても，分説Ｇ２\nの技術的意義を理解することができない。\n(4)  このように，分説Ｇ１及び分説Ｇ２の意義は明らかでなく，分説Ｇの技術\n的意義は不明ということになるから，特許請求の範囲の請求項９の記載は明\n確性要件を充足しないというべきである。\n３  請求項１３の明確性について\n本願発明１３は入力オーディオ情報に基づいて符号化オーディオ情報を提供\nする方法の発明であり，請求項１３には「可変長符号語を用いて，移行傾斜の\n選択と変換長の選択との間の依存関係または隣接するフレームのウィンドウ形\n状の間の相関関係が利用される，方法」との記載がある。\nこの部分についても，上記２(2)アと同様，①  可変長符号語を用いて，移行\n傾斜の選択と変換長の選択との間の依存関係が利用される，又は②  可変長符\n号語を用いて，隣接するフレームのウィンドウ形状の間の相関関係が利用され\nることが記載されていると解することができる。そして，上記２(3)において述\nべたのと同様に，請求項１３の「可変長符号語を用いて」「依存関係」又は「相\n関関係」「が利用される」ことと，本件明細書から読み取れる技術思想は異な\nるものというべきであるから，本件明細書の記載を参酌しても，請求項１３の\n「可変長符号語を用いて，移行傾斜の選択と変換長の選択との間の依存関係ま\nたは隣接するフレームのウィンドウ形状の間の相関関係が利用される」の技術\n的意義を理解することはできない。\nしたがって，特許請求の範囲の請求項１３の記載も明確性要件を充足しない\nというべきである。\n４  原告の主張について\n(1)  原告は，本件明細書の記載（段落【００５７】～【００５９】，【００６\n３】～【００７１】）から「移行傾斜の選択と変換長の選択との間の依存関\n係」及び「隣接するフレームのウィンドウ形状の間の相関関係」の意義は明\nらかであり，本願発明９に係るオーディオエンコーダ１００は，分説Ｆ及び\n分説Ｇの構成により，低減されたビット要求でウィンドウ・タイプを示すウ\nィンドウ情報１４０の符号化を可能にするといった特有の効果を有するから，\n分説Ｇはオーディオエンコーダにおける技術事項を特定しており，本願発明\n９の特許請求の範囲の記載は明確性要件を満たすと主張する。\nしかし，本件明細書の記載から「移行傾斜の選択と変換長の選択との間の\n依存関係」及び「隣接するフレームのウィンドウ形状の間の相関関係」の意\n義が理解できるとしても，分説Ｇにおける，「可変長符号語を用いて」「移\n行傾斜の選択と変換長の選択との間の依存関係」又は「隣接するフレームの\nウィンドウ形状の間の相関関係」「を利用する」ことの意義が明らかではな\nいのは，上記３(3)において説示したとおりであり，原告の主張は採用できな\nい。\n(2)  原告は，特許請求の範囲の請求項１に記載されたオーディオデコーダの発\n明における復号化処理と本願発明９のオーディオエンコーダにおける符号化\n処理は概念的に共通する処理が含まれているところ，特許請求の範囲の請求\n項１の記載の明確性は否定されていないのであるから，これに対応する請求\n項９の記載も明確性要件を満たす旨主張する。\n本件明細書の上記１(2)エ(ｵ)の記載及び図６ａ，ｃからは，オーディオデ\nコーダのウィンドウ・セレクタは，現在のフレームに関連するウィンドウ・\nタイプを決定するために，前のフレーム及び現在のフレームの「ｗｉｎｄｏ\nｗ＿ｌｅｎｇｔｈ」情報を評価し，現在のフレームの「ｗｉｎｄｏｗ＿ｌｅ\nｎｇｔｈ」情報の値に基づいて，選択的に現在のフレームの「ｔｒａｎｓｆ\nｏｒｍ＿ｌｅｎｇｔｈ」情報を考慮するように構成されることが理解され，\nこのような復号化の処理は，本件明細書から理解されるオーディオエンコー\nダによる符号化の処理（上記２(3)ア(ｱ)）と対応するものと言う余地がある。\nしかし，特許請求の範囲の記載におけるオーディオデコーダに関する記載\n（請求項１の「可変符号語長のウィンドウ情報（２２４）を評価するように\n構成されるウィンドウ・セレクタ（２７０）を含み，」「前記可変符号語長\nのウィンドウ情報を用いて，移行傾斜の選択と変換長の選択との間の依存関\n係または隣接するフレームのウィンドウ形状の間の相関関係を利用するよう\nに構成される」）と，オーディオエンコーダに関する記載（分説Ｇの「前記\n可変長符号語を用いて，移行傾斜の選択と変換長の選択との間の依存関係ま\nたは隣接するフレームのウィンドウ形状の間の相関関係を利用するように構\n成される」）は，復号化処理と符号化処理の観点からみて対応した記載には\nなっていない。\nしたがって，原告の主張する点は上記３の判断を左右するものではない。\n５  以上のとおりであるから，特許請求の範囲の請求項９及び請求項１３の記載\nは明確性要件を充足しないとした本件審決の判断に誤りはない。\nよって，原告の請求は理由がないから，これを棄却することとして主文のと\nおり判決する。\n知的財産高等裁判所第３部\n裁判長裁判官\n鶴岡稔 彦\n裁判官\n高 橋   彩\n裁判官\n寺田利 彦\n（別紙）\n本件明細書図面目録\nＦＩＧＵＲＥ  ４\nＦＩＧＵＲＥ  ５\nＦＩＧＵＲＥ  ６Ａ\nＦＩＧＵＲＥ  ６Ｂ\nＦＩＧＵＲＥ  ６Ｃ\nＦＩＧＵＲＥ  ７Ａ\nＦＩＧＵＲＥ  ７Ｂ\nＦＩＧＵＲＥ  ７Ｃ\n"
}